{"title": "【Python】LeetCode 238. Product of Array Except Self - 追不上乌龟的兔子 ", "index": "算法,python", "content": "题目描述\nGiven an array of n integers where n > 1, nums, return an array output such that output[i] is equal to the product of all the elements of nums except nums[i].\nSolve it without division and in O(n).\nFor example, given [1,2,3,4], return [24,12,8,6].\n题目解析\n简单来说就是对于数组中每一项，求其他项之积。\n解题思路\n对于每一项硬算其他项之积\n恭喜你，你超时了。\n算一遍全部元素的积再分别除以每一项\n要仔细考虑元素为零的情况。\n没有零\n直接除下去。\n一个零\n零的位置对应值为其他元素之积，其他位置为零。\n两个以上的零\n全部都是零。\nAC代码\nclass Solution(object):\n    def productExceptSelf(self, nums):\n        \"\"\"\n        :type nums: List[int]\n        :rtype: List[int]\n        \"\"\"\n        try:\n            from functools import reduce\n        finally:\n            pass\n        res = []\n        zeros = nums.count(0)\n        if zeros == 0:\n            product = reduce(lambda x, y: x * y, nums)\n            res = [product // x for x in nums]\n        elif zeros == 1:\n            now = nums[::]\n            pos = now.index(0)\n            del now[pos]\n            product = reduce(lambda x, y: x * y, now)\n            res = [0 if x != pos else product for x in range(len(nums))]\n        else:\n            res = [0] * len(nums)\n        return res\n总结\n遇事多思考，轻易不要循环。\n\n                ", "mainLikeNum": ["0 "], "mainBookmarkNum": "0"}