{"title": "很好的东西 - 小六六打小捏捏 ", "index": "python", "content": "博主一开始使用python2.7和Opencv2.4.10来获取摄像头图像，程序如下：\n [plain] view plain copy 在CODE上查看代码片派生到我的代码片\n    cap = cv2.VideoCapture(0)  \n    ret, frame = cap.read()  \n\n使用这个程序能够打开摄像头并获取图像，一切正常。\n   接着想使用OpenCv播放视频，按照官方教程只要将VideoCapture的变量0修改为视频文件名即可，程序如下：\n[plain] view plain copy 在CODE上查看代码片派生到我的代码片cap = cv2.VideoCapture(\"fliename\")  ret, frame = cap.read()\n但是始终无法获取视频图像，貌似这个问题很普遍，以至在官方教程的程序下面都提示说请确认ffmpeg或者gstreamer已经正确安装。解决办法：有两种办法：\n两种方法都需要完成的共同一步是：   找到opencv安装路径下的\\sources\\3rdparty\\ffmpeg文件夹，如D:\\soft setup pack\\Python_setpack\\opencv\\sources\\3rdparty\\ffmpeg。将文件夹中的opencv_ffmpeg.dll文件名修改为opencv_ffmpeg2410.dll，如果你安装的是opencv2.4.9，那就修改成opencv_ffmpeg249.dll。其他版本依次类推。如果你是64位的系统，那就修改opencv_ffmpeg_64.dll文件名为opencv_ffmpeg2410_64.dll。   方法1：将opencv_ffmpeg2410.dll复制到E:\\programming soft\\python2.7文件夹下即可，其中E:\\programming soft\\为python安装路径。   方法2：在windows的环境变量中添加上D:\\soft setup pack\\Python_setpack\\opencv\\sources\\3rdparty\\ffmpeg，其中D:\\soft setup pack\\Python_setpack\\为博主电脑上OpenCv的安装路径。具体过程：   点击电脑开始栏-->在命令行输入path，得到如下图所示界面，找到path一栏，输入路径。\n例程：\n   最后贴出一段读取播放视频的完整例程，程序中将彩色图像转化为了灰度图像：\n[python] view plain copy 在CODE上查看代码片派生到我的代码片import numpy as np  import cv2  \ncap = cv2.VideoCapture('Person.wmv')  \nwhile(cap.isOpened()):\n  \nret, frame = cap.read()  \nif frame is None:  \n    break  \ngray = cv2.cvtColor(frame, cv2.COLOR_BGR2GRAY)  \n\ncv2.imshow('frame',gray)  \nif cv2.waitKey(1) & 0xFF == ord('q'):  \n    break  \n\ncap.release()  cv2.destroyAllWindows()\n\n                ", "mainLikeNum": ["0 "], "mainBookmarkNum": "1"}