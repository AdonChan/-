{"title": "Neo4j校验密码生成代码（Python） - 个人文章 ", "index": "python,nosql,图", "content": "在Neo4j的数据目录下有一个dbms目录，里面存储的是身份校验文件auth：\n[root@datanode data]# ll\ntotal 0\ndrwxr-xr-x 3  112 nfsnobody 21 Jan 29 14:34 databases\ndrwxr-xr-x 2 root root      17 Jan 29 14:36 dbms\n\n[root@datanode dbms]# ls\nauth\n\n查看auth文件：\n[root@datanode dbms]# cat auth\nneo4j:SHA-256,0A9FC5A9A9C368A3FD2E41F9BB024AAA3CA8808B3428A4EE2D72B13703A7AD5E,FADA2AD5718A00B0DAB07735FFD16038:\n文件的内容比较简单，形式是“用户名:加密算法,<根据原始密码生成的密码>,<加密的salt盐>”。如果忘记密码或者想修改密码时，可以手工配置或替换此文件。Python代码如下：\nPython 3.x：\nimport hashlib\nimport codecs\n\nusername = input(\"please input your username: \")\npasswd = input(\"please input your password: \")\nsalt = input(\"please input salt: \")\n\nsalt_byte = bytes(salt.encode())\npasswd_byte = codecs.encode(passwd.encode(), 'hex')\n\nsalt_pass = bytearray.fromhex((salt_byte + passwd_byte).decode())\n\nprint(username + \":\" + \"SHA-256,\" + hashlib.sha256(salt_pass).hexdigest().upper() + \",\" + salt.upper() + \":\")\nPython 2.x：\nfrom __future__ import print_function\nimport hashlib\nimport codecs\n\nusername = raw_input(\"please input your username: \")\npasswd = raw_input(\"please input your password: \")\nsalt = raw_input(\"please input salt: \")\n\nsalt_byte = bytes(salt.encode())\npasswd_byte = codecs.encode(passwd.encode(), 'hex')\n\nsalt_pass = bytearray.fromhex((salt_byte + passwd_byte).decode())\n\nprint(username + \":\" + \"SHA-256,\" + hashlib.sha256(salt_pass).hexdigest().upper() + \",\" + salt.upper() + \":\")\n参考链接：\n\nhttps://stackoverflow.com/que...\nhttp://blog.csdn.net/wjzhangc...\n\n\n                ", "mainLikeNum": ["0 "], "mainBookmarkNum": "0"}