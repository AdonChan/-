{"title": "基于whoosh实现的flask全文搜索插件 - Hello World ", "index": "flask,python", "content": "flask 貌似很少全文搜索的插件,有一个 Flask-WhooshAlchemy , 但试了几次都用不了,所以参考 Flask-WhooshAlchemy 自己写了一个\n\nQuickstart\n插件基于 whoosh,纯 python 编写,使用上很简单\nfrom flask_msearch import Search\n[...]\nsearch = Search()\nsearch.init_app(app)\n\n# models.py\nclass Post(db.Model):\n    __tablename__ = 'post'\n    __searchable__ = ['title', 'content']\n\n# views.py\n@app.route(\"/search\")\ndef w_search():\n    keyword = request.args.get('keyword')\n    results = search.whoosh_search(Post,query=keyword,fields=['title'],limit=20)\n    return ''\n\n\nUsage\n\n创建更新删除索引\n如果要对已存在的数据创建索引(全部)\n# 创建\nsearch.create_index()\n# 更新\nsearch.create_index(update=True)\n# 删除\nsearch.create_index(delete=True)\n\n如果只想要为指定的表创建索引\nsearch.create_index(Model)\n\n\n自定义analyzer\n比如使用jieba的中文分词\nfrom jieba.analyse import ChineseAnalyzer\nsearch = Search(analyzer=ChineseAnalyzer())\n\n\nConfigure\nWHOOSH_BASE = 'whoosh_index'\nWHOOSH_ENABLE = True\n\n项目地址:https://github.com/honmaple/f...演示: demo\n\n                ", "mainLikeNum": ["0 "], "mainBookmarkNum": "2"}