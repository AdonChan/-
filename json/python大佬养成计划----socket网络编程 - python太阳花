{"title": "python大佬养成计划----socket网络编程 - python太阳花 ", "index": "python", "content": "网络通信的三要素\nIP\n通信的时候， 双方必须知道对方的标识， 好比发邮件必须知道对方的邮件地址。 互联网上每个计算机的唯一标识就是IP地址， 类似 123.123.123.123 。\nIP地址实际上是一个32位整数（称为IPv4） ， 以字符串表示的IP地址，如 192.168.0.1 实际上是把32位整数按8位分组后的数字表示， 目的是便于阅读。\n\nIPv6地址实际上是一个128位整数， 它是目前使用的IPv4的升级版， 以字符串表示。类似于 2001:0db8:85a3:0042:1000:8a2e:0370:7334 。\n\n端口port\n在两台计算机通信时， 只发IP地址是不够的， 因为同一台计算机上跑着多个网络程序。 一个IP包来了之后， 到底是交给浏览器还是QQ， 就需要端口号来区分。\n 每个网络程序都向操作系统申请唯一的端口号， 这样， 两个进程在两台计算机之间建立网络连接就需要各自的IP地址和各自的端口号。\nTCP/UDP协议\n为了把全世界的所有不同类型的计算机都连接起来， 就必须规定一套全球通用的协议,大家把互联网的协议简称TCP/IP协议\nsocket编程\nSocket是网络编程的一个抽象概念。 通常我们用一个Socket表示“打开了一个网络链接”， 而打开一个Socket需要知道目标计算机的IP地址和端口号， 再指定协议类型即可。\nimport socket\n# socket.gethostname()当不传入参数时，返回本机主机名\nprint(socket.gethostname()) #DESKTOP-EN0LQJH\n\n#域名（英语：Domain Name），简称域名、网域，是由一串用点分隔的名字组成的Internet上某一台计算机或计算机组的名称\n#通过域名查找服务器IP地址\nprint(socket.gethostbyname('www.baidu.com'))    #119.75.216.20\n\n#通过一个IPv4的地址来获取主机信息\nprint(socket.gethostbyaddr('114.114.114.114'))\n\n#通过IP/port组合，访问服务器信息\n# 如果是AF_INET则格式为：(address, port)，如果为AF_INET6，则返回(address, port, flow info, scope id)\n\nprint(socket.getaddrinfo('www.xunlei.com',80))\n\n用socket实现简易的web服务器\nimport socket\ndef reply_info(socketObj):\n    # socketObj.send('ok')\n    with open('hello.html') as f:\n        socketObj.send(f.read().encode('utf-8'))\nif __name__==\"__main__\":\n    #1. 创建socket对象\n    socket_server = socket.socket()\n    #2. 绑定IP和端口\n    socket_server.bind(('192.168.1.165',9999))\n    print(\"服务器端已经启动9999端口......\")\n    #3. 监听是否有客户端连接\n    socket_server.listen(5)\n\n    while True:\n        # 4. 接受客户端的连接\n        socket_client,address = socket_server.accept()\n        # 5. 接收客户端发来的信息\n        data = socket_client.recv(1024)\n        # 6. 与客户端进行交互， 返回给客户端信息\n        reply_info(socket_server)\n        socket_server.close()\n图过后贴上\n\n                ", "mainLikeNum": ["0 "], "mainBookmarkNum": "0"}