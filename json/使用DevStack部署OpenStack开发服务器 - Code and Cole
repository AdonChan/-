{"title": "使用DevStack部署OpenStack开发服务器 - Code and Cole ", "index": "devstack,openstack,python", "content": "1.前期准备：\n    0x00 Ubuntu Server 14.04\n    0x01 Git\n    0x02 DevStack\n\n2.配置安装好服务器OS后，在指定目录下，键入git clone git://github.com/openstack-dev/devstack.git克隆远程devstack到本地。\n3.进入devstack存在的目录下，./stack.sh执行安装脚本。\n第一次运行stack.sh时，会指示输入一连串密码。以后再运行stack.sh，就不会要求输入密码了，因为第一次输入的密码已经被保存在localrc中了，再次运行时将默认使用该密码。（11.10里有bug，不会在home里的devstack下生成localrc，但是/opt/stack/devstack下还是会有localrc。）\n4.根据脚本提示输入想要配置的密码就可以了，然后stack就会自动安装openstack的各个服务以及它们的种种依赖（包括Rabbitmq etc.）\n5.如果遇到图1.1的报错信息，那么说明你的devstack还不太稳定，会出现奇怪的bug：\nstack.sh在部署好openstack组件组件之后，有一步是安装一个仅为6M的小image（stack.sh里叫做InstallImages），用来做demo用的，但是在运行到 TOKEN=$(keystone token-get | grep ‘ id ‘ |get_field2)这句时，TOKEN获得的内容为空，导致后面用glance创建三个image时所使用的TOKEN不正确，因此无法创建，stack.sh中断运行。需要注释掉一段代码后（也就是不需要为demo项目自动创建镜像），继续运行stack.sh。\n 图1.1下面的图1.2是需要在stack.sh中注释掉的内容，大概在文件中的位置是1216行左右。图1.2\n6.然后需要killall screen&killall python后，继续运行安装脚本就ok啦。7.完结撒花\n\n                ", "mainLikeNum": ["0 "], "mainBookmarkNum": "6"}