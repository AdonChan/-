{"title": "免费的货币汇率API - Android、IOS开发 ", "index": "python,php,api", "content": "先上API文档链接：https://www.juhe.cn/docs/api/...，支持人民币牌价、外汇汇率查询；数据仅供参考，交易时以银行柜台成交价为准。\n人民币牌价\n接口地址：http://web.juhe.cn:8080/finan...支持格式：json请求方式：get请求示例：http://web.juhe.cn:8080/finan...您申请的APPKEY接口备注：100外币兑人民币JSON返回示例：\n{  \n\"resultcode\":\"200\",  \n\"reason\":\"SUCCESSED!\",  \n\"result\":[  \n    {  \n    \"data1\":{  \n        \"name\":\"英镑\",                 /*货币名称*/  \n        \"fBuyPri\":\"1001.430\",            /*现汇买入价*/  \n        \"mBuyPri\":\"970.510\",             /*现钞买入价*/  \n        \"fSellPri\":\"1009.480\",           /*现汇卖出价*/  \n        \"mSellPri\":\"1009.480\",           /*现钞卖出价*/  \n        \"bankConversionPri\":\"1014.870\",      /*银行折算价/中间价*/  \n        \"date\":\"2012-12-13\",             /*发布日期*/  \n        \"time\":\"16:25:49\"            /*发布时间*/  \n    },  \n    \"data2\":{  \n        \"name\":\"港币\",  \n        \"fBuyPri\":\"80.210\",  \n        \"mBuyPri\":\"79.570\",  \n        \"fSellPri\":\"80.520\",  \n        \"mSellPri\":\"80.520\",  \n        \"bankConversionPri\":\"81.140\",  \n        \"date\":\"2012-12-13\",  \n        \"time\":\"16:25:49\"  \n    },  \n    \"data3\":{  \n        \"name\":\"美元\",  \n        \"fBuyPri\":\"621.650\",  \n        \"mBuyPri\":\"616.670\",  \n        \"fSellPri\":\"624.150\",  \n        \"mSellPri\":\"624.150\",  \n        \"bankConversionPri\":\"628.870\",  \n        \"date\":\"2012-12-13\",  \n        \"time\":\"16:25:49\"  \n    },  \n    \"data4\":{  \n        \"name\":\"瑞士法郎\",  \n        \"fBuyPri\":\"670.310\",  \n        \"mBuyPri\":\"649.620\",  \n        \"fSellPri\":\"675.700\",  \n        \"mSellPri\":\"675.700\",  \n        \"bankConversionPri\":\"674.350\",  \n        \"date\":\"2012-12-13\",  \n        \"time\":\"16:25:49\"  \n    },  \n    \"data5\":{  \n        \"name\":\"新加坡元\",  \n        \"fBuyPri\":\"508.300\",  \n        \"mBuyPri\":\"492.610\",  \n        \"fSellPri\":\"512.390\",  \n        \"mSellPri\":\"512.390\",  \n        \"bankConversionPri\":\"512.000\",  \n        \"date\":\"2012-12-13\",  \n        \"time\":\"16:25:49\"  \n    },  \n    \"data6\":{  \n        \"name\":\"瑞典克朗\",  \n        \"fBuyPri\":\"93.340\",  \n        \"mBuyPri\":\"90.450\",  \n        \"fSellPri\":\"94.090\",  \n        \"mSellPri\":\"94.090\",  \n        \"bankConversionPri\":\"93.770\",  \n        \"date\":\"2012-12-13\",  \n        \"time\":\"16:25:49\"  \n    },  \n    \"data7\":{  \n        \"name\":\"丹麦克朗\",  \n        \"fBuyPri\":\"108.920\",  \n        \"mBuyPri\":\"105.550\",  \n        \"fSellPri\":\"109.790\",  \n        \"mSellPri\":\"109.790\",  \n        \"bankConversionPri\":\"109.430\",  \n        \"date\":\"2012-12-13\",  \n        \"time\":\"16:25:49\"  \n    },  \n    \"data8\":{  \n        \"name\":\"挪威克朗\",  \n        \"fBuyPri\":\"110.490\",  \n        \"mBuyPri\":\"107.080\",  \n        \"fSellPri\":\"111.380\",  \n        \"mSellPri\":\"111.380\",  \n        \"bankConversionPri\":\"111.060\",  \n        \"date\":\"2012-12-13\",  \n        \"time\":\"16:25:49\"  \n    },  \n    \"data9\":{  \n        \"name\":\"日元\",  \n        \"fBuyPri\":\"7.431\",  \n        \"mBuyPri\":\"7.201\",  \n        \"fSellPri\":\"7.483\",  \n        \"mSellPri\":\"7.483\",  \n        \"bankConversionPri\":\"7.531\",  \n        \"date\":\"2012-12-13\",  \n        \"time\":\"16:25:49\"  \n    },  \n    \"data10\":{  \n        \"name\":\"加拿大元\",  \n        \"fBuyPri\":\"630.950\",  \n        \"mBuyPri\":\"611.470\",  \n        \"fSellPri\":\"636.010\",  \n        \"mSellPri\":\"636.010\",  \n        \"bankConversionPri\":\"638.800\",  \n        \"date\":\"2012-12-13\",  \n        \"time\":\"16:25:49\"  \n    },  \n    \"data11\":{  \n        \"name\":\"澳大利亚元\",  \n        \"fBuyPri\":\"654.900\",  \n        \"mBuyPri\":\"634.680\",  \n        \"fSellPri\":\"660.160\",  \n        \"mSellPri\":\"660.160\",  \n        \"bankConversionPri\":\"663.300\",  \n        \"date\":\"2012-12-13\",  \n        \"time\":\"16:25:49\"  \n    },  \n    \"data12\":{  \n        \"name\":\"欧元\",  \n        \"fBuyPri\":\"812.520\",  \n        \"mBuyPri\":\"787.430\",  \n        \"fSellPri\":\"819.040\",  \n        \"mSellPri\":\"819.040\",  \n        \"bankConversionPri\":\"821.960\",  \n        \"date\":\"2012-12-13\",  \n        \"time\":\"16:25:49\"  \n    },  \n    \"data13\":{  \n        \"name\":\"澳门元\",  \n        \"fBuyPri\":\"77.910\",  \n        \"mBuyPri\":\"75.300\",  \n        \"fSellPri\":\"78.210\",  \n        \"mSellPri\":\"80.720\",  \n        \"bankConversionPri\":\"78.320\",  \n        \"date\":\"2012-12-13\",  \n        \"time\":\"16:25:49\"  \n    },  \n    \"data14\":{  \n        \"name\":\"菲律宾比索\",  \n        \"fBuyPri\":\"15.100\",  \n        \"mBuyPri\":\"14.640\",  \n        \"fSellPri\":\"15.220\",  \n        \"mSellPri\":\"15.690\",  \n        \"bankConversionPri\":\"15.220\",  \n        \"date\":\"2012-12-13\",  \n        \"time\":\"16:25:49\"  \n    },  \n    \"data15\":{  \n        \"name\":\"泰国铢\",  \n        \"fBuyPri\":\"20.240\",  \n        \"mBuyPri\":\"19.620\",  \n        \"fSellPri\":\"20.400\",  \n        \"mSellPri\":\"21.030\",  \n        \"bankConversionPri\":\"20.390\",  \n        \"date\":\"2012-12-13\",  \n        \"time\":\"16:25:49\"  \n    },  \n    \"data16\":{  \n        \"name\":\"新西兰元\",  \n        \"fBuyPri\":\"524.400\",  \n        \"mBuyPri\":\"0.000\",  \n        \"fSellPri\":\"528.610\",  \n        \"mSellPri\":\"0.000\",  \n        \"bankConversionPri\":\"526.770\",  \n        \"date\":\"2012-12-13\",  \n        \"time\":\"16:25:49\"  \n    },  \n    \"data17\":{  \n        \"name\":\"韩国元\",  \n        \"fBuyPri\":\"0.000\",  \n        \"mBuyPri\":\"0.560\",  \n        \"fSellPri\":\"0.000\",  \n        \"mSellPri\":\"0.608\",  \n        \"bankConversionPri\":\"0.586\",  \n        \"date\":\"2012-12-13\",  \n        \"time\":\"16:25:49\"  \n    }  \n    }  \n    ]  \n}  \n外汇汇率\n接口地址：http://web.juhe.cn:8080/finan...支持格式：json请求方式：get请求示例：http://web.juhe.cn:8080/finan...您申请的APPKEYJSON返回示例：\n{  \n        \"error_code\":0,  \n    \"resultcode\":\"200\",  \n    \"reason\":\"SUCCESSED!\",  \n    \"result\":[  \n    {  \n        \"data1\":{  \n            \"code\":\"JPY\",            /*货币代码*/  \n            \"currency\":\"美元日元\",        /*货币名称*/  \n            \"closePri\":\"83.41\",        /*最新价*/  \n            \"diffPer\":\"0.19%\",        /*涨跌%*/  \n            \"diffAmo\":\"0.16\",        /*涨跌金额*/  \n            \"openPri\":\"83.25\",        /*开盘价*/  \n            \"highPic\":\"83.67\",        /*最高价*/  \n            \"lowPic\":\"83.1\",        /*最低价*/  \n            \"range\":\"0.68%\",        /*震幅%*/  \n            \"buyPic\":\"83.41\",        /*买入价*/  \n            \"sellPic\":\"83.45\",        /*卖出价*/  \n            \"color\":\"Red\",            /*涨跌颜色*/  \n                        \"date\":\"2016-07-29\",         /*日期*/  \n            \"datatime\":\"08:58:39\"        /*数据时间*/  \n        },  \n        \"data2\":{  \n            \"code\":\"CHF\",  \n            \"currency\":\"美元瑞郎\",  \n            \"closePri\":\"0.9241\",  \n            \"diffPer\":\"0.06%\",  \n            \"diffAmo\":\"0.0006\",  \n            \"openPri\":\"0.9234\",  \n            \"highPic\":\"0.9243\",  \n            \"lowPic\":\"0.9231\",  \n            \"range\":\"0.13%\",  \n            \"buyPic\":\"0.9241\",  \n            \"sellPic\":\"0.9246\",  \n            \"color\":\"Red\",  \n                         \"date\":\"2016-07-29\",  \n            \"datatime\":\"09:40:54\"  \n        },  \n            ......  \n    }  \n    ]  \n}  \n示例代码\n基于PHP的货币汇率接口调用代码实例\n<!--?php  \n// +----------------------------------------------------------------------  \n// | JuhePHP [ NO ZUO NO DIE ]  \n// +----------------------------------------------------------------------  \n// | Copyright (c) 2010-2015 http://juhe.cn All rights reserved.  \n// +----------------------------------------------------------------------  \n// | Author: Juhedata <info@juhe.cn-->  \n// +----------------------------------------------------------------------  \n   \n//----------------------------------  \n// 货币汇率调用示例代码 － 聚合数据  \n// 在线接口文档：http://www.juhe.cn/docs/23  \n//----------------------------------  \n   \nheader('Content-type:text/html;charset=utf-8');  \n   \n   \n//配置您申请的appkey  \n$appkey = \"*********************\";  \n   \n   \n   \n   \n//************1.人民币牌价************  \n$url = \"http://web.juhe.cn:8080/finance/exchange/rmbquot\";  \n$params = array(  \n      \"key\" => $appkey,//APP Key  \n      \"type\" => \"\",//两种格式(0或者1,默认为0)  \n);  \n$paramstring = http_build_query($params);  \n$content = juhecurl($url,$paramstring);  \n$result = json_decode($content,true);  \nif($result){  \n    if($result['error_code']=='0'){  \n        print_r($result);  \n    }else{  \n        echo $result['error_code'].\":\".$result['reason'];  \n    }  \n}else{  \n    echo \"请求失败\";  \n}  \n//**************************************************  \n   \n   \n   \n   \n//************2.外汇汇率************  \n$url = \"http://web.juhe.cn:8080/finance/exchange/frate\";  \n$params = array(  \n      \"key\" => $appkey,//APP Key  \n      \"type\" => \"\",//两种格式(0或者1,默认为0)  \n);  \n$paramstring = http_build_query($params);  \n$content = juhecurl($url,$paramstring);  \n$result = json_decode($content,true);  \nif($result){  \n    if($result['error_code']=='0'){  \n        print_r($result);  \n    }else{  \n        echo $result['error_code'].\":\".$result['reason'];  \n    }  \n}else{  \n    echo \"请求失败\";  \n}  \n//**************************************************  \n   \n   \n   \n   \n   \n/**  \n * 请求接口返回内容  \n * @param  string $url [请求的URL地址]  \n * @param  string $params [请求的参数]  \n * @param  int $ipost [是否采用POST形式]  \n * @return  string  \n */  \nfunction juhecurl($url,$params=false,$ispost=0){  \n    $httpInfo = array();  \n    $ch = curl_init();  \n   \n    curl_setopt( $ch, CURLOPT_HTTP_VERSION , CURL_HTTP_VERSION_1_1 );  \n    curl_setopt( $ch, CURLOPT_USERAGENT , 'JuheData' );  \n    curl_setopt( $ch, CURLOPT_CONNECTTIMEOUT , 60 );  \n    curl_setopt( $ch, CURLOPT_TIMEOUT , 60);  \n    curl_setopt( $ch, CURLOPT_RETURNTRANSFER , true );  \n    curl_setopt($ch, CURLOPT_FOLLOWLOCATION, true);  \n    if( $ispost )  \n    {  \n        curl_setopt( $ch , CURLOPT_POST , true );  \n        curl_setopt( $ch , CURLOPT_POSTFIELDS , $params );  \n        curl_setopt( $ch , CURLOPT_URL , $url );  \n    }  \n    else  \n    {  \n        if($params){  \n            curl_setopt( $ch , CURLOPT_URL , $url.'?'.$params );  \n        }else{  \n            curl_setopt( $ch , CURLOPT_URL , $url);  \n        }  \n    }  \n    $response = curl_exec( $ch );  \n    if ($response === FALSE) {  \n        //echo \"cURL Error: \" . curl_error($ch);  \n        return false;  \n    }  \n    $httpCode = curl_getinfo( $ch , CURLINFO_HTTP_CODE );  \n    $httpInfo = array_merge( $httpInfo , curl_getinfo( $ch ) );  \n    curl_close( $ch );  \n    return $response;  \n}  \n基于Python的货币汇率接口调用代码实例\n#!/usr/bin/python  \n# -*- coding: utf-8 -*-  \nimport json, urllib  \nfrom urllib import urlencode  \n   \n#----------------------------------  \n# 货币汇率调用示例代码 － 聚合数据  \n# 在线接口文档：http://www.juhe.cn/docs/23  \n#----------------------------------  \n   \ndef main():  \n   \n    #配置您申请的APPKey  \n    appkey = \"*********************\"  \n   \n    #1.人民币牌价  \n    request1(appkey,\"GET\")  \n   \n    #2.外汇汇率  \n    request2(appkey,\"GET\")  \n   \n   \n   \n#人民币牌价  \ndef request1(appkey, m=\"GET\"):  \n    url = \"http://web.juhe.cn:8080/finance/exchange/rmbquot\"  \n    params = {  \n        \"key\" : appkey, #APP Key  \n        \"type\" : \"\", #两种格式(0或者1,默认为0)  \n   \n    }  \n    params = urlencode(params)  \n    if m ==\"GET\":  \n        f = urllib.urlopen(\"%s?%s\" % (url, params))  \n    else:  \n        f = urllib.urlopen(url, params)  \n   \n    content = f.read()  \n    res = json.loads(content)  \n    if res:  \n        error_code = res[\"error_code\"]  \n        if error_code == 0:  \n            #成功请求  \n            print res[\"result\"]  \n        else:  \n            print \"%s:%s\" % (res[\"error_code\"],res[\"reason\"])  \n    else:  \n        print \"request api error\"  \n   \n#外汇汇率  \ndef request2(appkey, m=\"GET\"):  \n    url = \"http://web.juhe.cn:8080/finance/exchange/frate\"  \n    params = {  \n        \"key\" : appkey, #APP Key  \n        \"type\" : \"\", #两种格式(0或者1,默认为0)  \n   \n    }  \n    params = urlencode(params)  \n    if m ==\"GET\":  \n        f = urllib.urlopen(\"%s?%s\" % (url, params))  \n    else:  \n        f = urllib.urlopen(url, params)  \n   \n    content = f.read()  \n    res = json.loads(content)  \n    if res:  \n        error_code = res[\"error_code\"]  \n        if error_code == 0:  \n            #成功请求  \n            print res[\"result\"]  \n        else:  \n            print \"%s:%s\" % (res[\"error_code\"],res[\"reason\"])  \n    else:  \n        print \"request api error\"  \n   \n   \n   \nif __name__ == '__main__':  \n    main()  \n基于JAVA的货币汇率接口调用代码实例\nimport java.io.BufferedReader;  \nimport java.io.DataOutputStream;  \nimport java.io.IOException;  \nimport java.io.InputStream;  \nimport java.io.InputStreamReader;  \nimport java.io.UnsupportedEncodingException;  \nimport java.net.HttpURLConnection;  \nimport java.net.URL;  \nimport java.net.URLEncoder;  \nimport java.util.HashMap;  \nimport java.util.Map;  \n   \nimport net.sf.json.JSONObject;  \n   \n/** \n*货币汇率调用示例代码 － 聚合数据 \n*在线接口文档：http://www.juhe.cn/docs/23 \n**/  \n   \npublic class JuheDemo {  \n    public static final String DEF_CHATSET = \"UTF-8\";  \n    public static final int DEF_CONN_TIMEOUT = 30000;  \n    public static final int DEF_READ_TIMEOUT = 30000;  \n    public static String userAgent =  \"Mozilla/5.0 (Windows NT 6.1) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/29.0.1547.66 Safari/537.36\";  \n   \n    //配置您申请的KEY  \n    public static final String APPKEY =\"*************************\";  \n   \n    //1.人民币牌价  \n    public static void getRequest1(){  \n        String result =null;  \n        String url =\"http://web.juhe.cn:8080/finance/exchange/rmbquot\";//请求接口地址  \n        Map params = new HashMap();//请求参数  \n            params.put(\"key\",APPKEY);//APP Key  \n            params.put(\"type\",\"\");//两种格式(0或者1,默认为0)  \n   \n        try {  \n            result =net(url, params, \"GET\");  \n            JSONObject object = JSONObject.fromObject(result);  \n            if(object.getInt(\"error_code\")==0){  \n                System.out.println(object.get(\"result\"));  \n            }else{  \n                System.out.println(object.get(\"error_code\")+\":\"+object.get(\"reason\"));  \n            }  \n        } catch (Exception e) {  \n            e.printStackTrace();  \n        }  \n    }  \n   \n    //2.外汇汇率  \n    public static void getRequest2(){  \n        String result =null;  \n        String url =\"http://web.juhe.cn:8080/finance/exchange/frate\";//请求接口地址  \n        Map params = new HashMap();//请求参数  \n            params.put(\"key\",APPKEY);//APP Key  \n            params.put(\"type\",\"\");//两种格式(0或者1,默认为0)  \n   \n        try {  \n            result =net(url, params, \"GET\");  \n            JSONObject object = JSONObject.fromObject(result);  \n            if(object.getInt(\"error_code\")==0){  \n                System.out.println(object.get(\"result\"));  \n            }else{  \n                System.out.println(object.get(\"error_code\")+\":\"+object.get(\"reason\"));  \n            }  \n        } catch (Exception e) {  \n            e.printStackTrace();  \n        }  \n    }  \n   \n   \n   \n    public static void main(String[] args) {  \n   \n    }  \n   \n    /** \n     * \n     * @param strUrl 请求地址 \n     * @param params 请求参数 \n     * @param method 请求方法 \n     * @return  网络请求字符串 \n     * @throws Exception \n     */  \n    public static String net(String strUrl, Map params,String method) throws Exception {  \n        HttpURLConnection conn = null;  \n        BufferedReader reader = null;  \n        String rs = null;  \n        try {  \n            StringBuffer sb = new StringBuffer();  \n            if(method==null || method.equals(\"GET\")){  \n                strUrl = strUrl+\"?\"+urlencode(params);  \n            }  \n            URL url = new URL(strUrl);  \n            conn = (HttpURLConnection) url.openConnection();  \n            if(method==null || method.equals(\"GET\")){  \n                conn.setRequestMethod(\"GET\");  \n            }else{  \n                conn.setRequestMethod(\"POST\");  \n                conn.setDoOutput(true);  \n            }  \n            conn.setRequestProperty(\"User-agent\", userAgent);  \n            conn.setUseCaches(false);  \n            conn.setConnectTimeout(DEF_CONN_TIMEOUT);  \n            conn.setReadTimeout(DEF_READ_TIMEOUT);  \n            conn.setInstanceFollowRedirects(false);  \n            conn.connect();  \n            if (params!= null && method.equals(\"POST\")) {  \n                try (DataOutputStream out = new DataOutputStream(conn.getOutputStream())) {  \n                    out.writeBytes(urlencode(params));  \n                }  \n            }  \n            InputStream is = conn.getInputStream();  \n            reader = new BufferedReader(new InputStreamReader(is, DEF_CHATSET));  \n            String strRead = null;  \n            while ((strRead = reader.readLine()) != null) {  \n                sb.append(strRead);  \n            }  \n            rs = sb.toString();  \n        } catch (IOException e) {  \n            e.printStackTrace();  \n        } finally {  \n            if (reader != null) {  \n                reader.close();  \n            }  \n            if (conn != null) {  \n                conn.disconnect();  \n            }  \n        }  \n        return rs;  \n    }  \n   \n    //将map型转为请求参数型  \n    public static String urlencode(Map<String,Object>data) {  \n        StringBuilder sb = new StringBuilder();  \n        for (Map.Entry i : data.entrySet()) {  \n            try {  \n                sb.append(i.getKey()).append(\"=\").append(URLEncoder.encode(i.getValue()+\"\",\"UTF-8\")).append(\"&\");  \n            } catch (UnsupportedEncodingException e) {  \n                e.printStackTrace();  \n            }  \n        }  \n        return sb.toString();  \n    }  \n}  \n\n                ", "mainLikeNum": ["0 "], "mainBookmarkNum": "1"}