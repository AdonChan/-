{"title": "CentOS 7.2环境搭建实录(第四章：python环境配置) - 个人文章 ", "index": "postgresql,nginx,django,python", "content": "第四章：python环境配置\n使用环境工具\npython 环境工具\npython            2.7.5  # python2版本，系统自带\npip               9.0.1  # python2版本的pip，python工具集，编译安装\nvirtualenv        15.1.0 # python2版本虚拟环境依赖，pip安装\nvirtualenvwrapper 4.8.2  # 配合virtualenvwrapper使用，pip安装\nsetuptools        38.5.1 # python工具集，编译安装\ngunicorn          19.7.1 # python的wsgi服务器，pip安装\nsupervisor        3.3.4  # python进程管理工具，pip安装\n\npython3 环境工具\npython3           3.6.4  # python3版本，编译安装  \npip               9.0.1  # 安装python3版本自带，区别于python2环境下的pip\nsetuptools        28.8.0 # 安装python3版本自带\ngunicorn          19.7.1 # python的wsgi服务器，pip安装\n\n其他工具\ngit               1.8.3.1 # 著名软件托管平台\n\n配置python环境工具\n简单说明\nCentOS 7.2服务器自带python2.7.5版本，可惜没有pip工具，所以我们需要先安装\npip工具，然后在此基础上一步步搭建python的web开发环境    \n编译安装pip\ncd /usr/local/src\nwget https://pypi.python.org/packages/11/b6/abcb525026a4be042b486df43905d6893fb04f05aac21c32c638e939e447/pip-9.0.1.tar.gz#md5=35f01da33009719497f01a4ba69d63c9\ntar -zxvf pip-9.0.1.tar.gz\ncd pip-9.0.1/\npython setup.py build\npython setup.py install\npip -V # 查看安装是否成功\n\n编译安装setuptools\ncd /usr/local/src\nwget https://pypi.python.org/packages/6c/54/f7e9cea6897636a04e74c3954f0d8335cc38f7d01e27eec98026b049a300/setuptools-38.5.1.zip#md5=1705ae74b04d1637f604c336bb565720\nyum install zip # 已经安装的同学跳过这步\nunzip setuptools-38.5.1.zip\ncd setuptools-38.5.1\npython setup.py build\npython setup.py install\npip list # 查看setuptools是否安装成功\n\n备注：如果执行pip list命令时出现\nDEPRECATION: The default format will switch to columns in the future. You can use --format=(legacy|columns) (or define a format=(legacy|columns) in your pip.conf under the [list] section) to disable this warning.\n错误，解决方法如下：\nvi /root/.pip/pip.conf\n输入：\n[list]\nformat=columns\n保存退出即可\n\n安装git\nyum install git\n关于git的基本操作我就不在这里叙述了，最后我会放一篇资料提供给大家参考\n\nshell显示git状态\nvi /etc/profile\n# 插入下方代码\nsource /usr/share/doc/git-1.8.3.1/contrib/completion/git-completion.bash\nsource /usr/share/doc/git-1.8.3.1/contrib/completion/git-prompt.sh\nexport GIT_PS1_SHOWDIRTYSTATE=1\nexport GIT_PS1_SHOWSTASHSTATE=1\nexport GIT_PS1_SHOWUNTRACKEDFILES=1\nexport GIT_PS1_SHOWUPSTREAM=\"verbose git svn\"\nPS1='[\\u@\\h \\W$(__git_ps1 \" (%s)\")]$ '\nsource /etc/profile\n\n安装virtualenv virtualenvwrapper\npip install virtualenv virtualenvwrapper\n# 配置环境变量\nvi /etc/profile\n# 输入下列代码：\nexport WORKON_HOME=$HOME/.virtualenvs\nexport PROJECT_HOME=$HOME/workspace\nsource /usr/local/bin/virtualenvwrapper.sh\n# 保存退出：\nsource /etc/profile\n\n安装gunicorn\npip install gunicorn\n\n安装supervisor\npip install supervisor\n\nsupervisor配置修改\ncd /etc/\nmkdir supervisor\ncd supervisor\nmkdir conf.d\necho_supervisord_conf\nvi supervisord.conf\n# 修改配置如下：\n\n# 保存退出\n# 开启supervisord\nsupervisord -c /etc/supervisor/supervisord.conf\nps aux|grep supervisord\n\n# 启动成功\n\n# 在浏览器使用域名:9001，输入设置的账号，密码结果如下\n\n# 不用在意上面的blog项目，下一章会讲\n\n配置supervisor开机启动\ncd /lib/systemd/system/\ntouch supervisord.service\n#加入下列代码：\n\n# supervisord service for systemd (CentOS 7.0+)\n# by ET-CS (https://github.com/ET-CS)\n[Unit]\nDescription=Supervisor daemon\n\n[Service]\nType=forking\nExecStart=/usr/bin/supervisord -c /etc/supervisor/supervisord.conf\nExecStop=/usr/bin/supervisorctl $OPTIONS shutdown\nExecReload=/usr/bin/supervisorctl $OPTIONS reload\nKillMode=process\nRestart=on-failure\nRestartSec=42s\n\n[Install]\nWantedBy=multi-user.target\n\n# 保存退出\n# 尝试如下命令\nsystemctl stop supervisord.service\nsystemctl start supervisord.service\nsystemctl restart supervisord.service\n\n环境安装结果如下\n配置python3环境工具\n安装python3\ncd /usr/local/src\nwget https://www.python.org/ftp/python/3.6.4/Python-3.6.4.tgz\ntar -zxvf Python-3.6.4.tgz\ncd Python-3.6.4/\n./configure --prefix=/usr/local/python3\nmake && make install\n安装成功\npython3安装自带pip和setuptools\n\n配置python3环境变量\nvi /etc/profile\nexport PATH=$PATH:$HOME/bin:/usr/local/python3/bin\nsource /etc/profile\n\n安装gunicorn\npip3 install gunicorn\n\n环境安装结果如下\n其他文章：第一章：环境配置和nginx安装第二章：php安装 第三章：mysql安装和postgresql安装\n相关链接：Git教程supervisor开机启动配置\n\n                ", "mainLikeNum": ["0 "], "mainBookmarkNum": "4"}