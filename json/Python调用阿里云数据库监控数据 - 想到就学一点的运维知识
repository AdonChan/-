{"title": "Python调用阿里云数据库监控数据 - 想到就学一点的运维知识 ", "index": "阿里云,python", "content": "概述\n\n基于Python 3.6.0 实现\n抓取公司云数据库监控数据 存入本地数据库\ncentos定时任务 每分钟执行一次\n\n引入SDK\n# 安装Python SDK 包\npip install aliyun-python-sdk-core-v3\npip install aliyun-python-sdk-rds\n源代码\nfrom aliyunsdkcore import client\nfrom aliyunsdkrds.request.v20140815 import DescribeRegionsRequest\n\n# 设置访问凭证\naccessKeyId = '<access-key-id>'\naccessKeySecret = '<access-key-secret>'\nclient = client.AcsClient(accessKeyId, accessKeySecret,'cn-shanghai')\n\n# 创建Request对象，并对其中参数赋值\nrequest = DescribeRegionsRequest.DescribeRegionsRequest()\n#设置返回数据格式，默认为XML\nrequest.set_accept_format('json')\nrequest.set_action_name('DescribeDBInstancePerformance')\n#多个性能指标用 \",\" 分隔\nrequest.set_query_params(dict(DBInstanceId=\"数据库实例名\",key=\"性能指标\",StartTime=\"2018-02-22T05:00Z\",EndTime=\"2018-02-22T15:00Z\"))\nprint(client.do_action_with_exception(request))\n参考资料\nPython SDK列表  SDK使用参考  性能参数表\n关于我\n一个想到啥学啥的运维工程师 一个想靠手艺吃饭的人一个能聊聊天的朋友个人网站：http://sosad.cn\n\n                ", "mainLikeNum": ["0 "], "mainBookmarkNum": "0"}