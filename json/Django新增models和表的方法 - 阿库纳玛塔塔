{"title": "Django新增models和表的方法 - 阿库纳玛塔塔 ", "index": "python,django", "content": "系统在使用一段时间后，遇到新的需求，需要新增一张表，对应的，就需要在django中新增一个model，方法如下：models.py\nclass task_info(models.Model):\n    task_id = models.CharField(max_length=30)\n    start_time = models.CharField(max_length=100)\n    end_time = models.CharField(max_length=100)\n    user = models.CharField(max_length=30)\n    press_machine = models.CharField(max_length=30)\n    target_machine = models.CharField(max_length=30)\n    mod_name = models.CharField(max_length=30)\n    extra = models.TextField(max_length=100000000)\n\n    def __unicode__(self):\n        return self.task_id\n然后在命令行中输入：\npython manage.py makemigrations\npython manage.py migrate\n完成表的表的添加\n不过在实际的过程中，出现了如下的信息：\n\n再查看数据库，发现对应的表并没有创建，按照网上的方法，删除了对应app下migrations目录的所有文件，然后再执行上述命令，仍然无用。后续注意到数据库中有一张表：django_migrations查看该表，发现内容如下：\n\n正好对应了代码中的migrations目录的文件结构\n\n于是按照000xxxx.py的样式，修改最新的文件\n\n并且将序号命名为最新的序号，然后重新执行\npython manage.py migrate\n显示\n\n再查看数据库，对应的表已经创建成功\n在网上还有一个类似的解决方案，记录如下，以供参考http://blog.csdn.net/hanglinu...\n\n                ", "mainLikeNum": ["0 "], "mainBookmarkNum": "0"}