{"title": "使用pandas玩kaggle数据(一) - 梦见山杂院 ", "index": "pandas,python", "content": "最近在学习用pandas处理数据，pandas的易用性真的让人很爽，想找点数据玩一下，同事说kaggle上的数据很多，值得玩耍。\n数据\n我处理的数据是从kaggle数据分析竞赛网站下载的旧金山的分类犯罪数据－点此下载。如下图所示，数据共有九列，X、Y是GPS坐标，其它都是字符串，没法用describe直接看概要。\n初步分析\n排除数值列，对字符串列进行descirbe分析，可以知道 数据值类型、数量最多类型。\n       PdDistrict       Category DayOfWeek Resolution\ncount      878049         878049    878049     878049\nunique         10             39         7         17\ntop      SOUTHERN  LARCENY/THEFT    Friday       NONE\nfreq       157182         174900    133734     526790\n其后逐列按类型查看类型对应数量。如按警区查看 print(df['PdDistrict'].value_counts())\nSOUTHERN      157182\nMISSION       119908\nNORTHERN      105296\nBAYVIEW        89431\nCENTRAL        85460\nTENDERLOIN     81809\nINGLESIDE      78845\nTARAVAL        65596\nPARK           49313\nRICHMOND       45209\nName: PdDistrict, dtype: int64\n\n可视化\n很多人对数字并不敏感，有图会提高对数据对理解。pandas自带的plot函数可以快速的将dataframe图形化。默认是线状走势图，下面是按类型对警情进行分析。\n不够直观，并且横坐标有重复，使用直方图形式，以横向的方式将类型显示完全。在控制坐标旋转的时候，我发现这个plot函数有不少bug，控制起来也很不方便。如果想更精细的控制图的显示，建议直接使用matplotlib，当然dataframe的plot函数最终也是直接调用matplotlib。\ncategory.plot(figsize=(26, 10), title=u'犯罪类型统计', rot=0, kind='barh', legend=True)\n\n\n由于我是用pycharm来玩的，所以如果我不加plt.show，plot显示不出来。所以我最终还是得导入matplotlib。\n\n                ", "mainLikeNum": ["0 "], "mainBookmarkNum": "5"}