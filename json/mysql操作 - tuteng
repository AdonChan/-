{"title": "mysql操作 - tuteng ", "index": "python,mysql", "content": "昨天搞数据库把系统搞挂了，今天花费多半天的时间重装了一下，借此总结一下这几天的学习。\n挑重点的说。\n数据库版本 mysql5.5以上\n常用数据库操作命令\ncreate database dataname;\ncreate table tablenamei(属性);\nuse dataname;\ndesc tablename;\nshow create table tablename;\nselect column from tablename;\ndelete from tablename;\ndrop database dataname;\ninsert into tablename(属性) values(属性值);\ninsert into test(id,name) values(345,'你好')\n\n数据库的编码问题\n修改配置文件/etc/mysql/my.cnf\n[client]\ndefault-character-set = utf8\n[mysqld]\ncharacter-set-server = utf8\n然后重启mysql服务\n修改之后如下：\nshow variables like '%character%';\n\n| character_set_client     | utf8                       |\n| character_set_connection | utf8                       |\n| character_set_database   | utf8                       |\n| character_set_filesystem | binary                     |\n| character_set_results    | utf8                       |\n| character_set_server     | utf8                       |\n| character_set_system     | utf8                       |\n| character_sets_dir       | /usr/share/mysql/charsets/ |\n\n这样重建数据库之后，便可以插入中文\n\n若用python连接要在连接中加入参数，\ncon = MySQLdb.connect(user = '账号',passwd = '密码',db = '数据库名字',host = 'localhost',charset = 'utf8')\n\n还有就是外部数据导入的问题，我从网上下了几个数据库的包\n对于txt，csv，excel等格式文件可以按如下命令操作\nload data infile 'data.txt' into table tablename fields terminated by '#' lines terminated by '\\n';\n注意，我把数据文件放在外面用绝对路径引用却找不到文件,但是把它放到数据库所在的文件下却可以导入，不知道为什么。fields terminated by '#' 是各个字段之间的分隔符，lines terminated 是行与行之间的分隔符.这个命令的导入速度非常快，我用python脚本写的和这个速度上相差太远了\n\n                ", "mainLikeNum": ["0 "], "mainBookmarkNum": "0"}