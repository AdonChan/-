{"title": " Pythonå®ç”¨æŠ€æ³•ç¬¬4ç¯‡ï¼šå®ç°ä¼˜å…ˆçº§é˜Ÿåˆ— - python3 ï¼šå…¬å¸å†…éƒ¨åŸ¹è®­ä¸“æ  ", "index": "python", "content": "ä¸Šä¸€ç¯‡æ–‡ç« ï¼šPythonå®ç”¨æŠ€æ³•ç¬¬3ç¯‡ï¼šæ‰¾åˆ°æœ€å¤§æˆ–æœ€å°çš„Nä¸ªå…ƒç´ ä¸‹ä¸€ç¯‡æ–‡ç« ï¼šPythonå®ç”¨æŠ€æ³•ç¬¬5ç¯‡ï¼šä¸€é”®å¤šå€¼å­—å…¸\n\n1ã€éœ€æ±‚ğŸ™€\næˆ‘ä»¬æƒ³è¦å®ç°ä¸€ä¸ªé˜Ÿåˆ—ï¼Œå®ƒèƒ½å¤Ÿä»¥ç»™å®šçš„ä¼˜å…ˆçº§æ¥å¯¹å…ƒç´ æ’åºï¼Œä¸”æ¯æ¬¡popæ“ä½œæ—¶éƒ½ä¼šè¿”å›ä¼˜å…ˆçº§æœ€é«˜çš„é‚£ä¸ªå…ƒç´ \n2ã€è§£å†³æ–¹æ¡ˆğŸ˜¸\nåˆ©ç”¨heapqæ¨¡å—å®ç°\nä»£ç ï¼š\nimport heapq\n\n#åˆ©ç”¨heapqå®ç°ä¸€ä¸ªç®€ç­”çš„ä¼˜å…ˆçº§é˜Ÿåˆ—\nclass PriorityQueue:\n    def __init__(self):\n        self._queue=[]\n        self._index=0\n    def push(self,item,priority):\n        heapq.heappush(self._queue,(-priority,self._index,item))\n        self._index+=1\n    def pop(self):\n        return heapq.heappop(self._queue)[-1]\n\nclass Item:\n    def __init__(self,name):\n        self.name=name\n\n    def __repr__(self):\n        return 'Item({!r})'.format(self.name)\n\nif __name__ == '__main__':\n    q=PriorityQueue()\n    q.push(Item('foo'),1)\n    q.push(Item('bar'),5)\n    q.push(Item('spam'),4)\n    q.push(Item('grok'),1)\n\n    print(q.pop())\n    print(q.pop())\n    #å…·æœ‰ç›¸åŒä¼˜å…ˆçº§çš„ä¸¤ä¸ªå…ƒç´ ï¼Œè¿”å›çš„é¡ºåºåŒå®ƒä»¬æ’å…¥åˆ°é˜Ÿåˆ—æ—¶çš„é¡ºåºç›¸åŒ\n    print(q.pop())\n    print(q.pop())\n\n\nè¿è¡Œç»“æœï¼š\nItem('bar')\nItem('spam')\nItem('foo')\nItem('grok')\nä¸Šé¢çš„ä»£ç æ ¸å¿ƒåœ¨äºheapqæ¨¡å—çš„ä½¿ç”¨ã€‚å‡½æ•°heapq.heapqpush()ä»¥åŠheapq.heapqpop()åˆ†åˆ«å®ç°å°†å…ƒç´ ä»åˆ—è¡¨_queueä¸­æ’å…¥å’Œç§»é™¤ï¼Œä¸”ä¿è¯åˆ—è¡¨ä¸­ç¬¬ä¸€ä¸ªå…ƒç´ çš„ä¼˜å…ˆçº§æœ€ä½ã€‚heappop()æ–¹æ³•æ€»æ˜¯è¿”å›ã€æœ€å°ã€‘çš„å…ƒç´ ï¼Œå› æ­¤è¿™å°±æ˜¯è®©é˜Ÿåˆ—èƒ½å¼¹å‡ºæ­£ç¡®å…ƒç´ çš„å…³é”®ã€‚æ­¤å¤–ï¼Œç”±äºpushå’Œpopæ“ä½œçš„å¤æ‚åº¦éƒ½æ˜¯O(logN),å…¶ä¸­Nä»£è¡¨å †ä¸­å…ƒç´ çš„æ•°é‡ï¼Œå› æ­¤å°±ç®—Nçš„å€¼å¾ˆå¤§ï¼Œè¿™äº›æ“ä½œçš„æ•ˆç‡ä¹Ÿéå¸¸é«˜ã€‚ä¸Šé¢ä»£ç ä¸­ï¼Œé˜Ÿåˆ—ä»¥å…ƒç»„(-priority ,index,item)çš„å½¢å¼ç»„æˆã€‚æŠŠpriorityå–è´Ÿå€¼æ˜¯ä¸ºäº†è®©é˜Ÿåˆ—èƒ½å¤ŸæŒ‰ç…§å…ƒç´ çš„ä¼˜å…ˆçº§ä»é«˜åˆ°åº•çš„é¡ºåºæ’åˆ—ã€‚\nå˜é‡indexçš„ä½œç”¨æ˜¯ä¸ºäº†å°†å…·æœ‰ç›¸åŒä¼˜å…ˆçº§çš„å…ƒç´ ä»¥é€‚å½“çš„é¡ºåºæ’åˆ—ã€‚é€šè¿‡ç»´æŠ¤ä¸€ä¸ªä¸æ–­é€’å¢çš„ç´¢å¼•ï¼Œå…ƒç´ å°†ä»¥å®ƒä»¬å¦‚é˜Ÿåˆ—æ—¶çš„é¡ºåºæ¥æ’åˆ—ã€‚ä¸ºäº†è¯´æ˜indexçš„ä½œç”¨ï¼Œçœ‹ä¸‹é¢å®ä¾‹ï¼š\n\nä»£ç ï¼š\nclass Item:\n    def __init__(self,name):\n        self.name=name\n\n    def __repr__(self):\n        return 'Item({!r})'.format(self.name)\n\nif __name__ == '__main__':\n    a=(1,Item('foo'))\n    b=(5,Item('bar'))\n    #ä¸‹é¢ä¸€å¥æ‰“å°True\n    print(a<b)\n\n\n    c=(1,Item('grok'))\n    #ä¸‹é¢ä¸€å¥ä¼šæŠ¥é”™ï¼šTypeError: '<' not supported between instances of 'Item' and 'Item'\n    print(c<a)\n\n\n    d=(1,0,Item('foo'))\n    e=(5,1,Item('bar'))\n    f=(1,2,Item('grok'))\n    #ä¸‹é¢ä¸€å¥æ‰“å°True\n    print(d<e)\n    #ä¸‹é¢ä¸€å¥æ‰“å°True\n    print(d<f)\n\n\n                ", "mainLikeNum": ["0 "], "mainBookmarkNum": "0"}