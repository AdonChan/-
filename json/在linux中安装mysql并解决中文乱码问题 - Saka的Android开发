{"title": "在linux中安装mysql并解决中文乱码问题 - Saka的Android开发 ", "index": "python,mysql", "content": "安装mysql\nlinux安装mysql相对来说比较麻烦，可能会遇到各种各样的问题。安装方式有两种：\n到官网下载安装包\n安装包下载地址\n下载完成后直接\nsudo dpkg -i path/to/package\n即可\n增加官方apt源，然后下载\n官方源下载地址\n此处下载最下边30k左右的deb包，下载完成后用管理员权限运行\nsudo dpkg -i path/to/package\n此时已经将官方源加入到我们自己的仓库中了。然后升级一下\nsudo apt-get update\n此时可使用命令来安装mysql\nsudo apt-get install mysql-server\n安装过程中会提示我们输入root密码，按照指示运行即可。\n下面几个命令比较常用，都应该能懂什么意思\nsudo service mysql state\nsudo service mysql start\nsudo service mysql stop\nsudo service mysql restart\n此时mysql安装完毕。\n假如你使用了其他的shell终端，可能会出现不能启动mysql的情况，只需要将你的设置的环境变量的文件加入到你的新shell中启动执行即可。\nmysql中文乱码问题\nmysql在安装完毕后，即使设置表中charset为utf-8后输入中文仍然会出现\"???\"\"这样的东西。现在来一个一招解决的方法：进入mysql环境，输入\nshow variables like '%char%';\n出现如下表格\n\n\nVariable_name\nValue\n\n\n\ncharacter_set_client\nutf8\n\n\ncharacter_set_connection\nutf8\n\n\ncharacter_set_database\nlatin1\n\n\ncharacter_set_filesystem\nbinary\n\n\ncharacter_set_results\nutf8\n\n\ncharacter_set_server\nlatin1\n\n\ncharacter_set_system\nutf8\n\n\ncharacter_sets_dir\n/usr/share/mysql/charsets/\n\n\n\n其中character_set_database不是utf-8，我们需要改变变量为utf-8\n此处我写了一个python脚本用来修改这变量：\n解决ubuntu下mysql中文乱码的问题\n现在支持大部分linux设备，ubuntu/centos/osx均测试通过\n有问题可以直接联系我\n使用wget或者curl均可\nwget https://raw.githubusercontent.com/rgf456/InitMysql/master/MysqlUTF.py\n下载完成后执行\nsudo python3 MysqlUTF.py\n程序首先判断是否可支持的系统，假如不是则输出\nYour system is $your sys$,current not support!!!\n在osx和CentOS中会查询/etc/my.cnf文件，文件不存在则会自动创建，文件存在则会先备份原有的文件为/etc/my.cnf.bak_bak,然后自动在原文件中写入数据\nUbunt则会自动查询/etc/mysql/mysql.conf.d/mysqld.cnf,先备份次文件，然后写入数据\n重启mysql\nUbunut: sudo service mysql restart\nCentOS: sudo service mysqld restart\nmacos下需自己重启mysql\n欢迎使用：github地址：https://github.com/rgf456/InitMysql\n\n                ", "mainLikeNum": ["0 "], "mainBookmarkNum": "1"}