{"title": "小白爬虫scrapy第四篇 - python爬虫 ", "index": "python", "content": "在上篇中没有说到启动如何去启动,scrapy是使用cmd命令行去启动的咱们用scrapy的cmdline去启动命名point.py\n# 导入cmdline 中的execute用来执行cmd命令\nfrom scrapy.cmdline import execute\n# 执行cmd命令参数为[ scrapy, 爬虫, 爬虫名称]\nexecute(['scrapy', 'crawl', 'AiquerSpider'])\n这个文件放在项目根目录下如图:如果各位同学按照我的前面几篇的步骤写完的话可以用这个去测试一下(把部分代码注释去了),你会发现有好多神秘的蓝色链接,哇啊啊啊啊!!!!!我的右手在燃烧!!!!!!!\n先在咱们去保存数据吧!我这几天写项目需求写到崩溃就不去做具体数据处理了,直接贴代码\n# -*- coding: utf-8 -*-\n\n# Define your item pipelines here\n#\n# Don't forget to add your pipeline to the ITEM_PIPELINES setting\n# See: http://doc.scrapy.org/en/latest/topics/item-pipeline.html\nimport json\n\nclass AiquerPipeline(object):\n    def __init__(self):\n        # 打开文件\n        self.file = open('data.json', 'w', encoding='utf-8')\n\n    def process_item(self, item, spider):\n        # 读取item中的数据\n        line = json.dumps(dict(item), ensure_ascii=False) + \"\\n\"\n        # 写入文件\n        self.file.write(line)\n        # 返回item\n        return item\n\n        # 该方法在spider被开启时被调用。\n        def open_spider(self, spider):\n\n            pass\n\n        # 该方法在spider被关闭时被调用。\n        def close_spider(self, spider):\n\n            pass\n在运行这个东西之前是要注册的,回到settings.py里面找到Configure item pipelines,将下面的注释去掉就行了,咱们没有具体需求所以不用改优先级别\n# Configure item pipelines\n# See http://scrapy.readthedocs.org/en/latest/topics/item-pipeline.html\nITEM_PIPELINES = {\n    'AiQuer.pipelines.AiquerPipeline': 300,\n}\nAiQuer.pipelines.AiquerPipeline是为你要注册的类，右侧的’300’为该Pipeline的优先级，范围1～1000，越小越先执行。没有做具体数据处理了,直接把他们保存为json数据了,很长很长一段眼花下一篇是如何去保存在数据库中\n\n                ", "mainLikeNum": ["0 "], "mainBookmarkNum": "0"}