{"title": "尝试用Python3爬取网页图片的过程记录 - 公子政的宅日常 ", "index": "网页爬虫,beautifulsoup,python", "content": "Github上有一个关于下载百度贴吧里的美女图片的练习题，最近正好在学爬虫相关的知识，拿来练练手。这是我的目标网页。最开始的时候我在网上找到一个类似的案例，代码如下图：稍作修改，运行之后得到七十多张图片，结果一看接近一半是用户头像～方法太过简单粗暴，决定使用美丽的汤——BeautifulSoup重写一下（这汤真香）观察了一下页面的源代码，发现所有用户发的图片都是class=“BDE_Image”的，这样就可以区分头像和帖子里的图片了，随便写写的代码：\nfrom urllib.request import urlretrieve\nfrom urllib.request import urlopen\nfrom bs4 import BeautifulSoup\n\ndef get_image(url):\n    html = urlopen(url).read().decode('utf-8')\n    bsObj = BeautifulSoup(html, \"lxml\")\n    myimg = bsObj.find_all('img', class_='BDE_Image')\n    num = 1\n    for img in myimg:\n        link = img.get('src')\n        pic_name = str(num) + '.jpg'\n        urlretrieve(link, pic_name)\n        print(\"Success!\" + pic_name)\n        num += 1\n\n    return None\n\nurl = 'http://tieba.baidu.com/p/2166231880'\nget_image(url)\n这次得到了49张图片\n代码上传到了我的Github\n交流群：435414286\n\n                ", "mainLikeNum": ["0 "], "mainBookmarkNum": "0"}