{"title": "django权限的自定义 - 修仙 ", "index": "django-rest-framework,django,python", "content": "添加权限\n1\nclass Task(models.Model):\n    class Meta:\n        permissions = (\n            (\"view_task\", \"Can see available tasks\"),\n            (\"change_task_status\", \"Can change the status of tasks\"),\n            (\"close_task\", \"Can remove a task by setting its status as closed\"),\n        )\n2\nfrom myapp.models import BlogPost\nfrom django.contrib.auth.models import Permission\nfrom django.contrib.contenttypes.models import ContentType\n\ncontent_type = ContentType.objects.get_for_model(Task)\npermission = Permission.objects.create(codename='can_publish',\n                                       name='Can Publish Posts',\n                                       content_type=content_type)\n分配权限\nmyuser.user_permissions = [permission_list]\nmyuser.user_permissions.add(permission, permission, ...) #增加权限\nmyuser.user_permissions.remove(permission, permission, ...) #删除权限\nmyuser.user_permissions.clear() #清空权限\n\ngroup.permissions = [permission_list]\ngroup.permissions.add(permission, permission, ...)\ngroup.permissions.remove(permission, permission, ...)\ngroup.permissions.clear()\n\n检查权限\nmyuser.has_perm('myapp.fix_car')\n\n                ", "mainLikeNum": ["0 "], "mainBookmarkNum": "1"}