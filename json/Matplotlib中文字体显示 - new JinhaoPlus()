{"title": "Matplotlib中文字体显示 - new JinhaoPlus() ", "index": "python,matplotlib", "content": "在Mac上安装Matplotlib\n不使用Anaconda，直接使用pip安装即可：\n    pip3 install matplotlib\n向Matplotlib添加中文字体Microsoft YaHei(微软雅黑)\n\nMatplotlib不能默认使用中文字体显示字符的原因只是因为其未包含中文字体文件，所以导入中文字体文件到Matplotlib中即可。\nMatplotlib的安装位置，如果使用pip3安装则其默认的安装路径在/Library/Frameworks/Python.framework/Versions/3.5/lib/python3.5/site-packages/matplotlib/。当然你也可以通过如下程序确定你的Mac上的Matplotlab的安装路径：\nimport matplotlib\nprint(matplotlib.matplotlib_fname())\n打开这个目录可以看到这个路径下的mpl-data/fonts/ttf/，这个就是Matplotlib引入字体的路径，我们只需要把微软雅黑字体的ttf文件拷贝到其中即可。\n修改Matplotlib的默认字体配置\n仍然在上述的Matplotlib安装路径中，可以看到mpl-data/matplotlibrc这个文件，这个就是Matplotlib的配置文件。\n在这个文件中搜索font.family，将#删除即把此行注释打开。则Matplotlib现在的默认字体族是：\nfont.family         : sans-serif\n再在这个文件中搜索font.sans-serif，将#删除即把此行注释打开，然后在这个配置的最前面加上Microsoft YaHei：\nfont.sans-serif     : Microsoft YaHei, DejaVu Sans, Bitstream Vera Sans, Lucida Grande, Verdana, Geneva, Lucid, Arial, Helvetica, Avant Garde, sans-serif\n则Matplotlib现在的默认sans-serif字体族会最先使用Microsoft YaHei去展示字体，而这个Microsoft YaHei就可以展示中文字体了。\n清除字体缓存\n为了更好地看到效果，最好可以清楚之前Matplotlib生成的缓存文件，打开~/.matplotlib路径，其中可以看到fontList.json和tex.cache，前者其实就是字体列表的缓存文件，可以删除之：\nrm -rf fontList.json\n测试效果\n如下测试代码查看是否生效：\n# coding:utf-8\nimport matplotlib.pyplot as plt\n\nplt.plot((1, 2, 3), (4, 3, -1))\nplt.xlabel(u'横坐标')\nplt.ylabel(u'纵坐标')\nplt.show()\n执行效果如下所示：\n\n                ", "mainLikeNum": ["1 "], "mainBookmarkNum": "2"}