{"title": "python爬虫之ajax请求 - python爬虫入门 ", "index": "python", "content": "\npython爬虫之ajax请求\n爬取豆瓣网的分页浏览get请求：\nimport urllib.request\nimport urllib.parse\n\nurl = 'https://movie.douban.com/j/chart/top_list?type=5&interval_id=100%3A90&action=&'\n\npage = int(input('请输入想要第几页的数据:'))\n# start=0  limit=20\n# start=1\nnumber = 20\n\n# 构建get参数\ndata = {\n    'start': (page - 1)*number,\n    'limit': number,\n}\n# 将字典转化为query_string\nquery_string = urllib.parse.urlencode(data)\n# 修改url\nurl += query_string\n\n# \nheaders = {\n    'User-Agent': 'Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36',\n}\nrequest = urllib.request.Request(url=url, headers=headers)\n\nresponse = urllib.request.urlopen(request)\n\nprint(response.read().decode())\n肯德基配送信息post请求\nimport urllib.request\nimport urllib.parse\n\npost_url = 'http://www.kfc.com.cn/kfccda/ashx/GetStoreList.ashx?op=cname'\n\ncity = input('请输入要查询的城市:')\npage = input('请输入要查询第几页:')\nsize = input('请输入要多少个:')\nformdata = {\n    'cname': city,\n    'pid': '', \n    'pageIndex': page,\n    'pageSize': size,\n}\n\nheaders = {\n    'User-Agent': 'Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36',\n}\n\nrequest = urllib.request.Request(url=post_url, headers=headers)\nformdata = urllib.parse.urlencode(formdata).encode()\n\nresponse = urllib.request.urlopen(request, data=formdata)\n\nprint(response.read().decode())\n\n                ", "mainLikeNum": ["0 "], "mainBookmarkNum": "0"}