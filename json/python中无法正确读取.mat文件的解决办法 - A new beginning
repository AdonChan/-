{"title": "python中无法正确读取.mat文件的解决办法 - A new beginning ", "index": "机器学习,tensorflow,python", "content": "在python中导入本地.mat数据文件时，总是无法得到正确的数据。\n问题代码如下：\nfrom numpy import *\nimport scipy.io\n\nmnist_train = 'D:\\Machine Learning\\TensorFlow\\Softmax Regression\\mnist_dataset\\mnist_train.mat'\nmnist_train_labels = 'D:\\Machine Learning\\TensorFlow\\Softmax Regression\\mnist_dataset\\mnist_train_labels.mat'\n\nx = scipy.io.loadmat(mnist_train)\nlabel = scipy.io.loadmat(mnist_train_labels)\n\nprint(x.shape)\n\n上段代码输出的结果是(1,1)，而对应的数据应是(60000,784)。此时，如果直接输出x，会看到以下结果：\n'''\n[[ {'__version__': '1.0', '__header__': b'MATLAB 5.0 MAT-file, Platform: PCWIN, Created on: Tue Nov 29 12:43:31 2011', \n'mnist_train': array([[ 0.,  0.,  0., ...,  0.,  0.,  0.],\n       [ 0.,  0.,  0., ...,  0.,  0.,  0.],\n       [ 0.,  0.,  0., ...,  0.,  0.,  0.],\n       ...,\n       [ 0.,  0.,  0., ...,  0.,  0.,  0.],\n       [ 0.,  0.,  0., ...,  0.,  0.,  0.],\n       [ 0.,  0.,  0., ...,  0.,  0.,  0.]], dtype=float32), '__globals__': []}]]\n'''\n\n可见，如果本地mat文件包含了额外的信息，则单纯使用scipy.io.loadmat()无法直接读取到所需数据，还应该补充一行对应的代码。\nx = scipy.io.loadmat(mnist_train)\ntrain_x = x['mnist_train']\nlabel = scipy.io.loadmat(mnist_train_labels)\ntrain_label = label['mnist_train_labels']\n\n\n                ", "mainLikeNum": ["0 "], "mainBookmarkNum": "0"}