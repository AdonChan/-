{"title": "Python 爬取 baidu 股票市值数据 - 个人文章 ", "index": "股票,网页爬虫,python", "content": "Code:\n'''\nCreated on 2018年2月11日\n\npython 3.6\n\n@author: Livon\n\n'''\n\nimport urllib.request\n\nimport re\n\nurl = 'https://gupiao.baidu.com/stock/sz002633.html'\n\nprint( 'url: ' + url )\n\nhtmlResponse = urllib.request.urlopen( url )\nhtml = htmlResponse.read()\nhtml = html.decode('utf8')\n\nmarketCaps = re.findall(\"<dl><dt>总市值</dt><dd>(.*?)亿</dd></dl>\",html)\n# 匹配换行\ndates = re.findall('<span class=\"state f-up\">(.*?)\\s+</span>',html)\n\nfor i in range( 0, len( marketCaps )):\n    print( '总市值：' + marketCaps[i] + ' 亿' )\n    \nfor i in range( 0, len( dates )):\n#     print('时间：', end='' )    \n    date = re.sub( \"&nbsp;\", \"\", dates[i] )\n    print('时间：' + date )\n        \n代码摘选\n\nhtml = html.decode('utf8') # 转码\ndates = re.findall('<span class=\"state f-up\">(.*?)\\s+</span>',html) # 匹配换行\nprint('时间：', end='' )  # 不换行\ndate = re.sub( \"&nbsp;\", \"\", dates[i] ) # 正则替换\n\noutput\nurl: https://gupiao.baidu.com/stock/sz002633.html\n总市值：12.69 亿\n时间：已休市 2018-02-09 15:00:03\n\n                ", "mainLikeNum": ["1 "], "mainBookmarkNum": "2"}