{"title": "解决 vim 报错：the imp module is deprecated in favour of importlib - 个人文章 ", "index": "vim,python", "content": "问题描述\n打开 vim 之后，出现如下错误：\nError detected while processing function youcompleteme#Enable[3]..<SNR>71_SetUpPython:\nline   42:\n/must>not&exist/foo:1: DeprecationWarning: the imp module is deprecated in favour of importlib; see the module's documentation for alternative uses\n原因：这是 python warning。imp 从 python3.4 之后 已经不再使用。显然，这个问题是由 ycm 这个插件加载时引起的，可以通过修改 ycm 源码解决。\n解决办法\n有以下几种：1.重新安装 vim，但是采用较低版本的 python2.修改 ycm 报错部分的代码具体修改如下：vim PLUG_PATH/YouCompleteMe/autoload/youcompleteme.vim修改如下：\ndiff --git a/autoload/youcompleteme.vim b/autoload/youcompleteme.vim\nindex 597eb020..32461fa9 100644\n--- a/autoload/youcompleteme.vim\n+++ b/autoload/youcompleteme.vim\n@@ -180,7 +180,7 @@ endfunction\n\n\n function! s:SetUpPython() abort\n-  exec s:python_until_eof\n+  silent! exec s:python_until_eof\n from __future__ import unicode_literals\n from __future__ import print_function\n from __future__ import division\n参考：Error message printed first time python3 (version 3.7.0) dynamic library is imported \n\n更新：这个问题出现在使用 Python 3.7 的情况， 可以暂时在 .vimrc 中做如下配置，并等待更新 Python 3.7 来解决这个问题：\n\" temporary fix\n\" https://github.com/vim/vim/issues/3117\nif has('python3')\n  silent! python3 1\nendif\n\n                ", "mainLikeNum": ["2 "], "mainBookmarkNum": "1"}