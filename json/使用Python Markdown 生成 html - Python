{"title": "使用Python Markdown 生成 html - Python ", "index": "markdown,python", "content": "越来越喜欢使用markdown编写文档，相对doc更简单方便，而且可以渲染输出自己喜欢的样式。开发过程中编写的文档markdown方便svn、git等版本控制工具管理。\n安装 Python-Markdown ，做markdown to html的语法转换\npip install markdown\n安装 Pygments 做语法高亮\npip install Pygments\n执行下面的命令，生成一个默认的语法高亮css文件，更多可以参考Pygments项目网站\npygmentize -S default -f html > default.css\n当前使用的github风格的样式表，代码在这里 ，下载保存为github.css。\n完整代码：\n# -*- coding: utf-8 \n\nimport markdown\nimport os\nimport sys\nreload(sys)\nsys.setdefaultencoding('utf8')\n\ndef md2html(mdstr):\n    exts = ['markdown.extensions.extra', 'markdown.extensions.codehilite','markdown.extensions.tables','markdown.extensions.toc']\n\n    html = '''\n    <html lang=\"zh-cn\">\n    <head>\n    <meta content=\"text/html; charset=utf-8\" http-equiv=\"content-type\" />\n    <link href=\"default.css\" rel=\"stylesheet\">\n    <link href=\"github.css\" rel=\"stylesheet\">\n    </head>\n    <body>\n    %s\n    </body>\n    </html>\n    '''\n\n    ret = markdown.markdown(mdstr,extensions=exts)\n    return html % ret\n\n\n\nif __name__ == '__main__':\n\n    if len(sys.argv) < 3:\n        print('usage: md2html source_filename target_file')\n        sys.exit()\n\n    infile = open(sys.argv[1],'r')\n    md = infile.read()\n    infile.close()\n\n    \n    if os.path.exists(sys.argv[2]):\n        os.remove(sys.argv[2])\n\n\n    outfile = open(sys.argv[2],'a')\n    outfile.write(md2html(md))\n    outfile.close()\n\n    print('convert %s to %s success!'%(sys.argv[1],sys.argv[2]))\n\n将上的代码保存为 md2html.py,然后执行\npython md2html.py test.md test.html\n\n                ", "mainLikeNum": ["1 "], "mainBookmarkNum": "6"}