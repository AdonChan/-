{"title": "Python如何生成词云(详解) - 个人文章 ", "index": "python爬虫,网页爬虫,python", "content": "前言\n今天教大家用wrodcloud模块来生成词云，我读取了一篇小说并生成了词云，先看一下效果图：\n效果图一：\n\n效果图二：\n\n根据效果图分析的还是比较准确的，小说中的主人公就是“程理”，所以出现次数最多。图中有两种模式，一种是默认的模式，另一种是自己添加图片作为背景。下面我就带大家一起来学习怎样去生成词云！\nwordcloud的安装\n对于新人来说安装wordcloud模块就是一大关，我们一般都是通过Pycharm或者PIP安装的，但是在安装wordcloud时会提示错误，如下：\n\n我的解决方法是直接访问下面的网址，根据你的电脑和py版本下载对应的whl文件\nhttps://www.lfd.uci.edu/~gohl...\n\n下载完成后，把whl文件放在pip路径下,输入下面的代码，记住代码的whl文件名一定是适合你的文件名，我只是举例：\n\npip install wordcloud-1.4.1-cp36-cp36m-win32.whl\n\n运行后会显示安装成功\n\nwordcloud的简单用法\nwordcloud的基本方法，看源码如下：\n\n各个参数大家应该一看就明白，另外wordcloud还有几个其他方法，比如fit_words，generate(text)，to_file(filename)等等都是非常好理解的。\nwordcloud生成词云\n效果图一的代码：\n\nfrom wordcloud import WordCloud\nimport matplotlib.pyplot as plt  #绘制图像的模块\nimport  jieba                    #jieba分词\n\npath_txt='C://Users/Administrator/Desktop/all.txt'\nf = open(path_txt,'r',encoding='UTF-8').read()\n\n# 结巴分词，生成字符串，wordcloud无法直接生成正确的中文词云\ncut_text = \" \".join(jieba.cut(f))\n\nwordcloud = WordCloud(\n   #设置字体，不然会出现口字乱码，文字的路径是电脑的字体一般路径，可以换成别的\n   font_path=\"C:/Windows/Fonts/simfang.ttf\",\n   #设置了背景，宽高\n   background_color=\"white\",width=1000,height=880).generate(cut_text)\n\nplt.imshow(wordcloud, interpolation=\"bilinear\")\nplt.axis(\"off\")\nplt.show()\n\n运行后：\n\n效果图二，给词云加上图片背景，代码如下：\n\nfrom PIL import Image\nfrom wordcloud import WordCloud, ImageColorGenerator\nimport matplotlib.pyplot as plt\nimport numpy as np\nimport  jieba\ndef GetWordCloud():\n   path_txt = 'C://Users/Administrator/Desktop/all.txt'\n   path_img = \"C://Users/Administrator/Desktop/timg.jpg\"\n   f = open(path_txt, 'r', encoding='UTF-8').read()\n   background_image = np.array(Image.open(path_img))\n   # 结巴分词，生成字符串，如果不通过分词，无法直接生成正确的中文词云,感兴趣的朋友可以去查一下，有多种分词模式\n   #Python join() 方法用于将序列中的元素以指定的字符连接生成一个新的字符串。\n   cut_text = \" \".join(jieba.cut(f))\n\n   wordcloud = WordCloud(\n       # 设置字体，不然会出现口字乱码，文字的路径是电脑的字体一般路径，可以换成别的\n       font_path=\"C:/Windows/Fonts/simfang.ttf\",\n       background_color=\"white\",\n       # mask参数=图片背景，必须要写上，另外有mask参数再设定宽高是无效的\n       mask=background_image).generate(cut_text)\n   # 生成颜色值\n   image_colors = ImageColorGenerator(background_image)\n   # 下面代码表示显示图片\n   plt.imshow(wordcloud.recolor(color_func=image_colors), interpolation=\"bilinear\")\n   plt.axis(\"off\")\n   plt.show()\n\nif __name__ == '__main__':\n   GetWordCloud()\n\n运行后：\n\n如果有不懂的朋友可以直接在公众号上加我的微信，希望对大家有所帮助！大家可以关注我的微信公众号：「秦子帅」一个有质量、有态度的公众号！\n\n\n                ", "mainLikeNum": ["0 "], "mainBookmarkNum": "2"}