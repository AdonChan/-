{"title": "pip离线安装和配置pypi国内加速镜像实践 - 个人文章 ", "index": "python", "content": "前言\npip安装本身很简单官方推荐的安装方法就一条命令，但离线安装pip时就有点痛苦了，因为不知道缺少什么依赖包。有时候我们下载python的第三方库入django的时候pip install django 或者 easy_install django 发现下载的速度非常的慢。慢的原因其实就是从Python的官方源pypi.python.org/pypi 下载到本地，然后解包安装。不过因为某些原因，访问官方的pypi不稳定，很慢甚至有些还时不时的访问不了。为了解决这个下载慢的问题，可以使用国内的pypi镜像。\n轻轻松松解决pip离线安装，配置pypi国内加速镜像\n更新历史\n2018年05月03日 - 初稿\n阅读原文 - https://wsgzao.github.io/post...\n扩展阅读\nPyPA - https://www.pypa.io/\n\npip简介\nThe PyPA recommended tool for installing Python packages.\npip安装\nhttps://pip.pypa.io/en/stable...\npip在线安装\nTo install pip, securely download get-pip.py:\ncurl https://bootstrap.pypa.io/get-pip.py -o get-pip.py\n\nInspect get-pip.py for any malevolence. Then run the following:\npython get-pip.py\n\npip离线安装\n以 Linux 下 Python 2.7.14 和 pip 9.0.1 为例，Windows 可以参考最后的推荐链接\n下文中提到的压缩包都可以在官方找到对应的版本 - https://pypi.org/\n# Install Packages\nyum install gcc zlib zlib-devel openssl-devel -y\n\n# Install Python\ntar xf Python-2.7.14.tgz\ncd Python-2.7.14\n./configure\nmake\nmake install\ncd ..\n\n# ImportError: No module named six.moves\ntar xf six-1.11.0.tar.gz \ncd six-1.11.0\npython setup.py install\ncd ..\n\n# ImportError: No module named packaging.version\ntar xf packaging-17.1.tar.gz \ncd packaging-17.1\npython setup.py install\ncd ..\n\n# ImportError: No module named pyparsing\ntar xf pyparsing-2.2.0.tar.gz \ncd pyparsing-2.2.0\npython setup.py install\ncd ..\n\n# ImportError: No module named appdirs\ntar xf appdirs-1.4.3.tar.gz \ncd appdirs-1.4.3\npython setup.py install\ncd ..\n\n# Install Setuptools\nunzip setuptools-38.5.2.zip\ncd setuptools-38.5.2\npython setup.py install\ncd ..\n\n# Install pip\ntar xf pip-9.0.1.tar.gz\ncd pip-9.0.1\npython setup.py install\ncd ..\n\n# Upgrading pip\npip install -U pip\n\n配置pypi国内加速镜像\n由于众所周知的原因，国内访问和下载国外的镜像仓库不畅，所以需要做些小小的优化\n阿里云(aliyun) - https://mirrors.aliyun.com/py...豆瓣(douban) - https://pypi.douban.com/simple/ 清华大学(tuna) - https://pypi.tuna.tsinghua.ed...\n临时使用\n注意，simple 不能少, 是 https 而不是 http\npip install -i https://pypi.tuna.tsinghua.edu.cn/simple ansible\n\n永久生效\npip配置文件不存在则需要手动创建，具体配置信息参考官方文档\nhttps://pip.pypa.io/en/stable...\n# Linux\n~/.config/pip/pip.conf\n# Windows\n%APPDATA%\\pip\\pip.ini\n# macOS\n$HOME/Library/Application Support/pip/pip.conf\nLinux更换pypi国内源\n# Linux更换pypi国内源\ntee ~/.config/pip/pip.conf <<-'EOF'\n[global]\nindex-url = https://mirrors.aliyun.com/pypi/simple/\n[install]\ntrusted-host= mirrors.aliyun.com\nEOF\nWindows更换pypi国内源\n# Windows更换pypi国内源，运行以下python代码会自动建立pip.ini\nimport os\n\nini=\"\"\"[global]\nindex-url = https://pypi.doubanio.com/simple/\n[install]\ntrusted-host=pypi.doubanio.com\n\"\"\"\npippath=os.environ[\"USERPROFILE\"]+\"\\\\pip\\\\\"\n\nif not os.path.exists(pippath):\n    os.mkdir(pippath)\n\nwith open(pippath+\"pip.ini\",\"w+\") as f:\n    f.write(ini)\n推荐参考的文章\nPython 2.6 升级至 Python 2.7 的实践心得 - https://wsgzao.github.io/post...pip离线安装和配置pypi国内加速镜像实践 - https://wsgzao.github.io/post...使用pypiserver快速搭建内网离线pypi仓库实践 - https://wsgzao.github.io/post...RHEL7/CentOS7在线和离线安装GitLab配置使用实践 - https://wsgzao.github.io/post...使用pipenv代替virtualenv管理python包 - https://wsgzao.github.io/post...\n\n                ", "mainLikeNum": ["1 "], "mainBookmarkNum": "1"}