{"title": "PHP与Python进行数据交互 - 猴子星球（Mr-houzi' Blog） ", "index": "php,java,python", "content": "个人博客同步文章 https://mr-houzi.com/2018/05/...\n\n最近，决定在一个项目用tp5进行APP接口开发，用Python做数据分析，然后这就面临一个问题：PHP和Python如何进行数据交互？\n思路\n我解决此问题的方法是利用了PHP的passthru函数来调用命令运行Python脚本。\n实现\n在PHP中调用命令运行Python脚本\n//php.php\n\n<?php\n$params = \"value\"; #传递给python脚本的入口参数  \n$path=\"python python.py \"; //需要注意的是：末尾要加一个空格\npassthru($path.$params);//等同于命令`python python.py 参数`，并接收打印出来的信息 \n?>\n若存在多个参数，则参数之间以空格分开\n在Python中接收PHP传入的参数\nsys.argv[]用于获取到的PHP传入python的入口参数\n//python.py\nimport sys  \nparams = sys.argv[1] #即为获取到的PHP传入python的入口参数\nprint(params);\n若在Python中接收多个参数\nparams = sys.argv[1:]\n从Python中返回参数\n若要从Python中返回多个值，需要将值写入元组中，然后通过json.dumps()转化为json，并进行打印，PHP中通过passthru可以获得Python脚本打印的json\nimport sys\nimport json\n\nparams = ('Google', 'Runoob', 1997, 2000);\njson_str =json.dumps(params);\nprint(json_str);\n另需要在PHP中passthru前加@，否则会报以下提示\nNotice: Array to string conversion in php.php on line 6\n效果\n运行调用Python脚本的PHP文件，浏览器中输出值为Python打印的值\n\n                ", "mainLikeNum": ["5 "], "mainBookmarkNum": "8"}