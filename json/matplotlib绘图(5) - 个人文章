{"title": "matplotlib绘图(5) - 个人文章 ", "index": "python", "content": "本章我们主要学习的技能有：添加阴影。\n\n1 添加阴影效果 设置字体大小\nimport matplotlib.pyplot as plt\nfrom matplotlib import patheffects\nimport numpy as np\n\nfontsize=18\n\ndata=np.random.randn(70)\nplt.plot(data)\n\ntitle='This is figture title'\nx_label='This is x axis label'\ny_label='This is y axis label'\n\n# 设置title的字体大小 竖直方向的对齐方式\ntitle_text_obj=plt.title(title,fontsize=fontsize,verticalalignment='bottom')\n# 设置路径效果  添加阴影\ntitle_text_obj.set_path_effects([patheffects.withSimplePatchShadow()])\n\n# 相对于对象的偏移\noffset_xy=(1,-1)\nrgbRed=(1.0,0.0,0.0)\nalpha=0.4\n# 第一个参数为偏移量 第二个参数为阴影的的颜色  第三个参数为透明度\npe=patheffects.withSimplePatchShadow(offset=offset_xy,shadow_rgbFace=rgbRed,alpha=alpha)\n\nxlabel_obj=plt.xlabel(x_label,fontsize=fontsize,alpha=0.5)\nxlabel_obj.set_path_effects([pe])\n\nylabel_obj=plt.ylabel(y_label,fontsize=fontsize,alpha=0.5)\nylabel_obj.set_path_effects([pe])\n\n\nplt.show()\n\n\n2 图形阴影\nimport numpy as np\nimport matplotlib.pyplot as plt\nimport matplotlib.transforms as transforms\n\n# 初始化\ndef setup(layout):\n    assert layout is not None\n    fig = plt.figure()\n    ax = fig.add_subplot(layout)\n    return fig, ax\n\n# 得到绘制图标的数据\ndef  get_signal():\n    t = np.arange(0, 2.5, 0.01)\n    s = np.sin(5 * np.pi * t)\n    return t, s\n\n# 绘制线条（？line后面不加，的话返回的是list类型的数据  加上，返回的是matplotlib.lines.Line2D类型，不太清楚原因，知道的朋友可以的话请告知一下，不胜感激。）\ndef plot_signal(t, s):\n    line ,= axes.plot(t, s, linewidth=5, color='magenta')\n    return line,\n\n\ndef make_shadow(fig, axes, line, t, s):\n    delta=2/72\n    offset=transforms.ScaledTranslation(delta,-delta,fig.dpi_scale_trans)\n    # 我理解的axes.transData是真实的坐标系统  不加offset的话是完全重合的\n    offset_transform=axes.transData+offset\n\n    # zoeder Z轴，把这条线放在上面会直线的底部  transform 把现在的位置装换变化到offset_transform\n    axes.plot(t,s,linewidth=5,color='gray',transform=offset_transform,zorder=0.5*line.get_zorder())\n    pass\n\n\nif __name__ == \"__main__\":\n    fig, axes = setup(111)\n    t, s = get_signal()\n    line, = plot_signal(t, s)\n\n    make_shadow(fig,axes,line,t,s)\n\n    plt.show()\n\n\n                ", "mainLikeNum": ["0 "], "mainBookmarkNum": "1"}