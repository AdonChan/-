{"title": "tornado template默认压缩空白字符导致coffee无法正确缩进 - KJ ", "index": "coffeescript,template-engine,python,tornado", "content": "第一次使用在 tornado 里面写 coffeescript 的时候, 我被结果惊呆了.\n\n大家知道 coffeescript 的偷懒写法是直接在 html 里面开工\n\n<script type=\"text/coffeescript\">\n</script>\n\n\n但是, tornado 的模版无情的删除了所有缩进(对于html和js文件来说, 这就是压缩)\n\n打开tornado的template.py一看\n\ndef __init__(self, template_string, name=\"<string>\", loader=None,\n             compress_whitespace=None, autoescape=_UNSET):\n    self.name = name\n    if compress_whitespace is None:\n        compress_whitespace = name.endswith(\".html\") or \\\n            name.endswith(\".js\")\n\n\n如果是 .html 和 .js 结尾的模版文件渲染, 就会默认开启 compress_whitespace.\n\n当时很沮丧...\n\n不过下一秒钟我们就想到了解决方法: 把文件名改为 .htm 不就好了 :)\n你想到了吗?\n\n                ", "mainLikeNum": ["0 "], "mainBookmarkNum": "0"}