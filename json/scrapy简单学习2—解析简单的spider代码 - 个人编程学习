{"title": "scrapy简单学习2—解析简单的spider代码 - 个人编程学习 ", "index": "scrapy,python", "content": "学习网站:麦子学院scrapy python网络爬虫解析代码：\nimport scrapy\n\nfrom tutorial.items import DmItem\n\nclass DmozSpider(scrapy.Spider):\n    name = \"dm\" #爬虫名\n    allowed_domains = [\"dmoz.org\"]#allow_domains是搜索的域名范围，也就是爬虫的约束区域，规定爬虫只爬取这个域名下的网页。\n    start_urls = [\n        \"http://www.dmoz.org/Computers/Programming/Languages/Python/Books/\",\n        \"http://www.dmoz.org/Computers/Programming/Languages/Python/Resources/\"\n    ]#要爬取的网站\n    \n    \n        #parse解析的方法，\n        #调用的时候传入从每一个URL传回的Response对象作为唯一参数，\n        #负责解析并匹配抓取的数据(解析为item)，跟踪更多的URL。\n    def parse(self, response):\n        \n        #爬取网页所有的ul标签下li标签\n        for li in response.xpath('//*[@id=\"bd-cross\"]/fieldset[3]/ul/li'):\n            #项目=载入DmItem()类\n            item = DmItem()\n            #项目['标题']=li标签里面的a标签的文子（）\n            item['title'] = li.xpath('a/text()').extract()\n            #连接=li标签里a标签的href属性\n            item['link'] = li.xpath('a/@href').extract()\n            #描述=li标签里的text()\n            item['desc'] = li.xpath('text()').extract()\n            \n            yield item#返回项目\n备注：简单的罗列一下有用的xpath路径表达式\n\n                ", "mainLikeNum": ["0 "], "mainBookmarkNum": "5"}