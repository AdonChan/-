{"title": "5-高阶函数 - Python全栈玩起来 ", "index": "python", "content": "map\nmap()接受2个参数，一个函数 ， 一个Iterable，返回Iterator\n\ndef f(x):\n    return x*x\nr = map(f, [1, 2, 3, 4 ,5])\nprint(list(r))  # 强转 由于Iterator是惰性序列\n\nlist(map(str, [1, 2, 3, 4, 5, 6, 7, 8, 9])) # 转字符串\n\n多参数映射：当多个列表元素个数不同时，以最小个数的为基准\n\nlist1 = [1, 2, 3, 4]\nlist2 = [1, 2, 3, 4]\nlist3 = [1, 2, 3, 4]\nlist4 = [1, 2, 3, 4]\n\n\ndef addList(x, y, z, k):\n    return  x + y + z + k\nprint(list(map(addList, list1,list2,list3,list4)))\n\n\n\nreduce\n把一个函数作用在一个序列[x1, x2, x3, ...]上reduce(func, iter [,initail]) initail设置为初始值这个函数必须接收两个参数，reduce把结果继续和序列的下一个元素做累积计算\n# 把序列变成整数13579\nfrom functools import reduce\ndef fn(x,y):\n    return  x*10 + y\nprint(reduce(fn, [1, 3, 5, 7, 9]))\n\nfilter\n用于过滤序列 然后根据返回值是True还是False决定保留还是丢弃该元素\ndef is_odd(n): # 删除偶数\n    return n%2 ==1\nprint(list(filter(is_odd, [1, 2, 4, 5, 7, 10, 15]))) \n# 返回都是是迭代器\n\n# 把序列中的空字符串去掉\ndef not_empty(s):\n    return s and s.strip()\nprint(list(filter(not_empty, ['A', '', 'B ', None, 'C', '  '])))\n\n# 求素数\n#计算素数的一个方法是埃氏筛法\ndef _odd_iter():  # 构成一个从3开始的奇数序列\n    n =1            # 注意这是一个生成器，并且是一个无限序列\n    while True:\n        n = n + 2\n        yield n\n\ndef _not_divisible(n): # 筛选函数\n    return lambda x:x%n > 0 #获得对n取余不为0的序列（比如删除所有是2倍数的数字）\n\n\ndef primes():   # 定义一个生成器，不断返回下一个素数\n    yield 2\n    it = _odd_iter() # 初始化序列\n    while True:\n        n = next(it)\n        yield n\n        it = filter(_not_divisible(n), it)\n\n\nfor n in primes():\n    if n < 1000:\n        print(n)\n     else:\n         break\n\nsorted\n返回一个列表，如果对字典sorted，返回一个列表，列表中的元组存放键值对\n\nprint(sorted([-36, 5, -12, 9]))\nprint(sorted([-36, 5, -12, 9], key=abs)) # 按绝对值排序\nprint(sorted(['bob', 'about', 'Zoo', 'Credit'], key=str.lower)) # reverse=True\n\nL = [('Bob', 75), ('Adam', 92), ('Bart', 66), ('Lisa', 88)]\n\nprint(sorted(L, key=lambda t:t[1]))  # 按成绩排\n\n# 字典按键排序\nsorted(dict1.items(), key = lambda x:x[0])\n# 字典按值排序\nsorted(dict1.items(), key = lambda x:x[1])\n\n# a = [{'年龄':12, '姓名':'7刘'},{'年龄':11, '姓名':'7刘'},{'年龄':18, '姓名':'6刘'},{'年龄':7, '姓名':'刘'}]\n# 字典没有.sort方法 而列表可以用\na.sort(key=lambda x:x['年龄'])\n\n    \n\n                ", "mainLikeNum": ["0 "], "mainBookmarkNum": "1"}