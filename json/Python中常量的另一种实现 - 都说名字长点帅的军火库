{"title": "Python中常量的另一种实现 - 都说名字长点帅的军火库 ", "index": "python", "content": "虽然在python中定义常量看起来有点违背python的动态性，但是在teamwork当中，rule is  rule，常量作为一种合作的契约，还是很有必要的。\n回到常量本身，常量应该是一种明确并且一旦初始化便不可更改的值，或作为协议的实现，或作为契约的存在。\n网络上关于实现python的const，基本使用python的__getattr__，__setattr__来实现的，今天给大家介绍一种更简便实现常量的方法，它就是__slots__。\n\n#const.py\nimport sys \n\nclass Const(object):\n    __slots__ = ('STATUS_OK', 'STATUS_TIMOUT', 'STATUS_ERROR')\n    STATUS_OK = 1000\n    STATUS_TIMOUT = 1001\n    STATUS_ERROR = 1005\n\nsys.modules[__name__] = Const()\n\n接下来就可以看看运行效果了！\n>>> import const\n>>> print const.STATUS_OK\n1000\n>>> const.STATUS_OK=1\nTraceback (most recent call last):\n  File \"<stdin>\", line 1, in <module>\nAttributeError: 'Const' object attribute 'STATUS_OK' is read-only\n>>> \nps：注册这么久，只为sf做出这么一点微小的工作，很惭愧。\n\n                ", "mainLikeNum": ["0 "], "mainBookmarkNum": "1"}