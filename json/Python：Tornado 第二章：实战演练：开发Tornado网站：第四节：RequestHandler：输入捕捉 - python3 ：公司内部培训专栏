{"title": "Python：Tornado 第二章：实战演练：开发Tornado网站：第四节：RequestHandler：输入捕捉 - python3 ：公司内部培训专栏 ", "index": "python", "content": "上一篇文章：Python：Tornado 第二章：实战演练：开发Tornado网站：第三节：RequestHandler：接入点函数下一篇文章：Python：Tornado 第二章：实战演练：开发Tornado网站：第五节：RequestHandler：输出相应函数\n\n输入捕捉是指在RequestHandler中用于获取客户端输入的工具函数和属性。比如获取URL参数、Post提交参数等。\n1、get_argument(name)、get_arguments(name)\nRequestHandler.get_argument(name)与RequestHandler.get_arguments(name)都是返回给定参数的值。get_argument是获取单个值,而get_arguments在参数存在多个值得情况下使用，返回多个值的列表。  注意：使用这两个方法获取的事URL中查询的参数与POST提交的参数的参数合集。\n2、get_query_argument(name)、get_query_arguments(name)\n功能与上面两个方法类似，唯一区别是这两个方法仅仅从URL中查询参数。\n3、get_body_argument(name)、get_body_arguments(name)\n功能尚与上面四个方法类似，唯一区别是这两个方法仅仅从POST提交的参数中查询。\n提示：实际开发中一般会使用get_argument、get_arguments这两个方法，因为他们会包含其他方法的查询结果。\n4、get_cookie(name,default=None)\n根据Cookie名称获取Cookie的值\n5、 RequestHandler.request\n返回tornado.httputil.HTTPServerRequest对象实例的属性，通过该对象可以获取关于HTTP请求的一切信息，比如：\nfrom tornado.web import Application, RequestHandler\nimport tornado.ioloop\n\n\nclass DetailHandler(RequestHandler):\n    def get(self):\n        ip = self.request.remote_ip  # 获取客户端的IP地址\n        host = self.request.host  # 获取请求的主机地址\n        result=\"ip地址为%s,host为%s\"%(ip,host)\n        return self.write(result)\n\n\nif __name__ == '__main__':\n    app = Application([\n        (\"/request\", DetailHandler)\n    ])\n    app.listen(8888)\n    tornado.ioloop.IOLoop.current().start()\n\n浏览器输入：http://localhost:8888/request\n页面显示：\nip地址为::1,host为localhost:8888\n常用的httputil.HTTPServerRequest对象属性如下表：\n\n\n属性名\n说明\n\n\n\nmethod\nHTTP请求方法，例如：GET、POST\n\n\nuri\n客户端请求的uri的完整内容。\n\n\npath\nuri路径名，即不包含查询字符串\n\n\nquery\nuri中的查询字符串\n\n\nversion\n客户端发送请求时使用的HTTP版本，例如：HTTP/1.1\n\n\nheaders\n以字典方式的形式返回HTTP Headers\n\n\nbody\n以字符串的形式返回HTTP消息体\n\n\nremote_ip\n客户端的IP地址\n\n\nprotocol\n请求协议，例如：HTTP、HTTPS\n\n\nhost\n请求消息的主机名\n\n\narguments\n客户端提交的所有参数。\n\n\nfiles\n以字典形式返回客户端上传的文件，每个文件名对应一个HTTPFile\n\n\ncookies\n客户端提交的Cookies字典\n\n\n\n\n                ", "mainLikeNum": ["1 "], "mainBookmarkNum": "1"}