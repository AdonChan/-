{"title": "使用nodejs发送邮件 - luckyw ", "index": "python,mail,node.js", "content": "最近一些天在学python，我觉得这门语言这门简单又很好玩，为什么不把这门语言当做程序员学语言的敲门砖了，而选择那么复杂的C语言。在学python的过程中，有学习到python有可以发送邮件的功能，我就在想node会不会也有发送邮件的模块工具了，果不其然，让我找到一个，也就是本文所要介绍到的nodemailer了，npm官方地址:https://www.npmjs.com/package...\npython发送邮件简单实现\n\n不多说，直接看代码:\n#-*-coding:utf8-*-\nimport smtplib\nfrom email.mime.text import MIMEText\n\nmail_host='smtp.126.com'    //设置主机，如果是QQ请换成smtp.qq.com\nmail_user='xxxxxxxx@126.com'        //账户\nmail_pass = '这里填入授权码，下面会说到'    //邮箱授权码，非密码\n\nme = 'Leo Angel'+'<'+mail_user+'>' //发件人\nto = 'xxxxxxxxx@qq.com'                 //收件人\nmsg = MIMEText(\"Test\",_subtype='plain',_charset='utf-8')\nmsg['Subject'] = 'Hello'    //主题\nmsg['From'] = me        //发件人\nmsg['To'] = to            //收件人\ntry:\n    server = smtplib.SMTP()        //创建一个SMTP对象\n    server.connect(mail_host)        //连接主机\n    server.login(mail_user,mail_pass)    //登录账号\n    server.sendmail(me,to,msg.as_string())    //发送邮件\n    server.close()                //关闭SMTP对象\n    print '邮件发送成功'            //打印发送成功提示信息\nexcept Exception as e:\n    print e            //打印错误日志\n开启SMTP服务\n\n我以QQ邮箱和126邮箱举例:QQ邮箱:首先打开你的QQ邮箱，点击设置，选择邮箱设置第二项帐户，鼠标下拉到POP3/IMAP/SMTP/Exchange/CardDAV/CalDAV服务，开启第一项POP3/SMTP服务，如下图所示，开启成功后会生成授权码给你，对应代码的pass字段，选择填入即可126邮箱:同QQ邮箱基本一样，登陆之后点击设置下拉菜单POP3/SMTP/IMAP，勾选POP3/SMTP服务，成功之后会生成授权码，填入对应的pass字段\n发送邮件代码如下:\n\n首先创建项目文件夹，然后再里面打开终端输入npm install nodemailer --save安装nodemailer模块，新建app.js文件，输入以下代码，最后执行node app，成功之后到你收件人邮箱就可以发现收到了一条新信息\nvar mail = require('nodemailer');//引入nodemailer模块\nvar transport = mail.createTransport({\n    host:'smtp.qq.com',        //主机，如果是126邮箱，请换成smtp.126.com\n    secureConnection:true,    //使用安全连接\n    port:465,            //STMP端口号\n    auth:{\n        user:\"xxxxxxxx@xx.com\", //你的邮箱账号\n        pass:\"填对应邮箱的授权码\"    //授权码\n    }\n});\nvar options ={\n    from:'\"YOURNAME\" xxxxxxxx@xx.com',//YOURNAME将变为你邮件的名字\n    to:\"xxxxxxxx@126.com,xxxxxxxx@qq.com，xxxxxx@gmail.com\",//收件人\n    subject:'Hello',    //主题\n    text:\"World\",        //正文\n    attachments:[{        //附件\n        filename:\"附加文件\",    //附件名字\n        path:\"./app.js\"        //附件路径\n    }]\n};\ntransport.sendMail(options,function (err, res) {\n    if(err) console.log(err);\n    else console.log(res);\n});\n\n                ", "mainLikeNum": ["0 "], "mainBookmarkNum": "1"}