{"title": "Linux命令_用户,权限管理 - 活到老学到老 ", "index": "linux,python", "content": "没有之一: <命令> --help\n1. 查看当前用户：whoami\nwhoami该命令用户查看当前系统当前账号的用户名。可通过cat /etc/passwd查看系统用户信息，由于系统管理员通常需要使用多种身份登录系统，例如通常使用普通用户登录系统，然后再以su命令切换到root身份对传统进行管理。这时候就可以使用whoami来查看当前用户的身份\n2. 查看登录用户：who\nwho命令用于查看当前所有登录系统的用户信息。\n\n\n选项\n含义\n\n\n\n-m或am I\n只显示运行who命令的用户名、登录终端和登录时间\n\n\n-q或--count\n只显示用户的登录账号和登录用户的数量\n\n\n-u或--heading\n显示列标题\n\n\n\n3. 退出登录账户： exit\n\n如果是图形界面，退出当前终端；\n如果是使用ssh远程登录，退出登陆账户；\n如果是切换后的登陆用户，退出则返回上一个登陆账号。\n\n4. 添加用户账号：useradd\n在Unix/Linux中添加用户账号可以使用adduser或useradd命令，因为adduser命令是指向useradd命令的一个链接，因此，这两个命令的使用格式完全一样。\nuseradd命令的使用格式如下： useradd [参数] 新建用户账号\n\n\n参数\n含义\n\n\n\n-d\n指定用户登录系统时的主目录，如果不使用该参数，系统自动在/home目录下建立与用户名同名目录为主目录\n\n\n-m\n自动建立目录\n\n\n-g\n指定组名称\n\n\n\n注意:\n* Linux每个用户都要有一个主目录，主目录就是第一次登陆系统，用户的默认当前目录(/home/用户)；\n* 每一个用户必须有一个主目录，所以用useradd创建用户的时候，一定给用户指定一个主目录；\n* 用户的主目录一般要放到根目录的home目录下，用户的主目录和用户名是相同的；\n* 如果创建用户的时候，不指定组名，那么系统会自动创建一个和用户名一样的组名。\n\n\n\n命令\n含义\n\n\n\nuseradd -d /home/abc abc -m\n创建abc用户，如果/home/abc目录不存在，就自动创建这个目录，同时用户属于abc组\n\n\nuseradd -d /home/a a -g test -m\n创建一个用户名字叫a，主目录在/home/a，如果主目录不存在，就自动创建主目录，同时用户属于test组\n\n\ncat /etc/passwd\n查看系统当前用户名\n\n\n\n5. 设置用户密码：passwd\n在Unix/Linux中，超级用户可以使用passwd命令为普通用户设置或修改用户口令。用户也可以直接使用该命令来修改自己的口令，而无需在命令后面使用用户名。\n6. 删除用户：userdel\n\n\n命令\n含义\n\n\n\nuserdel abc(用户名)\n删除abc用户，但不会自动删除用户的主目录\n\n\nuserdel -r abc(用户名)\n删除用户，同时删除用户的主目录\n\n\n\n7. 切换用户：su\n可以通过su命令切换用户，su后面可以加“-”。su和su –命令不同之处在于，su -切换到对应的用户时会将当前的工作目录自动转换到切换后的用户主目录：\n注意：如果是ubuntu平台，需要在命令前加“sudo”，如果在某些操作需要管理员才能操作，ubuntu无需切换到root用户即可操作，只需加“sudo”即可。sudo是ubuntu平台下允许系统管理员让普通用户执行一些或者全部的root命令的一个工具，减少了root 用户的登陆和管理时间，提高了安全性。\n\n\n命令\n含义\n\n\n\nsu\n切换到root用户\n\n\nsu root\n切换到root用户\n\n\nsu -\n切换到root用户，同时切换目录到/root\n\n\nsu - root\n切换到root用户，同时切换目录到/root\n\n\nsu 普通用户\n切换到普通用户\n\n\nsu - 普通用户\n切换到普通用户，同时切换普通用户所在的目录\n\n\n\n8. 查看有哪些用户组\ncat /etc/group\n9. 添加、删除组账号：groupadd、groupdel\ngroupadd 新建组账号 groupdel 组账号 cat /etc/group 查看用户组groupmod tab键\n10. 修改用户所在组：usermod\nusermod -g 用户组 用户名\n11. 为创建的普通用户添加sudo权限\nsudo usermod -a -G adm 用户名sudo usermod -a -G sudo 用户名\n\nusermod -g 与 -G的区别\n\n-g用来制定这个用户默认的用户组\n-G一般配合'-a'来完成向其它组添加\n\n\n12. 修改文件权限：chmod\nchmod 修改文件权限有两种使用格式：字母法与数字法。\n字母法：chmod u/g/o/a +/-/= rwx 文件\n\n\n[ u/g/o/a ]\n含义\n\n\n\nu\nuser 表示该文件的所有者\n\n\ng\ngroup 表示与该文件的所有者属于同一组( group )者，即用户组\n\n\no\nother 表示其他以外的人\n\n\na\nall 表示这三者皆是\n\n\n\n\n\n[ +-= ]\n含义\n\n\n\n+\n增加权限\n\n\n-\n撤销权限\n\n\n=\n设定权限\n\n\n\n\n\nrwx\n含义\n\n\n\nr\nread 表示可读取，对于一个目录，如果没有r权限，那么就意味着不能通过ls查看这个目录的内容。\n\n\nw\nwrite 表示可写入，对于一个目录，如果没有w权限，那么就意味着不能在目录下创建新的文件。\n\n\nx\nexcute 表示可执行，对于一个目录，如果没有x权限，那么就意味着不能通过cd进入这个目录。\n\n\n\n数字法：“rwx” 这些权限也可以用数字来代替\n\n\n字母\n说明\n\n\n\nr\n读取权限，数字代号为 \"4\"\n\n\nw\n写入权限，数字代号为 \"2\"\n\n\nx\n执行权限，数字代号为 \"1\"\n\n\n-\n不具任何权限，数字代号为 \"0\"\n\n\n\n如执行：chmod u=rwx,g=rx,o=r filename 就等同于：chmod u=7,g=5,o=4 filename\n\nchmod 751 file：\n\n文件所有者：读、写、执行权限\n同组用户：读、执行的权限\n其它用户：执行的权限\n\n\n注意：如果想递归所有目录加上相同权限，需要加上参数“ -R ”。 如：chmod 777 test/ -R 递归 test 目录下所有文件加 777 权限\n13. 修改文件所有者：chown\nsudo chown GG test.txt\n14. 修改文件所属组：chgrp\nsudo chgrp GGG test.txt\n参考\n菜鸟教程\n\n                ", "mainLikeNum": ["0 "], "mainBookmarkNum": "0"}