{"title": "scrapy学习之路3(爬取的数据保存本地文件或MYSQL) - 个人文章 ", "index": "python,scrapy", "content": "保存item中的信息到本地文件\n1.自定义以json格式保存到本地文件\npiplines.py再到settings.py中添加使用\n2.scrapy自带方式以json格式保存到本地文件\npiplines.py再到settings.py中添加使用\n保存item中的信息到MySQL(同步)\n设计表结构\n注意:日期是str类型，要转化成date类型\npiplines.py\n补充：settings.py\n\n\n保存item中的信息到MySQL(异步twisted)\nsettings.py\nMYSQL_HOST = '127.0.0.1'\nMYSQL_DBNAME = 'spider'\nMYSQL_USER = 'root'\nMYSQL_PASSWORD = '123456'\npiplines.py\n\n去重写法\n    def do_insert(self, cursor, item):\n        my_sql = \"\"\"\n            insert into youwu(url, url_object_id, title, big_image_url) VALUES (%s, %s, %s, %s) on duplicate key update title=values(title), big_image_url=value(big_image_url)\n        \"\"\"\n        cursor.execute(my_sql, (item['url'], item['url_object_id'], item['title'], item['big_image_url']))\n\n                ", "mainLikeNum": ["0 "], "mainBookmarkNum": "0"}