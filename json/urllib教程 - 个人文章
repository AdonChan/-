{"title": "urllib教程 - 个人文章 ", "index": "python", "content": "\nurllib\n导入urllib,有以下两种方式，喜欢那种方式看个人爱好：\nimport urllib.request\nimport urllib.parse\n#from urllib import reuqest\nurllib发送get请求：\n# 反反爬虫的基本策略之一：设置user-agent浏览器标识自己要伪装的头部\nimport urllib.request\nimport urllib.parse\n\n#设置ssl证书\n\n\nimport ssl\nssl._create_default_https_context = ssl._create_unverified_context\n\n\nurl = 'http://www.baidu.com/'\n\n# response = urllib.request.urlopen(url)\n# print(response.read().decode())\n\n# 反反爬虫的基本策略之一：设置user-agent浏览器标识自己要伪装的头部\nheaders = {\n    'User-Agent': 'Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36',\n}\n# 构建请求对象\nrequest = urllib.request.Request(url=url, headers=headers)\n# 发送请求\nresponse = urllib.request.urlopen(request)\n\nprint(response.read().decode())\n\nurllib发送post请求：\nimport urllib.request\nimport urllib.parse\n\npost_url = 'http://fanyi.baidu.com/v2transapi'\nword = 'wolf'\nformdata = {\n    'from':    'en',\n    'to': 'zh',\n    'query': word,\n    'transtype': 'realtime',\n    'simple_means_flag': '3',\n    'sign': '275695.55262',\n    'token': '7d9697542b6337bfd8f1b54c7887dcf5',\n}\n\nheaders = {\n    'Host': 'fanyi.baidu.com',\n    # 'Connection': 'keep-alive',\n    # 'Content-Length': '120',\n    # 'Accept': '*/*',\n    'Origin': 'http://fanyi.baidu.com',\n    'X-Requested-With': 'XMLHttpRequest',\n    'User-Agent': 'Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.181 Safari/537.36',\n    # 'Content-Type': 'application/x-www-form-urlencoded; charset=UTF-8',\n    'Referer': 'http://fanyi.baidu.com/?aldtype=16047',\n    # 'Accept-Encoding': 'gzip, deflate',\n    'Accept-Language': 'zh-CN,zh;q=0.9',\n    'Cookie': 'BAIDUID=D1620A70988D2694BE528E5CEFE5B5F3:FG=1; BIDUPSID=D1620A70988D2694BE528E5CEFE5B5F3; PSTM=1526524899; to_lang_often=%5B%7B%22value%22%3A%22en%22%2C%22text%22%3A%22%u82F1%u8BED%22%7D%2C%7B%22value%22%3A%22zh%22%2C%22text%22%3A%22%u4E2D%u6587%22%7D%5D; REALTIME_TRANS_SWITCH=1; FANYI_WORD_SWITCH=1; HISTORY_SWITCH=1; SOUND_SPD_SWITCH=1; SOUND_PREFER_SWITCH=1; from_lang_often=%5B%7B%22value%22%3A%22zh%22%2C%22text%22%3A%22%u4E2D%u6587%22%7D%2C%7B%22value%22%3A%22en%22%2C%22text%22%3A%22%u82F1%u8BED%22%7D%5D; BDORZ=FFFB88E999055A3F8A630C64834BD6D0; H_PS_PSSID=; locale=zh; Hm_lvt_64ecd82404c51e03dc91cb9e8c025574=1527210729,1527556520; Hm_lpvt_64ecd82404c51e03dc91cb9e8c025574=1527556520',\n}\n\nrequest = urllib.request.Request(url=post_url, headers=headers)\n\nformdata = urllib.parse.urlencode(formdata).encode()\n\nresponse = urllib.request.urlopen(request, formdata)\n\nprint(response.read().decode())    \n\nurllib.parse\nparse.quote#将字符串类型转化为unicode类型\nparse.urlcode#传入的数据是字典格式的，\nurllib.response\nimpport urllib.response\n#状态码\n    urllib.response.status\n#请求头信息:\n\n    urllib.response.headers\n\n                ", "mainLikeNum": ["0 "], "mainBookmarkNum": "0"}