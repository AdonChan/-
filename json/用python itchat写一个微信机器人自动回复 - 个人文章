{"title": "用python itchat写一个微信机器人自动回复 - 个人文章 ", "index": "微信,python", "content": "首先看一下效果：\n\n进入正题：\n一、首先要去图灵机器人网站注册一个机器人账号：\n链接：http://www.tuling123.com/\n你可以获取自己的图灵机器人apikey\n懒得话不注册也可以，我下面的代码里面有我自己的，照样可以用。^_^\n二、好了，开始上代码。\n先导入两个包，没有的要先下载安装。直接命令pip install itchat，不出意外就OK。\nimport itchat\nimport requests\n然后定义一个向图灵机器人发送消息并接受机器人回复的消息，并将从图灵机器人接受到的消息return返回。\ndef get_response(_info):\nprint(_info)                                       # 从好友发过来的消息\napi_url = 'http://www.tuling123.com/openapi/api'   # 图灵机器人网址\ndata = {\n    'key': '485712b8079e44e1bc4af10872b08319',     # 如果这个 apiKey 如不能用，那就注册一次\n    'info': _info,                                 # 这是我们从好友接收到的消息 然后转发给图灵机器人\n    'userid': 'wechat-robot',                      # 这里你想改什么都可以\n}\nr = requests.post(api_url, data=data).json()       # 把data数据发\nprint(r.get('text'))                               # 机器人回复给好友的消息\nreturn r\n\n三、定义消息回复\n@itchat.msg_register(itchat.content.TEXT)\ndef text_reply(msg):\n    return \"【我是天才^_^】\" + get_response(msg[\"Text\"])[\"text\"]\n\n四、扫码登录，大功告成。\n\nif __name__ == '__main__':\n    itchat.auto_login(hotReload=True)                  # hotReload = True, 保持在线，下次运行代码可自动登录\n    itchat.run()\n\n\n\n                ", "mainLikeNum": ["0 "], "mainBookmarkNum": "0"}