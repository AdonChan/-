{"title": "批量更新 SecureCRT 中堡垒机的密码 - yexiaoxiaobai ", "index": "python", "content": "由于安全要求，公司定时更新堡垒机的密码，而 SA 维护上成千上万台服务器，如果每次变更密码都要手工去更新密码那太惨了，作为懒惰的人，必须要写程序解决，下面是我写的一个小脚本，批量更新 SecureCRT 脚本中堡垒机的密码\n\n本脚本是在 Windows 下执行\n\n#coding:utf-8\nimport os\nimport re\n\n\ndef modify_bacth(path):\n    for (dirpath, dirnames, filenames) in os.walk(path):\n        for file in filenames:\n            fullname=os.path.join(dirpath, file)\n            fp=open(fullname,'r')\n            alllines=fp.readlines()\n            fp.close()\n            fp=open(fullname, 'w')\n            result = re.compile(r'\"Password\"=(.*)') // 正则表达式匹配老密码\n            for eachline in alllines:\n                a=result.sub('\"Password\"=你的新密码',eachline)\n                # print a\n                fp.writelines(a)\n                # print eachline\n            fp.close()\n\nif __name__ =='__main__':\n    path='C:\\Users\\AppData\\Roaming\\VanDyke\\Config\\Sessions' // SecureCRT 的 *.ini 文件的路径\n    modify_bacth(path)\n\n\n                ", "mainLikeNum": ["0 "], "mainBookmarkNum": "5"}