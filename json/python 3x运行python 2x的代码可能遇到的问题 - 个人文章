{"title": "python 3x运行python 2x的代码可能遇到的问题 - 个人文章 ", "index": "python", "content": "下面的源代码是书上的范例，针对python3x以下版本的,而本人是python3.5版本，所以运行中遇到问题如下：书上源代码：\n#!user/bin/env python\n# -*- coding:gbk -*-\n\nimport re\nimport urllib2\nimport MYSQLdb\nfrom BeautifulSoup import BeautifulSoup\n\nurl1=\"http://www.doyouhike.net/dest/hongkongtamendao-camping\" # 链接可以自己任意找一个\n\n# 赋一个URL\nfp = urllib2.urlopen(url1) #打开此URL\ns = fp.read() #把上面操作的结果读取出来赋值给S\nsoup = BeautifulSoup(s) # 用BeautifulSoup分析S\npolist = soup.finAll('span') # 找到所有tag <span>的内容\n\nprint (polist[0].contents[0]) # 打印出第一个tag <span>中间的内容\n\n报错：\n\n原因：1.soup.finAll('span')写错了，应为soup.findAll('span')2.是print (polist[0].contents[0])不是print (polist[0]/contents[0])问题：1.ImportError: No module named 'MySQLDB'解决：首先百度，发现python3x版本不再是使用mysqldb,而是用pymysql,出错原因可能是没安装pymysql但是C:UsersAdministrator>pip install pymysqlRequirement already satisfied: pymysql in c:usersadministratorappdatalocalprogramspythonpython35libsite-packages这些命令告诉我，我已经安装过了所以另一种可能出在程序代码上，将import mysqldb 改为import pymsql程序运行成功【参考】python3的玩家们 pymysql把mysqldb库取代了 - Magicbreaker的专栏 - 博客频道 - CSDN.NEThttp://blog.csdn.net/magicbre...2.ImportError: No module named 'BeautifulSoup'原因：原来Beautifulsoup 4，改名为bs4了【解决过程】\n后来是参考bs4的官网文档：\nhttp://www.crummy.com/softwar...代码如下：from bs4 import BeautifulSoup\nsoup = BeautifulSoup(open(\"index.html\"))\nsoup = BeautifulSoup(\"<html>data</html>\"【参考】【已解决】Python3中，已经安装了bs4（Beautifulsoup 4）了，但是却还是出错：ImportError: No module named BeautifulSoup – 在路上https://www.crifan.com/python...3.报错：“AttributeError: 'module' object has no attribute 'urlopen'”module 'urllib' has no attribute 'urlopen'等等原因是Python3里的urllib模块已经发生改变，此处的urllib都应该改成urllib.request。【参考】AttributeError: module 'urllib' has no attribute 'urlopen' - u012133509的博客 - 博客频道 - CSDN.NEThttp://blog.csdn.net/u0121335...\n4.问题未解决：python3 新手一枚，运用Python3.4.1爬网页，网易的机器学习网页，报Unicodedecodeerror，该网页是utf-8._百度知道https://zhidao.baidu.com/ques... reload(sys)找不到，name 'reload' is not defined - 云淡风轻 - 博客频道 - CSDN.NEThttp://blog.csdn.net/x3569826...正确代码如下（本人python3.5）:\n#!user/bin/env python\n# -*- coding:gbk -*-\n# import importlib\n# importlib.reload(sys)\nimport re\nimport urllib.request,os\nimport pymysql\nfrom bs4 import BeautifulSoup\n\nurl1=\"http://www.doyouhike.net/dest/hongkongtamendao-camping\"\n\n# 赋一个URL\nfp = urllib.request.urlopen(url1) #打开此URL\ns = fp.read() #把上面操作的结果读取出来赋值给S\nsoup = BeautifulSoup(s) # 用BeautifulSoup分析S\npolist = soup.findAll('span') # 找到所有tag <span>的内容\n\nprint (polist[0].contents[0]) # 打印出第一个tag <span>中间的内容\n\n\n\n                ", "mainLikeNum": ["0 "], "mainBookmarkNum": "2"}