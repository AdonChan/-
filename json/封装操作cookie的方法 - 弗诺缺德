{"title": "封装操作cookie的方法 - 弗诺缺德 ", "index": "python,html,css,php,javascript", "content": "使用原生方法对cookie操作是有些麻烦的，我们可以将其封装起来，name代表键名，value代表值，不填则为读取名为name的值，option代表设置值如有效期等。其中有效期单位为天。\nfunction cookie(name, value, options) {\n        if (typeof value != 'undefined') {\n            options = options || {};\n            //如果值为null, 删除cookie\n            if (value === null) {\n                value = '';\n                options = {\n                    expires: -1\n                };\n            }\n            //设置有效期\n            var expires = '';\n            if (options.expires && (typeof options.expires == 'number' || options.expires.toGMTString)) {\n                var date;\n                if (typeof options.expires == 'number') {\n                    date = new Date();\n                    date.setTime(date.getTime() + (options.expires * 24 * 60 * 60 * 1000));\n                } else {\n                    date = options.expires;\n                }\n                expires = ';expires=' + date.toGMTString();\n            }\n            var path = options.path ? ';path=' + (options.path) : '';\n            var domain = options.domain ? ';domain=' + (options.domain) : '';\n            var secure = options.secure ? ';secure' : '';\n            //设置cookie\n            document.cookie = [name, '=', encodeURIComponent(value), expires, path, domain, secure].join('');\n        } else {\n            //读取cookie\n            if (document.cookie.length > 0) {\n                var start = document.cookie.indexOf(name + \"=\")\n                if (start != -1) {\n                    start = start + name.length + 1;\n                    var end = document.cookie.indexOf(\";\", start);\n                    if (end == -1){\n                        end = document.cookie.length;\n                    }\n                    return decodeURIComponent(document.cookie.substring(start, end));\n                }\n            }\n            return \"\"\n        }\n    }\n\n    cookie(\"name\", \"zhangsan\"); //添加name=zhangsan\n    cookie(\"name\", null); // 删除name\n    cookie(\"age\", \"10\", {\n        expires: 30\n    }); // 添加age=10且有效期30天\n\n                ", "mainLikeNum": ["0 "], "mainBookmarkNum": "4"}