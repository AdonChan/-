{"title": "高德API+Python解决租房问题 - 程序员实验室 ", "index": "python,linux", "content": "项目简介：编写Python脚本爬取某租房网站的房源信息，利用高德的 js API 在地图上标出房源地点，划出距离工作地点1小时内可到达的范围，附上公交路径规划功能查看不同路径的用时。\n本教程由ekCit发布在实验楼，完整教程及在线练习地址：高德API+Python解决租房问题，可以直接在教程中下载代码使用demo。\n一、项目介绍\n1. 项目背景\n来自一段租房血泪史(夸张)：事情是这样的，笔者是接着念大四准备考研，而室友是应届毕业在找工作，说白了就是都没有钱，于是打算合租。因为穷所以不可能找有门店的的中介，只能看看赶集、58、和一些租房APP。期间需要考虑两个人的通勤范围来选地段，由于对交通的不熟悉，只有选择自己附近的较贵的地段，花了很多时间阅览赶集或者58里的个人房源信息，然而个人房源信息中仍充斥着大量中介，抱着一点希望打了几个电话，得到的回答都是这个价位根本租不到，再高点也租不到（大都与发布的房源信息不符）。最后终于还是在宿舍关闭前一个星期租到一个性价比还可以的隔断。毕竟隔断还是不方便的，所以打算在室友找到工作后换一个新地方，于是就有了这个租房脚本和课程。\n相信也有不少的应届毕业生可能会遭遇同样的境况，希望这门课能真的帮到大家，也许不光是在租房子方面。\n总结一下租房难的症结：\n\n没钱。\n小中介发布的价位一般都是假的，会浪费你很多时间。\n对交通路线不熟悉以致于选择面窄。\n如果是多人，得同时考虑多人的通勤时间。\n\n本课程将解决的问题：\n\n学习了技术，增长了知识，就能找到好工作，找到好工作就能有钱。\n这次选的房源信息来自58的品牌公寓馆，所以没有那种小中介，价位就我和我室友来说可以接受。其实可以做个分类器过滤赶集上的中介来找低价个人房源的，有需要的同学可以试一下。\n通勤范围在地图上圈出，解决了对交通路线不熟悉的问题\n本课程是单人版的，但代码中只要删掉一个语句就能当多人用了（但是路径规划的功能是只能给一个人用）。如果是直接拿来多人用的话，还是开多个页面比较好。\n\n最终效果图如下：\n\n由于没做前端兼容，导致右上角崩了。自用的小工具其实也不用整多好看，效率第一。\n如图，划出来的大片蓝色色块就是距离工作地点一小时车程内的区域。蓝色的标记就是房源，点击后会自动给出路径规划和房源地址。红色标记（不是\"终\"）是工作地点,在图里被挡住了。工作地点的输入框有自动补完的功能，也是很方便的。至于房源文件我们会通过编写Python脚本在抓取房源信息后生成。\n2. 知识点\n本课程项目完成过程中，我们将学习：\n\nrequests、BeautifulSoup、csv 等库的简单使用\n高德地图 Javascript API 的使用\n\n二、实验环境\n打开终端，进入 Code 目录，创建 rent_proj 文件夹, 并将其作为我们的工作目录。\n$ cd Code\n$ mkdir rent_proj && cd rent_proj\n\n安装需要的库：\n$ sudo apt-get install python-bs4\n\n三、实验原理\n实验中会用到三个文件：crawl.py，rent.csv与index.html，其中rent.csv由crawl.py生成，是房源文件。crawl.py是一个非常简单的爬取网页的脚本。index.html是最重要的显示地图的部分。实现的流程大致如下：\n\n我为什么不把js代码和css代码从index.html中分出来呢，写脚本怎么顺手怎么来就好。\n四、效果演示\n首先选择工作地点，划出了一小时内的通勤范围：\n\n北京堵车太猖狂，可能还是地铁保险：\n\n导入房源文件：\n\n选择一处房源，会自动帮你规划路径：\n\n选中房源地址跳转到目标页面：\n\n五、实验步骤\n本项目的详细教程、完整代码及demo测试，可在实验楼中查看并在线完成，【高德API+Python解决租房问题】更多Python经典项目：Python全部-课程\n\n                ", "mainLikeNum": ["10 "], "mainBookmarkNum": "44"}