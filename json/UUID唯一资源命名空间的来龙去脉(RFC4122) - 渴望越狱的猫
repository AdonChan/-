{"title": "UUID唯一资源命名空间的来龙去脉(RFC4122) - 渴望越狱的猫 ", "index": "python,ios,linux", "content": "日期：2014-04-26(该死, 又凌晨了)\n原文参考：http://tools.ietf.org/html/rfc4122.html\n\n前言：高级与普通程序员的区别就是, 普通程序只复(cao)用(xie)代码片段, 而高级一点的无非就只知道点规范, 写点东西, 让其他人Copy\n\n\n  本屌最讨厌的面试题是, XXX为什么这么设计, TMD我哪知道啊, 创始人就这么写, 我也没辙啊!\n\n\n简介\n\nUUID, 又名全球独立标识(Globally Unique Identifier), 当然原名更高大上点儿, A.K.A 宇宙独立标识（Universally Unique Identifier). UUID最初用在一个本屌没听过的网络系统中, 然后被广泛应用到微软抄做系统.\n\nUUID是128位(长度固定)unsigned integer, 能够保证(真的假的？)在空间(Space)与时间(Time)上的唯一性。而且无需注册机制保证, 可以按需随时生成。\n\n据WIKI, 随机算法生成的UUID的重复概率为170亿分之一\n\n由于UUID定长且与时间有关, 有一定可能性UUID会重复出现（大概在西元(A.D)3400, 与具体实现算法有关）\n\nUUID生成算法最高支持10,000,000(一千万)每秒每台机器, 所以可以用作交易流水ID\n\nuuid(Python)和NSUUID(iOS)遵循本RFC\n\nUUID生成三种方式\n\n\n基于利用MAC地址（若由于某种原因包括隐私考虑, MAC地址不可用或强烈不推荐, 采用以下两种替代方法）\n基于伪随机数\n基于加密哈希(MD5之类的东东)和应用自定义字符串\n\n字符表示\n\n[time-low]-[time-mide]-[time-high-and-version]-[clock-seq-and-reserved 和 clock-seq-low]-[node]\n\ntime-low = 32位 unsigned integer\ntime-mid = 16位 unsigned integer\ntime-high-and-version = 16位 unsigned integer(时间戳高位部分与版本(Version)号混合)\nclock-seq-and-reserved = 8位 unsigned integer(时钟序列高位部分与预定义变量(Variant)混合组成)\nclock-seq-low = 8位 unsigned integer\nnode = 48位 unsigned integer\n\nurn:uuid:f81d4fae-7dec-11d0-a765-00a0c91e6bf6\n\n字段组成(详情与事例代码,参考RFC4122 section4 till the end)\n\nUUID采用Big-endian字节序排列\n\n变量(variant), 或称做类型, 4 bytes, 包括以下4种（其中X为任意值）:\n0XX NCS兼容预留\n10X RFC4122采用\n110 微软兼容预留\n111 还未定义, 留作以后它用\n\n版本号(version), 4 bytes,  一共以下5个版本:\n0001  时间的版本\n0010  DCE Security\n0011  MD5哈希\n0100  (伪)随机数\n0101  SHA-1哈希\n\n时间戳(timestamp), 60bit:\n版本1: 时间戳采用UTC时间,以100ns为间隔,重1582年10月15日00:00:00.00开始计算\n\n时钟序列, 14bit:\n版本1: 用来防止在时间回调的情况下,导致的UUID重复问题\n如果有时间回调(可能有系统断电导致),如果生成器在回调时间之后有生成新的UUID,那么时钟序列应该改变, 如果新生成的UUID时钟序列可知,那么时钟序列递增即可; 若不可知, 那么时钟序列应重置到一个47位随机数,或一个47位高质量的伪随机数,并且第48位设置为1,用来区别真正的MAC地址(由于所有MAC地址在网卡中第48为0)\n\n节点(node), 48bit:\n版本1: 为主机MAC地址, 若主机有多个MAC地址,随机选其中一个, 若系统没有MAC地址, 则采用(伪)随机数.\n\n其他版本请参考原文, 其中版本2没有在原文中叙述\n\nNil UUID\n\n128位中,每一位都是零, (A.K.A)\nurn:uuid:00000000-0000-0000-0000-000000000000\n\n\n  感谢您的大驾光临, 无论您是习惯右手, 还是左手点赞都木有关系, 如果本文对您有那么丁点儿帮助, 请用您最销魂的姿势点个赞. 如有问题请留言!\n\n\n                ", "mainLikeNum": ["5 "], "mainBookmarkNum": "12"}