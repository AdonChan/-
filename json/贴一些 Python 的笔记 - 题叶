{"title": "贴一些 Python 的笔记 - 题叶 ", "index": "ast,python", "content": "项目当中用到 https://github.com/Cirru/sepal.py贴一点笔记.\nPyPI\n社区模块方案选用 pip, 在 PyPI 上查询模块, 入门教程:http://peterdowns.com/posts/first-time-with-pypi.html\npython setup.py register -r pypitest\npython setup.py sdist upload -r pypitest\npython setup.py register -r pypi\npython setup.py sdist upload -r pypi\n尾递归\nPython 不支持尾递归优化, 社区有提供优化的脚本(不过实际项目使用有问题):http://calebmadrigal.com/tail-call-optimization-in-python/\n刷新 REPL 引用模块\n同样模仿 Clojure 可以在 REPL 当中测试函数, 那么刷新模块像是这样:\nimport sys\n\nif 'myModule' in sys.modules:  \n    del sys.modules[\"myModule\"]\nhttp://stackoverflow.com/a/3194343/883571\nAST\nAST 的文档比较丰富的, 不过也比较庞杂, 实现起来估计也会累考虑到要实现的 AST 的量, 我考虑暂停试验算了.http://eli.thegreenplace.net/2009/11/28/python-internals-working-with-python-asts/https://pypi.python.org/pypi/astdump/3.3http://greentreesnakes.readthedocs.org/en/latest/tofrom.htmlhttps://docs.python.org/2/library/ast.html\nimport ast\na = ast.literal_eval(\"[1,2,3,4]\") //evaluate an expression safely.\nimport ast\nsource = '2 + 2'\nnode = ast.parse(source, mode='eval')\nast.dump(node)\nhttp://stackoverflow.com/a/13350121/883571\n还可以用  codegen.to_source 生成代码:\nimport ast\nimport codegen\n\nast.parse('print(1 + 2)') # return AST\nast.dump(ast.parse('print(1 + 2)')) # return readable AST\ncodegen.to_source.dump(ast.parse('print(1 + 2)')) # generate code\nAST 当中用到一些 keyword arguments:http://stackoverflow.com/a/1419160/883571\nimport\nPython 模块引用一句 Module Search Path 查找, 可以从 sys.path 查看https://docs.python.org/2/tutorial/modules.html#the-module-search-path\npackage 的目录会有 __init__.py 文件, 引入需要暴露的模块比如这样是把 sepal.py 文件的 transform 函数暴露出去\nfrom sepal import transform\n读取文件\nwith open (\"data.txt\", \"r\") as myfile:\n    data=myfile.read().replace('\\n', '')\nhttp://stackoverflow.com/a/8369345/883571\nTest\n安装 nosetests 来进行测试http://pythontesting.net/framework/nose/nose-introduction/http://pythontesting.net/framework/unittest/unittest-introduction/\nDependency\ninstall_requires 字段用于声明依赖http://www.scotttorborg.com/python-packaging/dependencies.html\n\n                ", "mainLikeNum": ["0 "], "mainBookmarkNum": "3"}