{"title": "【python socket编程】—— 4.实现redirect函数 - 个人文章 ", "index": "python,socket", "content": "前文：【python socket编程】—— 3.响应\n\n在Flask框架中有一个redirect函数，用于实现页面的跳转，现在我们来实现它。原理就是：当浏览器接受到服务器响应的状态码是301或者302时，表示请求的页面已经永久或临时性转移到了新的位置，而这个新的位置储存在响应的header里Locaiton这个字段。例如一个实现跳转的响应如下：\nHTTP/1.1 302 OK \nContent-Type: text/html\nLocation: /login\n这是一个很简单的http响应，状态码302表示原先请求的网页临时性转移到了/login（'OK'这个没有影响，可以改成任意东西，如'JUMP'），很明显这就是用户请求的页面是需要登录才能查看的。因此redirect函数可以这样写：\ndef redirect(path):\n    header = 'HTTP/1.1 302 JUMP\\r\\nContent-Type: text/html\\r\\n'\n    location = 'Location: {}'.format(path)\n    response = header + location\n    return response.encode('utf-8')  \n\n下一篇文章：【python socket编程】—— 5.实现cookie和session\n\n                ", "mainLikeNum": ["0 "], "mainBookmarkNum": "1"}