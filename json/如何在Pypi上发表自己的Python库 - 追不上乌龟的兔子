{"title": "如何在Pypi上发表自己的Python库 - 追不上乌龟的兔子 ", "index": "python,开源软件", "content": "背景\n最近兴趣使然写了几个Python库，也发布到了Pypi上，虽然没什么人下载，但自己在其他机器上用着也会很方便。这里我向大家介绍一下如何在Pypi上发表自己的Python库。\n\n准备\n注册账号\n很显然地要在Pypi上注册一个账号。\n安装必要的库\nsetuptools\n原则上安装了pip的环境都有setuptools,但并不影响你去尝试升级一下它。\npip install --upgrade setuptools\ntwine\n这是一个简化将库发布到Pypi上流程的工具，具体的使用之后会讲到。\npip install --upgrade setuptools\n克隆仓库（推荐）\n大名鼎鼎的requests库的作者大神kennethreitz为大家准备了一个仓库作为一个setup.py的很好的模板，当然你也可以自己手写setup.py。\ngit clone  https://github.com/kennethreitz/setup.py\n\n编码\n编辑setup.py\n建议大家直接编辑之前的仓库里的setup.py， 只需要修改一些必要的配置就可以了。这是我最近编写的库condition_chain的配置。\n...\n# Package meta-data.\nNAME = 'condition_chain'\nDESCRIPTION = 'Process a series of conditional judgement with a chained call.'\nURL = 'https://github.com/duyixian1234/condition_chain'\nEMAIL = 'duyixian1234@outlook.com'\nAUTHOR = 'Yixian Du'\n\n# What packages are required for this module to be executed?\nREQUIRED = [\n    # 'requests', 'maya', 'records',\n]\n...\n编写核心代码\n接下来我们就可以编写自己的代码了，要注意源代码文件夹（仓库里的my_package文件夹）的名字与setup.py里配置的包名（Name）要一致。另外在重新上传之前我们要修改__version__.py里的版本号，以免覆盖了以前的上传（相信会有人是需要之前版本的库的）。最终的代码结构\n│  LICENSE\n│  MANIFEST.in\n│  README.rst\n│  setup.py\n│\n└─condition_chain\n        core.py\n        __init__.py\n        __version__.py\n\n\n打包上传\n在setup.py的同级目录下运行以下命令。\npython setup.py sdist bdist_wheel\n然后运行\ntwine upload dist/*\n注意要输入Pypi账号和密码。\n\n大功告成\n之后我们就可以在Pypi里搜索到自己的Python库了，当然也可以直接通过pip安装。\n\n                ", "mainLikeNum": ["1 "], "mainBookmarkNum": "1"}