{"title": "集体智慧编程遇到的问题 - LeoHsiunX ", "index": "python", "content": "第三章\nP38\n问题描述：安装PIL\n\n错误1：_imagingft.c:73:10: fatal error: 'freetype/fterrors.h' file not found解决方法：ln -s /usr/local/include/freetype2 /usr/local/include/freetype\n错误2：'X11/Xlib.h' file not found解决方法：ln -s  /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX10.9.sdk/System/Library/Frameworks/Tk.framework/Versions/8.5/Headers/X11 /usr/local/include/X11 （MacOSX10.9.sdk，换成自己的版本）\n\nP40\n问题描述：生成树状图blogclust.jpg时，报错错误：\nIOError: decoder zip not available\n原因：PIL需要依赖其他库，但是依赖却出了问题（P38的错误1和2，就是依赖问题）解决方法：安装PIL的一个分支，叫pillow安装方法：\n\n卸载之前安装的PIL，方法参考链接\npip install pillow 未知问题：由于之前通过源代码编译安装过PIL，后来才装的pillow，不知道直接安装pillow会不会出现问题\n\nP99\n问题描述：运行遗传算法，报错错误：\n    for d in range(len(sol) / 2):\nTypeError: object of type 'NoneType' has no len()\n原因：\n# 当if，elif都不满足是，返回None\ndef mutate(vec):\n    i = random.randint(0, len(domain) - 1)\n    if random.random() < 0.5 and vec[i] > domain[i][0]:\n        return vec[0:i] + [vec[i] - step] + vec[i+1:]\n    elif vec[i] < domain[i][2]:\n        return vec[0:i] + [vec[i] + step] + vec[i+1:]\n解决方法：\n# if，elif都不满足的情况是，vec[i]等于domain[i][3]，因此把vec[i]等于domain[i][4]加入到if的条件判断中。这很合理，因为无聊random.random()的随机值是多少，只要vec[i] == doman[i][0],那么elif就会执行。  \ndef mutate(vec):\n    i = random.randint(0, len(domain) - 1)\n    if (random.random() < 0.5 and vec[i] > domain[i][0]) or vec[i] == domain[i][5]: \n        print '>', vec[0:i] + [vec[i] - step] + vec[i+1:]\n        return vec[0:i] + [vec[i] - step] + vec[i+1:]\n    elif vec[i] < domain[i][6]:\n        print '<', vec[0:i] + [vec[i] + step] + vec[i+1:]\n        return vec[0:i] + [vec[i] + step] + vec[i+1:]\n\n# 什么都不做，也行\ndef mutate(vec):\n    i = random.randint(0, len(domain) - 1)\n    if random.random() < 0.5 and vec[i] > domain[i][0]:\n        return vec[0:i] + [vec[i] - step] + vec[i+1:]\n    elif vec[i] < domain[i][7]:\n        return vec[0:i] + [vec[i] + step] + vec[i+1:]\n    else:\n        return vec\n参考链接\n\n                ", "mainLikeNum": ["0 "], "mainBookmarkNum": "0"}