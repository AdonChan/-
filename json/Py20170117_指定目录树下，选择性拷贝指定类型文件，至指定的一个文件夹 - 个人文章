{"title": "Py20170117_指定目录树下，选择性拷贝指定类型文件，至指定的一个文件夹 - 个人文章 ", "index": "文件处理,python", "content": "练手小项目二：指定目录树下，选择性拷贝指定类型文件，至指定的一个文件夹\n'''此函数作用：选择性复制某目录树下的指定扩展名文件至指定同一目录'''\n\n#coding: utf-8\nimport os,shutil\n\n#定义函数\ndef cp_file(orig,dest,kind):\n    result=[];i=0\n    for folder,subfolders,files in os.walk(orig):\n        for file in files:\n            if(file.endswith('.'+kind)):\n                f=os.path.join(folder,file)\n                result.append(f)\n    print result\n    for k in result:\n        shutil.copy(k,dest);i+=1;print('copying',k);\n    return i\n\n#自测用例\n#输入abc时，按照如下格式（转义反斜杠）：E:\\\\mypractice,C:\\\\Users\\\\39419\\\\Desktop\\\\pic,jpg\na=raw_input('source：')\nif os.path.exists(a) ==False:\n     print(a,'is a false source');\nb=raw_input('destination: ')\nif os.path.exists(b)==False:\n    os.makedirs(b)\n    print('have created the selected path: ',b);\nc=raw_input('kind of file :')\n\n#正式调用函数\nt=cp_file(a,b,c)\nprint(' have copied ',t,'files')  \n总结反思：1、之前由于对os.walk（）的理解不透彻，导致if代码块下的路径一直纠结不对，运行结果为0。所以在此提醒和指出指出，这里的folder、sunfolder、file分别指每一次for循环时当前文件夹自己本身、当前文件夹的子文件夹、当前文件下的文件。2、shutil模块用于复制移动改名删除文件，提醒：可删除非空文件、非空文件夹。而os模块只能删除空文件夹，文件不管空与否，皆可删。3、构建有效路径的方式：a 直接赋值变量，如自测用例；b 调用os.path.join()来实现，如函数体中所示。 ps:第一次写博客，不足之处，还请轻喷指正:-D\n\n                ", "mainLikeNum": ["0 "], "mainBookmarkNum": "0"}