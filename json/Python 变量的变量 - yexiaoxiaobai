{"title": "Python 变量的变量 - yexiaoxiaobai ", "index": "python,变量", "content": "最近在写一个程序的过程中，遇到一个 Python 变量的变量的问题，就是某个变量的值，还是变量，然后我想取最终的值，感谢伟大的 google，写这篇文章记录下。先上代码：\n#!/usr/bin/env python\n#encoding=utf-8\n\nimport inspect\nimport ConfigParser\n\nconfPath=\"/home/test/config/config\"\n\ndef modify_config(domain_name, app_type, port, if_api, vip, svn, svnver, yfb_ip, cron_ip, hosts, hostname, if_cas_oa, if_session, if_nginx, check_apps_dir, health_check):\n    if vip is None:\n        vip=\"\"\n    if yfb_ip is None:\n        yfb_ip=\"\"\n    if cron_ip is None:\n        cron_ip=\"\"\n    if hosts is None:\n        hosts=\"\"\n    if if_cas_oa is None:\n        if_cas_oa=\"\"\n    if if_session is None:\n        if_session=\"\"\n    # 更新指定section, option的值\n    conf = ConfigParser.ConfigParser()\n    conf.read(confPath)\n    ### 这个 inspect.getargspec 的作用是取函数的参数列表\n    arg_list = inspect.getargspec(modify_config).args\n    ### 下面的 conf.set 的第二个参数我只想取 arg 的值，而 第三个参数想取 arg 变量值的值，因为 arg 的值本身就是 modify_config 函数的参数\n    for arg in arg_list:\n        conf.set(\"online\", arg, locals().get(arg))\n    conf.write(open(confPath,\"w\"))\n\nif __name__ == '__main__':\n    domain_name = \"www.test.com\" \n    app_type = \"osp\" \n    port = \"8081\"\n    if_api = \"1\" \n    vip = \"192.168.0.1\" \n    svn = \"https://svn.tools.test.com/svn/\" \n    svnver = \"24562\"\n    yfb_ip = \"192.168.0.1\"\n    cron_ip = \"192.168.0.2\"\n    hosts = \"www.test.com\"\n    hostname = \"JD-TEST-COM\"\n    if_cas_oa = \"0\"\n    if_session = \"mcs2\"\n    if_nginx = \"1\"\n    check_apps_dir = \"0\"\n    health_check = \"_health_check\"\n    modify_config(domain_name, app_type, port, if_api, vip, svn, svnver, yfb_ip, cron_ip, hosts, hostname, if_cas_oa, if_session, if_nginx, check_apps_dir, health_check)\n参考资料\nhttp://stackoverflow.com/questions/1373164/how-do-i-do-variable-variables-in-python\n\n                ", "mainLikeNum": ["0 "], "mainBookmarkNum": "2"}