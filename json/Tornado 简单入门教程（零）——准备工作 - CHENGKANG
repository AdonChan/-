{"title": "Tornado 简单入门教程（零）——准备工作 - CHENGKANG ", "index": "pymongo,python,mongodb,tornado", "content": "前言：\n\n这两天在学着用Python + Tornado +MongoDB来做Web开发（哈哈哈这个词好高端）。学的过程中查阅了无数资料，也收获了一些经验，所以希望总结出一份简易入门教程供初学者参考。完整的教程将尽可能（233）遵循下面的目录顺序。\n\n\n目录：\n\n零、准备\n\n    1.安装Python\n\n    2.安装Tornado\n\n    3.安装MongoDB\n\n    *4.搭建简单MongoDB服务器\n\n    5.安装pymongo\n\n一、动手\n\n    1.Demo1\n\n    2.Demo2\n\n    3.Demo3\n\n\n\n1.安装Python\n\n安装Python很简单，从官网下载对应安装包打开安装即可。\n\nPython官网下载页：https://www.python.org/downloads/\n\n建议安装2.7.x版(哦，是 Gladuo 告诉我的，想知道为什么就问他吧。)\n\n\n  建议Windows用户就乖乖把Python安装在默认的C盘吧，别折腾自己了=。=\n\n\nOK, now如果聪明的你双击安装文件并按步骤将Python 2.7.x安装好了的话，\n\n\nMac用户，你的应用程序中应该出现了Python2.7；\nWindows用户，你的C盘应该多了一个文件夹 Python27。\n\n打开IDLE/python.exe你就可以开始写Hello World了。\n\n\n\n这个时候，打开终端/命令行窗口，输入python，回车。\n\nTada！Mac用户就可以看到如下内容 ：\n\n\n  如果没看到的话，就去百度吧=。=（应该不会的）\n\n\nWindows用户看到的应该是这个：\n\n呐，为了更方便使用呢，我们还是有必要配置一下环境变量。\n\n右键计算机->属性->高级系统设置->环境变量->找到Path，将Python27的安装目录添加到最后面->确定\nOK这样环境变量就配好了，再次打开命令行窗口，输入python，你就可以看到：\n\n\n  有的机器，可能需要重启电脑使环境变量更改生效。\n\n\n2.安装Tornado\n\nTornado的安装也很简单。\n\n自动安装： 可以通过 pip 或者 easy_install 来安装。例如：\n\nsudo easy_install tornado       #安装tornado\n\n\n\neasy_install是什么呢？详见：《python – easy_install的安装和使用》\npip 是一个安装和管理 Python 包的工具 , 是 easy_install 的一个替换品。具体自行百度吧~\n\n手动安装： 下载 tornado-1.2.1.tar.gz\n\ntar xvzf tornado-1.2.1.tar.gz   #解压下载的Tornado源代码压缩包（可\n                                #以直接解压，不用命令行）\ncd tornado-1.2.1                #进入到解压后的文件夹内\npython setup.py build           #编译安装程序\nsudo python setup.py install    #安装\n\n\nTornado Web 服务器，这是Tornado官网的一个中文镜像站。网站首页有更详细准确的安装方法，建议花几分钟看一遍。\n\n按照步骤安装完之后，打开终端，输入：\n\npython\nimport tornado\n\n\n如果没报错，说明tornado已经安装好了。万一出错了，看看提示，去理解提示的字面意思，一般来说问题是可以自己解决的。\n\n3.安装MongoDB\n\n依旧简单。\n\nMongoDB官网下载页：http://www.mongodb.org/downloads\n\n到官网下载对应系统的压缩包或者安装包，解压/安装在某个文件夹。\n\nWindows用户可以像配置Python环境变量一样，将MongoDB的安装目录中bin文件夹的绝对路径添加到Path中。如：D：\\MongoDB\\bin。\n\n解压/安装完之后，MongoDB其实已经可以开始用了。\n\n首先我们在mongodb目录下创建data文件夹，用来存储数据库数据。打开终端，cd到mongodb的目录中bin文件夹，运行mongod，命令如下：\n\n./mongod --dbpath=/Users/ant/mongodb/data     #mac的命令\n#dbpath是数据库位置参数，这里我们使用的是刚才创建的data文件夹\nmongod --dbpath=D:\\MongoDB\\data --port=12345  #windows的命令\n#port是数据库占用端口参数，MongoDB默认端口为27017，你也可以用这种方式自己设置端口\n\n\n如下图所示（Mac OS X和Windows略有不同）：\n\n我们可以看到，两张图最下面一句都是waiting for connections on port *****。mac终端里因为我们没有设置端口，所以使用的是默认端口27017；windows命令行窗口中，因为我们设置了端口12345，所以占用的是12345端口。\n\n看到这句话，就意味着MongoDB已经在你的电脑上运行起来了。\n\n\n  可能碰到的问题（稍微读一下错误提示，大概有这两个问题）：\n  目录不存在。一种情况是目录输错了=。=，改呗。另外一种情况是，真的不存在这个文件夹，解决方法就是：新建一个文件夹呗=。=。\n  目录写权限不够。因为–dbpath设置的是数据存储位置，所以必须要有写的权限。Windows:比较简单，右键属性自己找找把权限改成允许写；linux系统: chmod -R 777 /home/mypackage  不用解释吧=。=Mac OS X:\n     在 Finder 中定位到要修改权限的文件或应用通过“文件”菜单栏或右键菜单选择“显示简介”(快捷键 Cmd + I) 找到简介面板的最下方的“共享与权限”(Sharing & Permissions)部分\n      按需对不同用户赋予权限：读与写(read and write)、只读(read only)、无访问权限(no access)\n      权限设置完成后关闭文件简介面板后立即生效。\n\n\n*4.搭建简单MongoDB服务器\n\n（*表示不是必要的）\n\n这里仅以Mac OS X做示范，其他系统操作方法类似。\n\n假设我们将MongoDB安装在 /Users/ant/mongodb，即当前用户根目录下。打开终端\n\nmkdir mongodb_test       #创建MongoDB服务器文件夹\ncd mongodb_test          #进入该文件夹\nmkdir data               #创建data文件夹用于储存数据\nmkdir log                #创建log文件夹用于储存日志文件\nmkdir conf               #创建conf文件夹用于储存启动配置文件\nmkdir bin                #创建bin文件夹用于储存二进制文件\ncp ../mongodb/mongod bin/#将mongodb目录中的mongod拷贝到bin文件夹\ncd conf/                 #进入conf文件夹\nvim mongod.conf          #用vim新建一个配置文件，文件名为mongod.conf\n#文件名:mongod.conf\n#按i键插入新内容\nport = 12345             #设置端口号\ndbpath = data            #设置数据储存位置\nlogpath = log/mongod.log #设置日志文件路径\nfork = true              #在linux下，这个参数表示启动一个后台进程，\n                         #该参数windows下无效\n#内容输入完毕后，按esc键，并使用:wq命令保存文件\ncd ..                    #进入上层目录，即mongodb_test目录\n./bin/mongod -f conf/mongod.conf\n                         #利用-f参数设置配置文件为mongod.conf\n\n\n此时，我们已经顺利搭建了一个简单的MongoDB服务器，并且服务器运行在12345端口。\n\n为了方便使用mongo客户端连接MongoDB，我们执行以下命令，将客户端拷贝到新建的服务器中。\n\ncp ../mongodb/mongo bin/  #将mongo客户端复制到服务器bin文件夹\n\n\n现在我们可以使用拷贝到新建服务器中的客户端连接MongoDB。\n\n./bin/mongo 127.0.0.1:12345/test\n#运行mongo客户端，参数分别为：服务器:端口号/用户名\n>                                   \n#当看到如左的尖括号出现，表明已经连接上数据库\n\n\nOK，简单的MongoDB服务器搭建就是这样。更详细的MongoDB教程，推荐慕课网视频教程：《mongoDB入门篇》。这个教程精练实用，对初学者入门MongoDB会有很大帮助。\n\n5.安装PyMongo\n\nPyMongo 是 MongoDB 的 Python 接口开发包。我们需要安装PyMongo来获得Tornado应用使用MongoDB的能力。\n\n安装方法如下：\n\n\n\n使用esay_install（使用方法请参照 2.Tornado ）\n\neasy_install pymongo\n\n\n\n下载安装包，使用安装包安装（建议windows就用这个方法把，非常方便=。=）\n\n下载地址：https://pypi.python.org/pypi/pymongo/#downloads\n\n\n\n通过以上的准备，你现在已经可以开始创建一个Python + Tornado +MongoDB的应用了！\n\n那么，(๑•̀ㅂ•́)و✧动手吧！\n\n                ", "mainLikeNum": ["2 "], "mainBookmarkNum": "35"}