{"title": "渗透测试之全方位信息收集神器 instarecon - 码源-专注开源技术分享 ", "index": "网络安全,安全,python", "content": "功能介绍\n\ninstarecon将从以下几个方面展开渗透测试前的信息收集工作\n\n1. DNS (direct, PTR, MX, NS) lookups\n\n包括域名的dns解析结果；\n\nPTR记录：是电子邮件系统中的邮件交换记录的一种；另一种邮件交换记录是A记录（在IPv4协议中）或AAAA记录（在IPv6协议中）。PTR记录常被用于反向地址解析。\n\nMX记录：是邮件交换记录，它指向一个邮件服务器，用于电子邮件系统发邮件时根据 收信人的地址后缀来定位邮件服务器。MX记录也叫做邮件路由记录，用户可以将该域名下的邮件服务器指向到自己的mail server上，然后即可自行操控所有的邮箱设置。\n\nNS记录：NS（Name Server）记录是域名服务器记录，用来指定该域名由哪个DNS服务器来进行解析。\n\n2. Whois (domains and IP) lookups\n\nwhois是用来查询域名的IP以及所有者等信息的传输协议。简单说，whois就是一个用来查询域名是否已经被注册，以及注册域名的详细信息的数据库（如域名所有人、域名注册商）。\n\n3. Google dorks in search of subdomains\n\ngoogle搜索引擎记录的二级域名相关信息\n\n4. Shodan lookups\n\n通过shodan获取域名相关信息；Shodan真正值得注意的能力就是能找到几乎所有和互联网相关联的东西。而Shodan真正的可怕之处就是这些设备几乎都没有安装安全防御措施，其可以随意进入。\n\n5. Reverse DNS lookups on entire CIDRs\n\ndns的方向查询，即通过指向的ip反查ip相关的域名信息\n\n唯一可能有点缺憾的是没有加入dns暴力遍历。\n\n下载\n\nbash➜  tools git:(master) ✗ git clone https://github.com/vergl4s/instarecon.git\n\n\n接下来需要安装python的扩展,如果已经安装的pip则直接安装：\n\nbashsudo pip install pythonwhois ipwhois ipaddress shodan\n\n\n如果没有安装pip，可以这样安装\n\nshsudo easy_install pip\n\n\n使用\n\n使用很简单，给个示例：\n\n$ ./instarecon.py -s <shodan_key> -o ~/Desktop/github.com.csv github.com\n\n\n跑一下乌云的信息看看：\n\n[root@localhost instarecon]# python instarecon.py wooyun.org\n# InstaRecon v0.1 - by Luis Teixeira (teix.co)\n# Scanning 1/1 hosts\n# No Shodan key provided\n\n# ____________________ Scanning wooyun.org ____________________ #\n\n# DNS lookups\n[*] Domain: wooyun.org\n\n[*] IPs & reverse DNS: \n162.159.208.53\n162.159.209.53\n\n# Whois lookups\n\n[*] Whois domain:\nDomain Name:WOOYUN.ORG\nDomain ID: D159099935-LROR\nCreation Date: 2010-05-06T08:50:48Z\nUpdated Date: 2015-01-07T03:37:41Z\nRegistry Expiry Date: 2024-05-06T08:50:48Z\nSponsoring Registrar:Hichina Zhicheng Technology Limited (R1373-LROR)\nSponsoring Registrar IANA ID: 420\nWHOIS Server: \nReferral URL: \nDomain Status: clientDeleteProhibited -- http://www.icann.org/epp#clientDeleteProhibited\nDomain Status: clientTransferProhibited -- http://www.icann.org/epp#clientTransferProhibited\nRegistrant ID:hc556860480-cn\nRegistrant Name:Fang Xiao Dun\nRegistrant Organization:Fang Xiao Dun\nRegistrant Street: Haidian District JuYuan Road 6# 502\nRegistrant City:Beijing\nRegistrant State/Province:Beijing\nRegistrant Postal Code:100080\nRegistrant Country:CN\nRegistrant Phone:+86.18610137578\nRegistrant Phone Ext: \nRegistrant Fax: +86.18610137578\nRegistrant Fax Ext: \nRegistrant Email:xssshell@gmail.com\nAdmin ID:HC-009652962-CN\nAdmin Name:Fang Xiaodun\nAdmin Organization:Beijing Bigfish Technology\nAdmin Street: Haidian District JuYuan Road 6# 502\nAdmin City:Beijing\nAdmin State/Province:Beijing\nAdmin Postal Code:100080\nAdmin Country:CN\nAdmin Phone:+86.18610137578\nAdmin Phone Ext: \nAdmin Fax: +86.18610137578\nAdmin Fax Ext: \nAdmin Email:xssshell@gmail.com\nTech ID:HC-844637505-CN\nTech Name:Fang Xiaodun\nTech Organization:Beijing Bigfish Technology\nTech Street: Haidian District JuYuan Road 6# 502\nTech City:Beijing\nTech State/Province:Beijing\nTech Postal Code:100080\nTech Country:CN\nTech Phone:+86.18610137578\nTech Phone Ext: \nTech Fax: +86.18610137578\nTech Fax Ext: \nTech Email:xssshell@gmail.com\nName Server:NS1.DNSV2.COM\nName Server:NS2.DNSV2.COM\nName Server: \nName Server: \nName Server: \nName Server: \nName Server: \nName Server: \nName Server: \nName Server: \nName Server: \nName Server: \nName Server: \nDNSSEC:Unsigned\n\nAccess to Public Interest Registry WHOIS information is provided to assist persons in determining the contents of a domain name registration record in the Public Interest Registry registry database. The data in this record is provided by Public Interest Registry for informational purposes only, and Public Interest Registry does not guarantee its accuracy. This service is intended only for query-based access. You agree that you will use this data only for lawful purposes and that, under no circumstances will you use this data to(a) allow, enable, or otherwise support the transmission by e-mail, telephone, or facsimile of mass unsolicited, commercial advertising or solicitations to entities other than the data recipient's own existing customers; or (b) enable high volume, automated, electronic processes that send queries or data to the systems of Registry Operator, a Registrar, or Afilias except as reasonably necessary to register domain names or modify existing registrations. All rights reserved. Public Interest Registry reserves the right to modify these terms at any time. By submitting this query, you agree to abide by this policy. For more information on Whois status codes, please visit https://www.icann.org/resources/pages/epp-status-codes-2014-06-16-en.\n\n[*] Whois IP:\nasn: 13335\nasn_cidr: 162.159.208.0/24\nasn_country_code: US\nasn_date: 2013-05-23\nasn_registry: arin\nnet 0:\n    cidr: 162.158.0.0/15\n    range: 162.158.0.0 - 162.159.255.255\n    name: CLOUDFLARENET\n    description: CloudFlare, Inc.\n    handle: NET-162-158-0-0-1\n\n    address: 665 Third Street #207\n    city: San Francisco\n    state: CA\n    postal_code: 94107\n    country: US\n\n    abuse_emails: abuse@cloudflare.com\n    tech_emails: admin@cloudflare.com\n\n    created: 2013-05-23 00:00:00\n    updated: 2013-05-23 00:00:00\n\n# Querying Google for subdomains and Linkedin pages, this might take a while\n[-] Error: No subdomains found in Google. If you are scanning a lot, Google might be blocking your requests.\n\n# Reverse DNS lookup on range 162.158.0.0/15\n162.159.8.133 - cf-162-159-8-133.cloudflare.com\n162.159.9.204 - cf-162-159-9-204.cloudflare.com\n162.159.24.5 - dns1.namecheaphosting.com\n162.159.24.6 - a.ns.zerigo.net\n162.159.24.7 - e.ns.zerigo.net\n162.159.24.204 - ns1.proisp.no\n162.159.25.5 - dns2.namecheaphosting.com\n162.159.25.6 - b.ns.zerigo.net\n162.159.25.7 - f.ns.zerigo.net\n162.159.25.138 - ns2.proisp.no\n162.159.26.6 - c.ns.zerigo.net\n162.159.27.6 - d.ns.zerigo.net\n# Done\n\n\n可以看到乌云使用的是cloudflare；负责人是fangxiaodun；邮箱是xssshell@gmail.com\n\n\n  来自http://www.codefrom.com/paper/%20%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95%...\n\n\n                ", "mainLikeNum": ["4 "], "mainBookmarkNum": "8"}