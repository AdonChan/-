{"title": "python-tab补全模块 - python技术的魅力 ", "index": "python", "content": "python tab补全模块\n安装readline模块\n[root@zabbix-server ~]# pip install readline\n编写补全模块内容\n查看模块内容：版本一[root@zabbix-server ~]# cat tab.py\n#!/usr/bin/env python\n# _*_ coding:utf-8 _*_\n# __created by junxi__\n\n# The script is used by python tab Completion script\nimport sys\nimport readline\nimport rlcompleter\nimport atexit\nimport os\n\n# tab completion\nreadline.parse_and_bind('tab: complete')\n# history file\nhistfile = os.path.join(os.environ['HOME'], '.pythonhistory')        # linux下使用这行内容\n# histfile = os.path.join(os.environ['HOMEPATH'], '.pythonhistory')   # win10下使用这行内容\ntry:\n    readline.read_history_file(histfile)\nexcept IOError:\n    pass\n# atexit.register(readline.write_history_file, histfile)\n# del histfile\n版本二[root@zabbix-server ~]# cat tab.py\n#!/usr/bin/env python\n# _*_ coding:utf-8 _*_\n# __created by junxi__\n\n# The script is used by python tab Completion script\n\nimport readline,rlcompleter\n\n### Indenting\nclass TabCompleter(rlcompleter.Completer):\n    \"\"\"Completer that supports indenting\"\"\"\n    def complete(self, text, state):\n        if not text:\n            return ('    ', None)[state]\n        else:\n            return rlcompleter.Completer.complete(self, text, state)\n\nreadline.set_completer(TabCompleter().complete)\n\n### Add autocompletion\nif 'libedit' in readline.__doc__:\n    readline.parse_and_bind(\"bind -e\")\n    readline.parse_and_bind(\"bind '\\t' rl_complete\")\nelse:\n    readline.parse_and_bind(\"tab: complete\")\n\n### Add history\nimport os\nhistfile = os.path.join(os.environ[\"HOME\"], \".pyhist\")\ntry:\n    readline.read_history_file(histfile)\nexcept IOError:\n    pass\nimport atexit\natexit.register(readline.write_history_file, histfile)\ndel histfile\n查看python默认可以查找到的包目录（就是默认可以import 模块的路径）\n[root@zabbix-server ~]# python\nPython 2.7.5 (default, Nov  6 2016, 00:28:07)\n[GCC 4.8.5 20150623 (Red Hat 4.8.5-11)] on linux2\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\n>>> import sys\n>>> sys.path\n['', '/usr/lib/python2.7/site-packages/pip-9.0.1-py2.7.egg', '/usr/lib64/python27.zip', '/usr/lib64/python2.7', '/usr/lib64/python2.7/plat-linux2', '/usr/lib64/python2.7/lib-tk', '/usr/lib64/python2.7/lib-old', '/usr/lib64/python2.7/lib-dynload', '/usr/lib64/python2.7/site-packages', '/usr/lib64/python2.7/site-packages/gtk-2.0', '/usr/lib/python2.7/site-packages']\n把tab.py移动到sys.path查看的目录中的一个即可\n[root@zabbix-server ~]# mv tab.py /usr/lib/python2.7/site-packages\n测试结果（使用tab补全每次都要先导入tab.py补全模块）\n[root@zabbix-server ~]# python\nPython 2.7.5 (default, Nov  6 2016, 00:28:07) \n[GCC 4.8.5 20150623 (Red Hat 4.8.5-11)] on linux2\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\n>>> import tab\n>>> import os\n>>> os.\nDisplay all 249 possibilities? (y or n)\nos.EX_CANTCREAT             os.__package__              os.listdir(\nos.EX_CONFIG                os.__reduce__(              os.lseek(\nos.EX_DATAERR               os.__reduce_ex__(           os.lstat(\nos.EX_IOERR                 os.__repr__(                os.major(\nos.EX_NOHOST                os.__setattr__(             os.makedev(\nos.EX_NOINPUT               os.__sizeof__(              os.makedirs(\nos.EX_NOPERM                os.__str__(                 os.minor(\nok\n\n                ", "mainLikeNum": ["0 "], "mainBookmarkNum": "0"}