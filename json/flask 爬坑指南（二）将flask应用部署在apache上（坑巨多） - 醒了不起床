{"title": "flask 爬坑指南（二）将flask应用部署在apache上（坑巨多） - 醒了不起床 ", "index": "python,flask,apache", "content": "前言\n教程目录\n\n一：如何开始一个flask项目\n二：如何在apache上部署flask（坑好多）\n\n一：服务器端的处理\n1.1安装服务器\n\n首先我们要安装服务器，我们本次安装选用的apache服务器  并用xampp集成安装包来安装apache。  安装完成后我们就要开始配置服务器了  首先我们可能会遇到第一个问题就是443监控端口冲突   error log [ssl:warn] [pid 3608:tid 232] AH01909:  www.example.com:443:0 server certificate does NOT include   解决方法：打开目录C:xamppapacheconfextra  (我的安装目录为C:xampp)下的httpd-ssl.conf文件将Listen443 这句注释掉：# Listen  443 或将443改为4433或其它值（尽量不要使用0－1023）\n这样我们就解决了第一个问题，下面我们就来开始更改另一个  配置文件。打开目录C:xamppapacheconf  (我的安装目录为C:xampp)下的httpd.conf文件  首先是更改监听ip和端口Listen 127.1.1.1:80  这是配置文件原来的写法 在配置服务器时候  将ip改为自己电脑的ip端口在不冲突的情况下选择80  但是有时候会冲突，所以需要更改端口号  为一个不冲突的端口\n这样我们一般情况下就可以启动服务器了  打开一个服务器的内部自建的页面\n接下来我们就要将wsgi放入到到模块文件夹里  并导入到apache的初始化文件里\n\n1.2 如和搞到wsgi模块文件\nhttp://www.lfd.uci.edu/~gohlk...\n\nctrl+f 搜索mod_wsgi 下载python和apache对应版本的  mod_wsgi.whl 下载之后怎么用呢win+r 输入cmd启动命令行界面 cd /d 文件路径在mod_wsgi.whl 下执行pip install mod_wsgi.whl之后你会在python的根目录下找到mod_wsgi.so当然名字可能不是  这个但是你就把他改为这个然后将其拷贝到  C:xamppapachemodules这个路径下  \n然后我们在httpd.config添加这样一句话  LoadModule wsgi_module modules/mod_wsgi.so   再启动服务器，能用ok。下面我们来关键的了  我们来到上一篇教程建的项目下在新建一个wsgi.py的文件  添加如下代码\n\n\n    import sys\n    sys.path.insert(0,'c:/flask_lab_web')\n    from app import app as application\n\n\n这上边的文件路径就是wsgi.py文件所在文件夹路径  而wagi.py和app这个文件应该是处在同一个文件夹下  而不是放在app文件夹下这一点一定一定一定要记住\n接下来我们回到httpd.conf里面开始在里面添加这样一些  东西。注意这样添加是为了适应apache2.4以上版本的网上很多教程都是2.2版的那个不能用，我调了好久，  感觉都要哭瞎了，你感觉有用就推荐一下吧。。下面是代码\n\n<VirtualHost *:8000>\n        ServerName  example.com         \n        WSGIScriptAlias / e:/flask_lab_web/wsgi.py\n        <Directory e:/flask_lab_web>\n        Require all granted\n        Require host ip\n        Allow from all\n        </Directory>\n</VirtualHost>\n注意上面的路径你要更改的哦,这样你就完成了配置  开启服务器就ok了.感觉 有用就给个推荐呗\n\n\n                ", "mainLikeNum": ["4 "], "mainBookmarkNum": "8"}