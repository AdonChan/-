{"title": "python操作selenium的基本操作 - 技术分享 ", "index": "python", "content": "#coding:utf-8\nfrom selenium import webdriver\nfrom selenium.webdriver.common.action_chains import ActionChains #引入ActionChains鼠标操作类\nfrom selenium.webdriver.common.keys import Keys #引入keys类操作\nimport time\n\ndef s(int):\n    time.sleep(int)\nbrowser = webdriver.Chrome()\nbrowser.get('http://www.baidu.com')\nprint '现在将浏览器最大化'\nbrowser.maximize_window()\ntext = browser.find_element_by_name('tj_duty').text\nprint text #打印备案信息\n\nbrowser.find_element_by_id('kw1').send_keys(u'杨彦星')\nprint browser.find_element_by_id('kw1').get_attribute('type')\nprint browser.find_element_by_id('kw1').size #打印输入框的大小\nbrowser.find_element_by_id('su1').click()\ntime.sleep(3)\n\nprint '现在我将设置浏览器为宽480，高800显示'\nbrowser.set_window_size(480,800)\nbrowser.get('http://m.mail.10086.cn')\ntime.sleep(3)\n\nprint '现在我将回到刚才的页面'\nbrowser.maximize_window()\nbrowser.back()\ntime.sleep(3)\n\nprint '现在我将回到之前的页面'\nbrowser.forward()\ntime.sleep(5)\nprint '现在我将打开杨彦星的网站进行json搜索'\nbrowser.get('http://static.yangyanxing.com')\nbrowser.find_element_by_xpath(\".//*[@id='ls']\").send_keys(u'json')\nbrowser.find_element_by_xpath(\".//*[@id='header']/div[1]/div/form/input[2]\").click()\ntime.sleep(5)\nbrowser.quit()\n\nbrowser = webdriver.Chrome()\n\nprint '以下将以登录人人网来进行上面的综合应用'\nbrowser.get('http://www.renren.com/SysHome.do')\nbrowser.find_element_by_id('email').clear()#这个是以id选择元素\nbrowser.find_element_by_id('email').send_keys('email')\nbrowser.find_element_by_id('email').send_keys(Keys.BACK_SPACE)\ntime.sleep(2)\nbrowser.find_element_by_id('email').send_keys('m')\ns(2)\nbrowser.find_element_by_id('email').send_keys(Keys.CONTROL,'a')\ns(2)\nbrowser.find_element_by_id('email').send_keys(Keys.CONTROL,'x')#剪切掉里面的内容\ns(2)\nbrowser.find_element_by_id('email').send_keys(Keys.CONTROL,'v') #重新输入进去\ns(2)\nbrowser.find_element_by_name('password').clear()#这个是以name选择元素\nbrowser.find_element_by_name('password').send_keys('password')\n#browser.find_element_by_xpath(\".//*[@id='login']\").click()#这个是以xpath选择元素\nbrowser.find_element_by_xpath(\".//*[@id='login']\").send_keys(Keys.ENTER) #这里通过点击Enter键来登录\nbrowser.maximize_window()\narticle = browser.find_element_by_link_text(u'周碧华：社科院出现内鬼意味着什么？')\nActionChains(browser).move_to_element(article).perform()#将鼠标移动到这里，但是这里不好用\nActionChains(browser).context_click(article).perform()\ntime.sleep(5)\n\nbrowser.quit()\n\n# 店铺签到https://www.v2ex.com/t/321539\n    def shop_check_in(self):\n        urls = [\n                'https://nongfutechan.taobao.com/ugo.htm?spm=a217e.7759359.15285.1.4xE9Il&signin=true#ugo-jinbi',\n                'https://shop136560499.taobao.com/ugo.htm?spm=a217e.7759359.15285.2.muhVBy&signin=true#ugo-jinbi',\n                'https://shop33473134.taobao.com/ugo.htm?spm=a217e.7759359.15285.3.yW2N4E&signin=true#ugo-jinbi'\n                ]\n        for url in urls:\n            self.driver.get(url)\n            time.sleep(5)\n            print(\"page_source\\t%s\" % self.driver.page_source)\n            self.driver.find_element_by_xpath('//a[@href=\"#\" and @class=\"now-take J_NowSignIn\" and text()=\"立即签到\"]').click()\n\n\n增加 wait 时间，确保新页面已经完全加载\n用 Google Chrome 的 XPath Helper 插件，确保自己写的 XPath selector 无误\n打印源代码 driver.page_source ，确认页面内有「立即签到」这个元素，并且 XPath selector 无误\nfrom http://www.yangyanxing.com/ar...\n\n                ", "mainLikeNum": ["0 "], "mainBookmarkNum": "1"}