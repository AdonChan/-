{"title": "CentOS大数据实验环境更改记录 - Profee-L ", "index": "pandas,大数据,python,centos", "content": "CentOS大数据实验环境更改记录\n标签（空格分隔）： 未分类\n\n1.修改163的yum源\n使用说明\n首先备份/etc/yum.repos.d/CentOS-Base.repo\nmv /etc/yum.repos.d/CentOS-Base.repo /etc/yum.repos.d/CentOS-Base.repo.backup\n下载对应版本repo文件, 放入/etc/yum.repos.d/(操作前请做好相应备份)\nCentOS6 \n运行以下命令生成缓存\nyum clean all\nyum makecache\n2.更新python从2.6.6版本为2.7\n#wget http://www.python.org/ftp/python/2.7.5/Python-2.7.5.tar.bz2\n#tar jxvf Python-2.7.5.tar.bz2\n#cd Python-2.7.5\n#./configure --prefix=/usr/local \n#make && make altinstall \n#mv /usr/bin/python /usr/bin/python2.6.6\n#ln -s /usr/local/bin/python2.7 /usr/bin/python\n3.安装pip1）安装setuptools解压安装遇到错误RuntimeError: Compression requires the (missing) zlib module\nyum install zlib& zilib devel\n然后遇到yum因为python版本不对错误错误：\n[root@localhost bin]# yum install pip\nThere was a problem importing one of the Python modules\nrequired to run yum. The error leading to this problem was:\n\n   No module named yum\n\nPlease install a package which provides this module, or\nverify that the module is installed correctly.\n\nIt's possible that the above module doesn't match the\ncurrent version of Python, which is:\n2.7.3 (default, Jan 16 2016, 05:59:11) \n[GCC 4.4.6 20120305 (Red Hat 4.4.6-4)]\n\nIf you cannot solve this problem yourself, please go to \nthe yum faq at:\n  http://yum.baseurl.org/wiki/Faq\n查找yum文件,并编辑此py文件\n[root@develop local]# which yum\n/usr/bin/yum\n[root@develop local]# vi /usr/bin/yum\n\n将\n#!/usr/bin/python\n改为:\n#!/usr/bin/python2.6\n\n然后保存OK.\n\n补充：yum基于python写的。\n4.安装zlib&zlib-devel重新编译python /.configuremakemake install然后重新安装setuptools\n5.遇到wangqi is not in the sudoers file.\n#visudo\n## Allow root to run any commands anywhere\nroot    ALL=(ALL)       ALL\nwangqi  ALL=(ALL)       ALL\n6.遇到ImportError: cannot import name HTTPSHandleryum install openssl openssl-devel -y之后，再重新安装Python即可。/.configuremakemake install\n7.pip安装完成8.安装numpy,9.安装pandas出现问题：UnicodeDecodeError: 'ascii' codec can't decode byte 0xe2 in position 32: ordinal not in range(128)解决方法：修改mimetypes.py文件，路径位于python的安装路径下的Lib\\mimetypes.py文件。在import下添加如下几行：\nif sys.getdefaultencoding() != 'gbk': \n    reload(sys) \n    sys.setdefaultencoding('gbk')\n依然报错：\ngcc: error trying to exec 'cc1plus': execvp: No such file or directory\n\nerror: command 'gcc' failed with exit status 1\n尝试解决：yum -y install gcc\n依然报错：\nCommand /usr/local/bin/python -c \"import setuptools, tokenize;__file__='/tmp/pip_build_root/pandas/setup.py';exec(compile(getattr(tokenize, 'open', open)(__file__).read().replace('\\r\\n', '\\n'), __file__, 'exec'))\" install --record /tmp/pip-5RbGXm-record/install-record.txt --single-version-externally-managed --compile failed with error code 1 in /tmp/pip_build_root/pandas\nTraceback (most recent call last):\n  File \"/usr/local/bin/pip\", line 9, in <module>\n    load_entry_point('pip==1.5.6', 'console_scripts', 'pip')()\n  File \"/usr/local/lib/python2.7/site-packages/pip-1.5.6-py2.7.egg/pip/__init__.py\", line 185, in main\n    return command.main(cmd_args)\n  File \"/usr/local/lib/python2.7/site-packages/pip-1.5.6-py2.7.egg/pip/basecommand.py\", line 161, in main\n    text = '\\n'.join(complete_log)\nUnicodeDecodeError: 'gbk' codec can't decode bytes in position 97-98: illegal multibyte sequence\n使用安装包直接进行安装，发现是以下问题：\ngcc: error trying to exec 'cc1plus': execvp: No such file or directory\nerror: command 'gcc' failed with exit status 1\n安装gcc-c++\n[root@localhost pandas-0.17.1]# yum list gcc-c++\nLoaded plugins: fastestmirror, refresh-packagekit, security\nLoading mirror speeds from cached hostfile\nAvailable Packages\ngcc-c++.i686                                 4.4.7-16.el6                                  base\n[root@localhost pandas-0.17.1]# yum -y install gcc-c++.i686 \n遇到问题\nNo local packages or download links found for python-dateutil\nerror: Could not find suitable distribution for Requirement.parse('python-dateutil')\npip install python-dateutil\n终于大功告成\n\n                ", "mainLikeNum": ["0 "], "mainBookmarkNum": "1"}