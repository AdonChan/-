{"title": "详解python自定义方法属性 - nummy的专栏 ", "index": "python", "content": "在python自定义方法中有一些只读属性，一般我们用不到，但是了解下也不错，通过这篇文章，我们还可以了解到==绑定方法==和==非绑定方法==的区别。\n\nim_self      指代类的实例对象。\nim_func       指代函数对象。\nim_class      指代绑定方法的类或者调用非绑定方法的类。\n__doc__     方法的文档注释\n__name__    方法名\n__module__  方法所在的模块名。\n__func__    等价于im_func\n__self__    等价于im_self\n\n示例如下：\nclass Stu(object):\n    def __init__(self, name):\n        self.name = name\n\n    def get_name(self):\n        \"this is the doc\"\n        return self.name\n\ndef show_attributes(method):\n    print \"im_self=\", method.im_self\n    print \"__self__=\", method.__self__\n    print \"im_func=\", method.im_func\n    print \"__func__=\", method.__func__\n    print \"im_class=\", method.im_class\n    print \"__doc__=\", method.__doc__\n    print \"__module__=\", method.__module__\n    \nprint \"...........bounded method........\"\nstu=Stu(\"Jim\")\nmethod = stu.get_name\nshow_attributes(method)\nmethod()\nprint \"...........unbounded method......\"\nmethod = Stu.get_name\nshow_attributes(method)\nmethod()\n\n输出结果如下：\n...........bounded method.......Traceback (most recent call last):.\nim_self= <__main__.Stu object at 0x0245D2B0>\n__self__= <__main__.Stu object at 0x0245D2B0>\nim_func= <function get_name at 0x02455830>\n__func__= <function get_name at 0x02455830>\nim_class= <class '__main__.Stu'>\n__doc__= this is the doc\n__module__= __main__\n...........unbounded method......\nim_self= None\n__self__= None\nim_func= <function get_name at 0x02455830>\n__func__= <function get_name at 0x02455830>\nim_class= <class '__main__.Stu'>\n__doc__= this is the doc\n__module__= __main__\n\n  File \"E:\\demo\\py\\demo.py\", line 29, in <module>\n    method()\nTypeError: unbound method get_name() must be called with Stu instance as first argument (got nothing instead)\n从上面的输出结果可以看出，当通过类直接调用方法时，方法的im_self与__self__属性为None，该方法为非绑定方法(unbound method)，当我们通过实例调用该方法时，方法的im_self与__self__属性为实例对象。这时该方法为绑定方法(bound method)，但是不管哪种情况，方法的im_class都为调用类，而im_func为原始的函数对象。\n\n                ", "mainLikeNum": ["1 "], "mainBookmarkNum": "3"}