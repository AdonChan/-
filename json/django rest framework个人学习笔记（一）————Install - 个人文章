{"title": "django rest framework个人学习笔记（一）————Install - 个人文章 ", "index": "python,django-rest-framework", "content": "本文主要是用来记录自己学习django-rest-framework的过程。其中可能会有很多自己的错误理解。\n这里主要会用到的知识有\n1. [django](https://www.djangoproject.com/)  \n2. [django-rest-framework](http://www.django-rest-framework.org/)  \n3. restful\n    - [百度百科](https://baike.baidu.com/item/RESTful/4406165?fr=aladdin)\n    - [阮一峰理解RESTful架构](http://www.ruanyifeng.com/blog/2011/09/restful)  \n    - 其余请自行百度。  \n4. [python](https://www.python.org/)\n本系列中使用的版本号\n1. python3.6\n2. django1.11.4\n3. django-rest-framework3\n官方文档\n安装\npip install djangorestframework\npipinstall django-filter #过滤支持，官方推荐使用 \n添加 'rest_framework'到 django settings文件的 INSTALLED_APPS中：\nINSTALL_APPS = {\n    ...\n    'rest_framework',\n} \n如果你想使用可视化的API,可以添加如下代码到根urls.py文件中：\nurlpatterns = [\n    ...\n    url(r'^api-auth/',include('rest_framework.urls',namespace='rest_framework')),\n]\n注意这个url可以是任何你想要的，但是必须导入 rest_framework.urls，并且 namespace必须为rest_framework。在django1.9+中，你可以不用设置namespace,rest_framework将会为你设置。\n\n例子\n让我们来看一个使用 REST framework构建的简单的 model-backed API.我们创建一个 read-write API，来访问我们项目中用户的信息。REST framework API 所有的全局设置都放在 settings.py的 REST_FRAMEWORK字典中。\nREST_FRAMEWORK = {\n    # 使用django标准的 'django.contrib.auth'权限，未认证的用户只读权限\n    'DEFAULT_PERMISSION_CLASSES': [\n        'rest_framework.premissions.DjangoModelPermissionOrAnonReadOnly'\n    ]\n}\n不要忘记将 rest_framework添加到你的INSTALLED_APPS中。我们现在准备创建我们的API了。在我们的根urls.py模块中：\nfrom django.conf.urls import url, include\nfrom django.contrib.auth.models import User\nfrom rest_framework import routers, serializers, viewsets\n\n# Seriallzers 定义这个API的表现\nclass UserSerializer(serializers.HyperlinkModelSerializer):\n    class Meta:\n        model = User\n        fields = ('url','username','email','is_staff')\n  \n\n#ViewSets定义这个API的行为\nclass UserViewSet(viewsets.ModelViewSet):\n    queryset = User.objects.all()\n    serializer_class = UserSerializer\n   \n#Routers提供了一种简单的方式来设置url\nrouter = routers.DefaultRouter()\nrouter.register(r'users',UserViewSet)\n\n#使用URL路由自动连接我们的API\n#此外，我们还添加了一个可视化的Url\nurlpatterns = [\n    url('^',include(router.urls)),\n    url('^api-auth/',include('rest_framework.urls'),namesapce='rest_framework'),\n]\n\n                ", "mainLikeNum": ["1 "], "mainBookmarkNum": "3"}