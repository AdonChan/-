{"title": "使用Pygments来实现代码高亮 - Jerry's Blog ", "index": "python,html,css,blog,pygments", "content": "\n  本文最初发布于我的个人博客：http://jerryzou.com/posts/usePygments/\n\n\n今天我尝试更换了我个人博客jerryzou.com中的代码高亮样式，主要使用的就是Pygments。Pygments有许多各式各样的样式可供选择，而在这篇文章中，我将为大家讲解如何安装Pygments、以及如何生成代码高亮所需要的文件。\n\n安装Pygments\n\n在OS X中，因为python是预装的，可以直接运行指令：\n\neasy_install pip\npip install pygments\n\n\n在Archlinux上：\n\nsudo pacman -S python-pygments\n\n\n或者使用python2版的pygments:\n\nsudo pacman -S python2-pygments\n\n\n在Unbutu和Debian上:\n\nsudo pat-get install python-pygments\n\n\n在Fedora和CentOS上:\n\nsudo yum install python-pygments\n\n\n在Gentoo上:\n\nsudo emerge -av dev-python/pygments\n\n\n生成所需的html文件\n\n如果你用类似Jekyll、hexo等静态网站生成工具，你就不需要自己生成html文件，可以直接跳过这一小节。这些工具会帮你自动生成，比如本站就是使用Jekyll生成的。如果你需要自己生成html文件，可以参照以下的步骤：\n\n假设需要高亮的代码为一段js代码，文件名为test.js：\n\nvar testStr = \"hello world\";\n\n\n你需要在终端中输入：\n\npygmentize -f html -o test.html test.js\n\n\n\n\n-f html指明需要输出html文件\n\n-o test.html指明输出的文件名\n\ntest.js就是输入文件了\n\n最后我们得到的html文件大概是这个样子的：\n\n<div class=\"highlight\"><pre><span class=\"kd\">var</span> <span class=\"nx\">testStr</span> <span class=\"o\">=</span> <span class=\"s2\">&quot;hello world&quot;</span><span class=\"p\">;</span>\n</pre></div>\n\n\n以上把需要生成的代码按词法分析拆分成多个小部分，接下来的问题是如何给这些分好的块上色呢？于是引出了下一个问题：我们需要生成对应的css文件。\n\n生成所需的css文件\n\nPygments提供了十多种高亮样式的方案，所有可用的方案可以用如下方式查看：\n\n>>> from pygments.styles import STYLE_MAP\n>>> STYLE_MAP.keys()\n\n\n如此就可以得到如下结果：\n\n\n\n本博客采用的样式是tango，如果你喜欢的话，也可以按这种方案给自己博客的代码如此着色。言归正传，接下来介绍生成css文件的指令：\n\npygmentize -f html -a .highlight -S default > pygments.css\n\n\n\n\n-a .highlight指所有css选择器都具有.highlight这一祖先选择器\n\n-S default就是指定所需要的样式了，各位可以对各种样式都尝试一下。在官网上是可以直接尝试的哦！\n\n\n> pygments.css将内容输出到pygments.css文件中\n\n最后pygments.css文件的内容大概是这样的：\n\n.highlight .hll { background-color: #ffffcc }\n.highlight  { background: #f8f8f8; }\n.highlight .c { color: #8f5902; font-style: italic } /* Comment */\n.highlight .err { color: #a40000; border: 1px solid #ef2929 } /* Error */\n.highlight .g { color: #000000 } /* Generic */\n.highlight .k { color: #204a87; font-weight: bold } /* Keyword */\n.highlight .l { color: #000000 } /* Literal */\n.highlight .n { color: #000000 } /* Name */\n.highlight .o { color: #ce5c00; font-weight: bold } /* Operator */\n.highlight .x { color: #000000 } /* Other */\n...\n\n\n只要在使用到代码高亮的html文件中，引入这个css样式就大功告成了。\n\n参考资料：\n\n\n\nhttp://pygments.org/\n\n\nhttp://segmentfault.com/q/1010000000261050\n\n\nhttp://havee.me/internet/2013-07/jekyll-install.html\n\n\n\n                ", "mainLikeNum": ["1 "], "mainBookmarkNum": "6"}