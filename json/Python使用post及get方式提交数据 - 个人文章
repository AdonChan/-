{"title": "Python使用post及get方式提交数据 - 个人文章 ", "index": "python", "content": "最近在使用Python的过程中，发现网上很少提到在使用post方式时，怎么传一个数组作为参数的示例，此处根据自己的实践经验，给出相关示例：单纯的post请求：\ndef http_post():  \n    url = \"http://152.1.12.11:8080/web\"  \n    postdata = dict(d=2, p=10)  \n    post = []  \n    post.append(postdata)  \n    req = urllib2.Request(url, json.dumps(post)) #需要是json格式的参数  \n    req.add_header('Content-Type', 'application/json') #要非常注意这行代码的写法  \n    response = urllib2.urlopen(req)  \n    result = json.loads(response.read())  \n    print result  \n需要token时写法如下：\ndef http_post():  \n    url = \"http://152.1.12.11:8080/web\"  \n    postdata = dict(d=2, p=10)  \n    post = []  \n    post.append(postdata)  \n    req = urllib2.Request(url, json.dumps(post))  \n    access_token = 'eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiJ9.eyJ1bmlxdWVfbmFtZSI6I..........'  \n    req.add_header('Authorization', access_token) #header中添加token  \n    req.add_header('Content-Type', 'application/json')  #要非常注意这行代码的写法  \n    response = urllib2.urlopen(req)  \n    result = json.loads(response.read())  \n    print result  \nget方式的写法如下：\ndef get_access_token():  \n    local_url = 'http://152.1.1.1:8080/web'  \n    response = urllib2.urlopen(local_url).read()  \n    resp = json.loads(response)  \n    print resp  \n\n                ", "mainLikeNum": ["0 "], "mainBookmarkNum": "3"}