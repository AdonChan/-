{"title": "学会了这项技能，你就能获得任何想要的信息！ - 腾讯云技术社区 ", "index": "云计算,程序员,网页爬虫,大数据,python", "content": "欢迎大家前往腾讯云+社区，获取更多腾讯海量技术实践干货哦~\n本文由腾讯云实验室发表于云+社区专栏\n\n腾讯云提供了开发者实验室教你搭建 PySpider 爬虫服务，教程内容如下，用户可以点击开发者实验室快速上机完成实验。\n环境准备\n任务时间：5min ~ 10min\n前置环境部署\n在开始部署前，我们需要做一些前置准备。\nyum 更新\nyum update -y\n安装开发编译工具\nyum install gcc gcc-c++ -y\n安装依赖库\nyum install python-pip python-devel python-distribute libxml2 libxml2-devel python-lxml libxslt libxslt-devel openssl openssl-devel -y\n升级pip\npip install --upgrade pip\n该步骤可选，但为了部署的稳定性，推荐执行该步骤耗时可能较长（5~10min），请耐心等待\n\n部署 mariadb\n任务时间：10min ~ 20min\n由于 CentOS 7 中 MySQL 数据库已从默认的程序列表中移除，我们使用 mariadb 代替。\n安装 mariadb\nyum install mariadb-server mariadb -y\n启动 mariadb 服务\nsystemctl start mariadb\n设置 root 密码\n默认的root用户密码为空，你可以使用以下命令来创建 root 用户的密码：\n（该步骤也可以跳过，password 后的 Password 可以改为任何你希望设置的密码）\nmysqladmin -u root password \"Password\"\n检查是否安装成功\n现在你可以尝试通过以下命令来连接到 Mysql 服务器\nmysql -u root -p\n然后输入您刚才设置的密码 （ 默认：Password ），如果一切正常，您应该可以在命令行看到以 MariaDB [(none)]> 或 mysql> 开头的提示了，说明连接成功。\n此时输入 SHOW DATABASES; 并回车，应该可以看到类似下面这样的输出，说明一切正常。\nmysql> SHOW DATABASES;\n+----------+\n| Database |\n+----------+\n| mysql    |\n| test     |\n+----------+\n2 rows in set (0.13 sec)\n完成后，可以通过快捷键 Ctrl+C 或命令行键入 exit 来退出，进入下一步。\n如果您未设置密码，直接使用 mysql 即可\n部署 redis\n任务时间：10min ~ 20min\n下载、解压安装包\n下载安装包\nwget http://download.redis.io/redis-stable.tar.gz\n解压安装包\ntar -xzvf redis-stable.tar.gz\n移动解压包到 /usr/local 内\nmv redis-stable /usr/local/redis\n编译安装\ncd /usr/local/redis\nmake\nmake install\n设置 redis 配置\n设置配置文件路径\nmkdir -p /etc/redis\ncp /usr/local/redis/redis.conf /etc/redis/redis.conf\n修改 /etc/redis/redis.conf 文件的 daemonize 配置项为如下：\ndaemonize yes\n启动 redis 服务\n/usr/local/bin/redis-server /etc/redis/redis.conf\n部署 pyspider\n任务时间：10min ~ 20min\n安装依赖\npip install --upgrade chardet\neasy_install mysql-connector==2.1.3\neasy_install redis\n安装 pyspider\npip install pyspider\n配置 pyspider\n首先创建配置目录\nmkdir /etc/pyspider\n然后 /etc/pyspider 目录下创建 pyspider.conf.json，参考下面的内容。\n具体配置的说明文档请参考 官方文档\n示例代码：/etc/pyspider/pyspider.conf.json\n{\n  \"taskdb\": \"mysql+taskdb://root:Password@127.0.0.1:3306/taskdb\",\n  \"projectdb\": \"mysql+projectdb://root:Password@127.0.0.1:3306/projectdb\",\n  \"resultdb\": \"mysql+resultdb://root:Password@127.0.0.1:3306/resultdb\",\n  \"message_queue\": \"redis://127.0.0.1:6379/db\",\n  \"webui\": {\n    \"username\": \"root\",\n    \"password\": \"Password\",\n    \"need-auth\": true\n  }\n}\n其中 mysql 配置中的 root 为您 mysql 的用户名， root: 后面的 Password 为您刚设置的密码。\nwebui 配置中的 username 及 password 为您访问 WebUI 时候需要的用户名，你也可以不设置用户名密码，直接将 need-auth 设为 false 即可。\n启动服务\npyspider -c /etc/pyspider/pyspider.conf.json\n如果一切正常，现在访问 http://&lt;您的 CVM IP 地址>:5000，您应该可以看到 pyspider dashboard 的首页了。\n服务能够正常启动后，我们需要让它能够在后台运行，您可以通过以下命令让服务在后台运行\nnohup pyspider -c /etc/pyspider/pyspider.conf.json &\n也可以使用官方推荐的 Supervisor 来启动，这里就不详细介绍了，具体用法可以参考 Supervisor 的文档\n部署完成\n任务时间：1min ~ 2min\n访问服务\n此时您可以访问 http://&lt;您的 CVM IP 地址>:5000 使用您的爬虫来搜集数据了，具体 pyspider 爬虫脚本的编写及使用教程可以参考 网上资料。\n\n问答BeautifulSoup和Scrapy爬虫之间的区别？相关阅读腾讯云数据库回档解决方案大数据在教育行业的研究与应用看看上下文映射的清晰视图 云学院 · 课程推荐 | 知乎KOL，与你分享机器学习中如何做选择\n\n此文已由作者授权腾讯云+社区发布，原文链接：https://cloud.tencent.com/dev... \n欢迎大家前往腾讯云+社区或关注云加社区微信公众号（QcloudCommunity），第一时间获取更多海量技术实践干货哦~\n\n                ", "mainLikeNum": ["7 "], "mainBookmarkNum": "6"}