{"title": "云服务器配置选购指南——指定vCPU、内存的查询可用资源API实践 - 个人文章 ", "index": "python", "content": "摘要： 阿里云ECS机型众多，规格族及规格繁多。对于选购资源，我们主要关心云服务器的配置、带宽资源及地域节点信息。本文针对配置选购，教你怎么查询指定vCPU、内存的资源规格，重点介绍API查询指定vCpu及内存的可用的规格资源。\n背景\n阿里云ECS机型众多，规格族及规格繁多。对于选购资源，我们主要关心云服务器的配置、带宽资源及地域节点信息。本文针对配置选购，教你怎么查询指定vCPU、内存的资源类型。\n配置选购\n您可以了解目前在售的所有ECS实例规格族的信息，包括每种规格族的特点、在售规格和适用场景。\n实例规格族及适用场景介绍具体地域可售卖的实例规格，可以查询API\nDescribeAvailableResource APIDescribeResourcesModification API也可以选择ECS购买操作：\n\n这里可以通过vCPU及内存查询你对应的规格，清晰直接。API查询指定vCPU、内存的规格实践下文以Aliyun CLI为例\n安装Aliyun CLICLI官网链接首先确保您已经具备Python的Runtime，本文中使用的Python版本为2.7+。\npip install aliyuncli如果提示您没有权限，请切换sudo 继续执行。\nsudo pip install aliyuncli系统显示如下类似信息，则表明安装成功.\nSuccessfully installed pip-10.0.1。升级aliyun-python-sdk-ecs 版本为4.9.3及以上\nsudo pip --upgrade install aliyun-python-sdk-ecs配置命令行工具\n在 Linux/UNIX 和 Mac OS 环境下，执行如下命令，打开并填写所列参数。\n$ sudo aliyuncli configureAliyun Access Key ID [None]: <输入 Access Key ID>Aliyun Access Key Secret [None]: <输入 Access Key Secret>Default Region Id [None]: <输入您购买的阿里云产品的 Region Id>Default output format [None]: <输入您需要的输出格式>场景事例新购将Cores跟Memory换成你期望的vCpu及内存值。如果返回成功并且结果为空，则表示没有可以适配的规格。\n完整命令可以向右划\naliyuncli ecs DescribeAvailableResource --DestinationResource InstanceType --RegionId cn-hangzhou --ZoneId cn-hangzhou-e  --IoOptimized optimized  --NetworkCategory Vpc --Cores 2  --Memory 4 返回结果\n{\n    \"AvailableZones\": {\n        \"AvailableZone\": [\n            {\n                \"Status\": \"Available\",\n                \"RegionId\": \"cn-hangzhou\",\n                \"AvailableResources\": {\n                    \"AvailableResource\": [\n                        {\n                            \"Type\": \"InstanceType\",\n                            \"SupportedResources\": {\n                                \"SupportedResource\": [\n                                    {\n                                        \"Status\": \"Available\",\n                                        \"Value\": \"ecs.sn1ne.large\"\n                                    },\n                                    {\n                                        \"Status\": \"Available\",\n                                        \"Value\": \"ecs.c5.large\"\n                                    }\n                                ]\n                            }\n                        }\n                    ]\n                },\n                \"ZoneId\": \"cn-hangzhou-e\"\n            }\n        ]\n    },\n    \"RequestId\": \"D325440A-FA19-4002-B926-BD089C5EFCC4\"\n}\n\n变配查询的操作类型OperationType, 默认为Upgrade, 可选值如下：\nUpgrade：实时升级Downgrade：实时降级RenewDowngrade：续费降配RenewModify：过期实例到续费变配\n完整命令可以向右划\naliyuncli ecs DescribeResourcesModification --ResourceId i-xxxxx --DestinationResource InstanceType --Core 2 --Memory 4结果\n{\n    \"AvailableZones\": {\n        \"AvailableZone\": [\n            {\n                \"Status\": \"Available\",\n                \"AvailableResources\": {\n                    \"AvailableResource\": [\n                        {\n                            \"Type\": \"InstanceType\",\n                            \"SupportedResources\": {\n                                \"SupportedResource\": [\n                                    {\n                                        \"Status\": \"Available\",\n                                        \"Value\": \"ecs.sn2ne.large\"\n                                    }\n                                ]\n                            }\n                        }\n                    ]\n                },\n                \"ZoneId\": \"cn-hangzhou-f\"\n            }\n        ]\n    },\n    \"RequestId\": \"78BE2EB7-98D3-4CEF-94C7-52A210CCFA11\"\n}\n\n原文链接本文为云栖社区原创内容，未经允许不得转载\n\n                ", "mainLikeNum": ["0 "], "mainBookmarkNum": "0"}