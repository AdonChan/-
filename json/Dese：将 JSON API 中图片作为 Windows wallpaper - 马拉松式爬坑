{"title": "Dese：将 JSON API 中图片作为 Windows wallpaper - 马拉松式爬坑 ", "index": "python", "content": "简介\n\nGithub 项目 pywallpaper。可以将大多数的 JSON API 中的图片链接作为自己的 Windows wallpaper，现已经包含以下网站图片的配置文件：\n\nbing每日一图\n百度图片\nUnsplash\n爱壁纸\nNationalGeographic国家地理\n\n虽然现在网上各种设置背景的软件数不胜数，但是又有几个是不会在后台悄悄运行或者跳出广告的呢？开发这个软件一是为了在学 Python 时练手，增加动力；二是想要一个可配置的、具有大量高质图片资源、运行完就干干净净退出的程序。\n注：不可将其用于任何的商业目的！\n以下是项目 README.md, 程序员都是比较懒的哈哈。\nDese\nWindows 上可自动设置背景桌面的小程序。\n使用方法\n可使用PyInstaller进行打包\n方法一\n双击运行 Dese.exe\n方法二\n命令行切换到当前目录后，输入以下命令：\npython main.py\n即可运行。\n进阶配置\n图片来源是可以通过配置文件进行配置的，以下是配置文件所有字段的定义：\n\n\n字段\n可选值\n描述\n\n\n\napi_url\n任意\n一个可以获得 JSON 格式的 API URL\n\n\npicture_url_locat\n\"key\"、\"[number]\"、\"[start~end]\"\n一种 JSON 位置的表述方式\n\n\nname_type\n\"url\"、\"time\"、\"json\"\n图片文件的命名方式\n\n\nname_exclude_char\n任意字符\n图片名称中需要去掉的字符\n\n\nname_fill_char\n任意字符\n去掉字符时可选择用此值来填充\n\n\nwallpaper_fill_type\n\"fill\"、\"fit\"、\"Stretch\"、\"tile\"、\"center\"、\"span\"\n背景填充方式\n\n\npicture_store_path\n相对目录 如 \"pics\" 或绝对目录 如 \"E:/wallpaper\"\n背景图片存放目录，可为相对目录或绝对目录\n\n\npicture_postfix\n任意后缀或者为空\n下载图片时的后缀，如果所选择的命名方式中不存在后缀则在此添加\n\n\n\napi_url\n这个是 API 的地址，要求必须是返回 JSON 格式的数据。如 bing 的 API，百度图片的 API，爱壁纸的 API 以及 Unsplash 的 API。\npicture_url_locat\n一种特殊的 JSON 对象选择描述方式，例如以下 JSON 对象：\n{\n    \"name\": \"baidu\",\n    \"data\": [\n        {\n            \"url\": \"http://baidu.com/xxx1.jpg\",\n            \"level\": \"6\"\n        },\n        {\n            \"url\": \"http://baidu.com/xxx2.jpg\",\n            \"level\": \"2\"\n        },\n        {\n            \"url\": \"http://baidu.com/xxx3.jpg\",\n            \"level\": \"2\"\n        }\n    ]\n}\n\n\n\npicture_url_locat 值\n效果\n\n\n\n\"name\"\n获取 name 的值，也就是 baidu\n\n\n\n\"data [0] url\"\n获取 data 数组中索引为 0 的元素的 url 字段值，此处即获得了 http://baidu.com/xxx1.jpg 这个 URL\n\n\n\"data [0~2] url\"\n获取 data 数组中索引为 0 到 2 的随机数元素的 url 字段值，在这里我们只能确定他最终获取的是一个 URL\n\n\n\n简单吧？\nname_type\n命名的类型，总共有三种方式：url、json、time。\n\nurl 是截取图片下载链接最后  一部分作为文件名（在最后一个/之后，?之前），如选择的图片链接为 http://baidu.com/xxx1.jpg?size=2k，则截取到的文件名为 xxx1.jpg。\njson 则接收和 picture_url_locat 字段一样的参数，从 json 中获取文件名\ntime 则是以下载图片时的时间（时间戳）作为文件名。\n\nname_exclude_char\n这个字段在 name_type 为 json 或 url 时必须填写（可为空字符串 \"\"）。表示需要从文件名中剔除的字符，这是为了防止特殊字符在 Windows 系统中造成乱码。多个字符直接连在一起即可，如：我要去除文件名中的 @ 和 # 符号，name_exclude_char 的值就应为 \"@#\"。\nname_fill_char\n此字段在 name_exclude_char 字段填写后生效，当 name_exclude_char 中规定的字符被剔除时，会使用当前字段定义的字符来填充。如：\n原始文件名为：12315*43@2.jpg，name_exclude_char 值为 \"*@\"，name_fill_char 值为 __，则最为后的文件名为 12315__43__2.jpg\nwallpaper_fill_type\n背景的填充方式，对应 Windows 10 设置->个性化->背景->契合度 中的值。默认为 fill。\npicture_store_path\n图片的存放路径，默认为 pics， 绝对目录以及相对目录均可。如 E:/wallpaper。注：路径用 / 分隔而不是 \\ 。\npicture_postfix\n图片名字的后缀，如果你的图片下载链接中不存在文件后缀（如 htt://baidu.com/xxx1），或者 name_type 选择的是 time ，则需要将此字段填写为 \".jpg\"。不过如果你的文件名中已有后缀（如 http://baidu.com/xxx1.jpg），则将此字段的值设置为 \"\"。此字段不可省略。\n\n                ", "mainLikeNum": ["0 "], "mainBookmarkNum": "1"}