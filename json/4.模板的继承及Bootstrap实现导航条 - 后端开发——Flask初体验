{"title": "4.模板的继承及Bootstrap实现导航条 - 后端开发——Flask初体验 ", "index": "flask,python", "content": "在建设一个网站的时候，不同的页面有很多元素是一样的，比如导航条、侧边栏等，我们可以使用模板的继承，避免重复编写html代码。现在我们打算实现一个在网页上方的导航条，并在所有的页面中继承这个导航条。导航条的建立，我们直接使用Bootstrap提供的如下导航条的样式。\n\n但在使用Bootstrap的导航条样式之前，需要先引用Bootstrap所需要的css和js文件以及jQuery，我们在html的header中插入以下代码完成引用：\n<link rel=\"stylesheet\" href=\"https://cdn.bootcss.com/bootstrap/3.3.7/css/bootstrap.min.css\" integrity=\"sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u\" crossorigin=\"anonymous\">\n<script src=\"https://cdn.bootcss.com/jquery/3.2.1/jquery.min.js\"></script>\n<script src=\"https://cdn.bootcss.com/bootstrap/3.3.7/js/bootstrap.min.js\" integrity=\"sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa\" crossorigin=\"anonymous\">\n这里都是通过链接引用网络上的css和js文件，而不是将其下载下来并从本地引用。之后我们把上述导航条的代码复制到html的body中，js及css引用复制到header中，浏览器就能显示和图中一样的导航条了。我们再做一些简单的修改和优化，最终我们的导航条是这样的：\n\n具体修改的点是，我把原始的Brand替换成了一个图片作为logo，第一个下拉控件Dropdown删掉了，最右侧的下拉控件增加了一个选项，并把文字都替换成了我们想要的。然后建立了一个base.css文件来调整图片大小、控件位置、背景色等等，这一部分都是基础的html/css知识，也就不多说。后续所有的网页都要使用这个导航条，我们将含有导航条这个html命名为base.html，并在其body中，导航条代码的下方增加以下代码：\n{% block body_part %}\n{% endblock %}\n然后新建一个home.html，输入以下内容：\n{% extends 'base.html' %}\n{% block body_part %}\n<p>This is body content under nav-bar</p>\n{% endblock %}\n渲染home.html并访问，我们可以看到这样的结果：\n\n因此我们不难理解，在home.html中，{% extends 'base.html' %}表示继承自base.html，home.html中block和endblock区间的代码块会自动替换到base.html同样名为body_part的block区域。block可以使用多个，例如在<title>中也可以使用，以便于不同的页面设置不同的标题。最终base.html代码如下：\n<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <link rel=\"stylesheet\" href=\"https://cdn.bootcss.com/bootstrap/3.3.7/css/bootstrap.min.css\" integrity=\"sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u\" crossorigin=\"anonymous\">\n    <script src=\"https://cdn.bootcss.com/jquery/3.2.1/jquery.min.js\"></script>\n    <script src=\"https://cdn.bootcss.com/bootstrap/3.3.7/js/bootstrap.min.js\" integrity=\"sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa\" crossorigin=\"anonymous\"></script>\n    <link rel=\"stylesheet\" href=\"{{ url_for('static',filename='css/base.css') }}\"/>\n    <link rel=\"shortcut icon\" href=\"{{ url_for('static', filename='images/favicon.ico') }}\">\n    <title>{% block page_name %}{% endblock %}-HarpQA</title>\n</head>\n<body>\n<nav class=\"navbar navbar-default\">\n    <div class=\"container\">\n        <!-- Brand and toggle get grouped for better mobile display -->\n        <div class=\"navbar-header\">\n          <button type=\"button\" class=\"navbar-toggle collapsed\" data-toggle=\"collapse\" data-target=\"#bs-example-navbar-collapse-1\" aria-expanded=\"false\">\n            <span class=\"sr-only\">Toggle navigation</span>\n            <span class=\"icon-bar\"></span>\n            <span class=\"icon-bar\"></span>\n            <span class=\"icon-bar\"></span>\n          </button>\n          <a class=\"navbar-brand\">\n              <img class=\"logo\" src=\"{{ url_for('static',filename='images/logo.png') }}\">\n          </a>\n        </div>\n\n        <!-- Collect the nav links, forms, and other content for toggling -->\n        <div class=\"collapse navbar-collapse\" id=\"bs-example-navbar-collapse-1\">\n          <ul class=\"nav navbar-nav\">\n            <li class=\"active\"><a href=\"#\">首页 <span class=\"sr-only\">(current)</span></a></li>\n            <li><a href=\"#\">发布问答</a></li>\n          </ul>\n          <form class=\"navbar-form navbar-left\">\n            <div class=\"form-group\">\n              <input type=\"text\" class=\"form-control\" placeholder=\"Key Words\">\n            </div>\n            <button type=\"submit\" class=\"btn btn-default\">搜索</button>\n          </form>\n          <ul class=\"nav navbar-nav navbar-right\">\n            <li><a href=\"#\">登录</a></li>\n            <li><a href=\"#\">注册</a></li>\n             <li class=\"dropdown\">\n              <a href=\"#\" class=\"dropdown-toggle\" data-toggle=\"dropdown\" role=\"button\" aria-haspopup=\"true\" aria-expanded=\"false\">友情链接<span class=\"caret\"></span></a>\n              <ul class=\"dropdown-menu\">\n                <li><a href=\"mailto:liutao25@baidu.com\">联系我</a></li>\n                <li><a href=\"http://flask.pocoo.org\" target=\"_blank\">Flask官网</a></li>\n                <li><a href=\"https://www.python.org/\">Python官网</a></li>\n                <li role=\"separator\" class=\"divider\"></li>\n                <li><a href=\"https://www.baidu.com\" target=\"_blank\">百度搜索</a></li>\n                <li role=\"separator\" class=\"divider\"></li>\n                <li><a href=\"https://www.google.com.hk\" target=\"_blank\">Google Search</a></li>\n              </ul>\n            </li>\n          </ul>\n        </div><!-- /.navbar-collapse -->\n      </div><!-- /.container-fluid -->\n</nav>\n{% block body_part %}\n{% endblock %}\n</body>\n</html>\n请注意一下base.css和logo图片的引用，我们也使用了url_for函数，第一个参数是static，代表项目文件夹下static文件夹，第二个参数是以static文件夹为基准静态文件的相对路径，我们把js文件/css文件/图片文件等都放在这个文件夹下，所以这个用法以后会经常使用。我们在收藏网页的时候，网页都有一个小图标，我们也可以在header中使用这行html代码来实现：\n<link rel=\"shortcut icon\" href=\"{{ url_for('static', filename='images/favicon.ico') }}\">\n把favicon.ico文件放在static/images文件夹即可，我们使用了Flask的图标，效果如下图：\n\nbase.css代码如下：\nbody{\n    background: #F3F3F3;\n}\n\n.navbar-brand{\n    padding: 0 5px;\n    padding-right: 10px;\n}\n\n.logo{\n    height: 50px;\n}\n\n                ", "mainLikeNum": ["0 "], "mainBookmarkNum": "1"}