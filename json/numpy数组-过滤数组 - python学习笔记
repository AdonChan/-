{"title": "numpy数组-过滤数组 - python学习笔记 ", "index": "python", "content": "可以使用一个numpy数组作为索引数组去过滤原数组,索引数组里为true的值,保留,为false的值去掉\nimport numpy as np\n\n使用索引数组\n\na = np.array([1, 2, 3, 4])\nb = np.array([True, True, False, False])\nprint a[b]                                       #[1 2]\nprint a[np.array([True, False, True, False])]    #[1 3]\n\n\n通过对原数组进行向量化运算得到索引数组\n\na = np.array([1, 2, 3, 2, 1])\nb = (a >= 2)\nprint a[b]            #[2 3 2]\nprint a[a >= 2]       #[2 3 2]\n\n\n通过对某一数组进行向量化运算得到索引数组\n\na = np.array([1, 2, 3, 4, 5])\nb = np.array([1, 2, 3, 2, 1])\nprint b == 2      #[False True False True False]\nprint a[b == 2]   #[2 4] \n\n一个例子:\n# 20个学生在课程上所花费的时间\ntime_spent = np.array([\n       12.89697233,    0.        ,   64.55043217,    0.        ,\n       24.2315615 ,   39.991625  ,    0.        ,    0.        ,\n      147.20683783,    0.        ,    0.        ,    0.        ,\n       45.18261617,  157.60454283,  133.2434615 ,   52.85000767,\n        0.        ,   54.9204785 ,   26.78142417,    0.\n])\n\n# 20个学生参加学习的天数\ndays_to_cancel = np.array([\n      4,   5,  37,   3,  12,   4,  35,  38,   5,  37,   3,   3,  68,\n     38,  98,   2, 249,   2, 127,  35\n])\n\ndef mean_time_for_paid_students(time_spent, days_to_cancel):\n    '''\n    计算参加课程大于等于7天的学生平均在课程上所花的时间\n    '''\n    index_array = days_to_cancel >= 7\n    mean_time = time_spent[index_array].mean()\n    return mean_time\n\nprint(mean_time_for_paid_students(time_spent, days_to_cancel))\n\n# 结果: 41.0540034855\n\n\n\n                ", "mainLikeNum": ["0 "], "mainBookmarkNum": "0"}