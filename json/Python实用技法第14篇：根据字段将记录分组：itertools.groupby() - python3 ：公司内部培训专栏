{"title": "Pythonå®ç”¨æŠ€æ³•ç¬¬14ç¯‡ï¼šæ ¹æ®å­—æ®µå°†è®°å½•åˆ†ç»„ï¼šitertools.groupby() - python3 ï¼šå…¬å¸å†…éƒ¨åŸ¹è®­ä¸“æ  ", "index": "python", "content": "ä¸Šä¸€ç¯‡æ–‡ç« ï¼šPythonå®ç”¨æŠ€æ³•ç¬¬13ç¯‡ï¼šå¯¹è‡ªå®šä¹‰ç±»å¯¹è±¡æ’åºï¼šattrgetterä¸‹ä¸€ç¯‡æ–‡ç« ï¼šPythonå®ç”¨æŠ€æ³•ç¬¬15ç¯‡ï¼šç­›é€‰åºåˆ—ä¸­çš„å…ƒç´ \n\n1ã€éœ€æ±‚ğŸ™€\næœ‰ä¸€ç³»åˆ—çš„å­—å…¸æˆ–å¯¹è±¡å®ä¾‹ï¼Œæˆ‘ä»¬æƒ³æ ¹æ®æŸä¸ªç‰¹å®šçš„å­—æ®µæ¥åˆ†ç»„è¿­ä»£æ•°æ®ã€‚\n2ã€è§£å†³æ–¹æ¡ˆğŸ˜¸\nitertools.groupby()å‡½æ•°åœ¨å¯¹æ•°æ®è¿›è¡Œåˆ†ç»„æ—¶ç‰¹åˆ«æœ‰ç”¨ã€‚\nå®ä¾‹ï¼š\nfrom operator import itemgetter\nfrom itertools import groupby\n\nrows=[\n    {'name':'mark','age':18,'uid':'110'},\n    {'name':'miaomiao','age':28,'uid':'160'},\n    {'name':'miaomiao2','age':28,'uid':'150'},\n    {'name':'xiaohei','age':38,'uid':'130'},\n]\n\n#é¦–å…ˆæ ¹æ®ageæ’åº\nrows.sort(key=itemgetter('age'))\n\nfor age,items in groupby(rows,key=itemgetter('age')):\n    print(age)\n    for i in items:\n        print(i)\n\n\nç»“æœï¼š\n18\n{'name': 'mark', 'age': 18, 'uid': '110'}\n28\n{'name': 'miaomiao', 'age': 28, 'uid': '160'}\n{'name': 'miaomiao2', 'age': 28, 'uid': '150'}\n38\n{'name': 'xiaohei', 'age': 38, 'uid': '130'}\n3ã€åˆ†æ\nPythonå®ç”¨æŠ€æ³•ç¬¬5ç¯‡ï¼šä¸€é”®å¤šå€¼å­—å…¸ï¼šdefaultdict\nå‡½æ•°groupby()é€šè¿‡æ‰«æåºåˆ—æ‰¾å‡ºæ‹¥æœ‰ç›¸åŒå€¼ï¼ˆæˆ–æ˜¯ç”±å‚æ•°keyæŒ‡å®šçš„å‡½æ•°æ‰€è¿”å›çš„å€¼ï¼‰çš„åºåˆ—é¡¹ï¼Œå¹¶å°†å®ƒä»¬åˆ†ç»„ã€‚groupby()åˆ›å»ºäº†ä¸€ä¸ªè¿­ä»£å™¨ï¼Œè€Œåœ¨æ¯æ¬¡è¿­ä»£æ—¶éƒ½ä¼šè¿”å›ä¸€ä¸ªå€¼ï¼ˆvalueï¼‰å’Œä¸€ä¸ªå­è¿­ä»£å™¨ï¼ˆsub_iteratorï¼‰ï¼Œè¿™ä¸ªè¿­ä»£å™¨å¯ä»¥äº§ç”Ÿæ‰€æœ‰åœ¨è¯¥åˆ†ç»„å†…å…·æœ‰è¯¥å€¼å¾—é¡¹ã€‚\nåœ¨è¿™é‡Œé‡è¦çš„æ˜¯é¦–å…ˆè¦æ ¹æ®ageå¯¹æ•°æ®è¿›è¡Œæ’åºã€‚å› ä¸ºgroupby()ä¸ä¼šæ’åºã€‚\nå¦‚æœåªæ˜¯ç®€å•çš„æ ¹æ®æ—¥æœŸå°†æ•°æ®åˆ†ç»„åˆ°ä¸€èµ·ï¼Œæ”¾è¿›ä¸€ä¸ªå¤§çš„æ•°æ®ç»“æ„ä¸­ä»¥å…è®¸è¿›è¡Œéšæœºè®¿é—®ï¼Œé‚£ä¹ˆåˆ©ç”¨defaultdict()æ„å»ºä¸€ä¸ªä¸€é”®å¤šå€¼å­—å…¸å¯èƒ½ä¼šæ›´å¥½ï¼š\nfrom collections import defaultdict\n\nrows=[\n    {'name':'mark','age':18,'uid':'110'},\n    {'name':'miaomiao','age':28,'uid':'160'},\n    {'name':'miaomiao2','age':28,'uid':'150'},\n    {'name':'xiaohei','age':38,'uid':'130'},\n]\n\nrows_by_age=defaultdict(list)\nfor row in rows:\n    rows_by_age[row['age']].append(row)\nfor a in rows_by_age[28]:\n    print(a)\n\nç»“æœï¼š\n{'name': 'miaomiao', 'age': 28, 'uid': '160'}\n{'name': 'miaomiao2', 'age': 28, 'uid': '150'}\nä¸è€ƒè™‘æ’åºçš„è¯ï¼Œdefaultdictæ–¹æ³•ä¸€èˆ¬æ¯”groupbyå¿«ã€‚\n\n                ", "mainLikeNum": ["1 "], "mainBookmarkNum": "0"}