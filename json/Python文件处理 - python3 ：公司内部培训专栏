{"title": "Python文件处理 - python3 ：公司内部培训专栏 ", "index": "python", "content": "Python文件处理\n上一篇文章：Python异常处理下一篇文章：Python文件夹处理\n\n1、文件的打开与关闭\n打开语法：open(文件名,访问模式)关闭语法：close()\n\n\n\n访问模式\n解释\n\n\n\nr\n以只读方式打开，文件的指针将会放在文件的开头。这是默认方式。\n\n\nw\n打开一个文件，用于全新写入。如果文件以存在，将会覆盖，如果不存在，将会创建。\n\n\na\n打开一个文件，用于追加。如果文件以及存在，将会把文件指针放到文件末尾，如果不存在，将会新建。\n\n\nrb\n以二进制方式打开一个文件，用于只读。\n\n\nwb\n以二进制方式打开一个文件，用于全新写入。如果文件已经存在，将会覆盖，如果不存在，将会创建。\n\n\nab\n以二进制方式打开一个文件，用于追加写入。如果文件存在，将会把文件指针放到文件末尾；如果不存在，将会新建。\n\n\nr+\n打开一个文件用读写，文件指针将会放在文件开头。\n\n\nw+\n打开一个文件用于读写。如果文件已经存在，则覆盖，不存在则创建。\n\n\na+\n打开一个文件用于追加读写。如果文件已经存在，文件指针将会在文件末尾。如果文件不存在，将会创建。\n\n\nrb+\n以二进制方式打开一个文件用于读写，文件指针将放在文件开头。\n\n\nwb+\n以二进制方式打开一个文件用于读写，如果文件存在将被覆盖，不存在将会创建。\n\n\nab+\n以二进制方式打开一个文件用于读写，如果文件存在，文件指针将会在文件末尾，如果文件不存在，将会创建。\n\n\n\n实例：\n#第一次运行将会新建一个文件test.txt\nfile=open(\"text.txt\",\"w\")\n\n#关闭\nfile.close()\n结果：\n当前目录下回出现一个新文件：text.txt\n2、写数据\n使用write()来写入数据\n实例：\n#第一次运行将会新建一个文件test.txt\nfile=open(\"text.txt\",\"w\")\nfile.write(\"这么帅的程序员，人间罕见呀。\")\n#关闭\nfile.close()\n结果：text.txt文件内容为：\n这么帅的程序员，人间罕见呀。\n3、读数据\nread(num)\nread(num)：num表示从文件中读取的长度，单位字节，如果没有传num，将会读取文件的所有内容。\n实例：\ntext.txt：\n这么帅的程序员，人间罕见呀。\n程序代码：\n#第一次运行将会新建一个文件test.txt\nfile=open(\"text.txt\",\"r\")\n\nprint(file.read(2))\n\nprint(file.read())\n#关闭\nfile.close()\n结果：\n这么\n帅的程序员，人间罕见呀。\n不难看出：如果读了多次，下次读取是从上次读取结束位置开始的。\nreadlines\nreadlines(num):num为读取行数，如果不指定，将会返回全部，返回结果是有每行数据作为每个元素而组成的列表。\n实例：\ntext.txt：\n这么帅的程序员，人间罕见呀。\n现在看到这句话的人是世上最幸运的人，\n因为他（她）看到了的最帅的程序员写的Bug。\n程序代码：\n#第一次运行将会新建一个文件test.txt\nfile=open(\"text.txt\",\"r\")\n\ncontent=file.readlines()\n#type方法用来查看对于数据所属类型\nprint(type(content))\nprint(content)\n#关闭\nfile.close()\n结果：\n<class 'list'>\n['这么帅的程序员，人间罕见呀。\\n', '现在看到这句话的人是世上最幸运的人，\\n', '因为他（她）看到了的最帅的程序员写的Bug。']\nreadline\n每次读取一行\n实例：\ntext.txt：\n这么帅的程序员，人间罕见呀。\n现在看到这句话的人是世上最幸运的人，\n因为他（她）看到了的最帅的程序员写的Bug。\n程序代码：\n#第一次运行将会新建一个文件test.txt\nfile=open(\"text.txt\",\"r\")\n\nprint(file.readline())\nprint(file.readline())\nprint(file.readline())\n\n\n#关闭\nfile.close()\n结果：(每行后面都有换行符，所有下面结果行数之间会有空格)\n这么帅的程序员，人间罕见呀。\n\n现在看到这句话的人是世上最幸运的人，\n\n因为他（她）看到了的最帅的程序员写的Bug。\n5、获取当前读写位置\ntell():获取当前读写位置。\n实例：\ntext.txt：(注意，此处该用了字母，没有汉字，用了汉字结果会怎样呢，有奖竞猜呢😀)\nABCDEFG\n程序代码：\n#第一次运行将会新建一个文件test.txt\nfile=open(\"text.txt\",\"r\")\n\nprint(\"当前位置：\",file.tell())\nprint(\"读取到的数据：\",file.read(3))\nprint(\"当前位置：\",file.tell())\nprint(\"读取到的数据：\",file.read(3))\nprint(\"当前位置：\",file.tell())\n\n\n#关闭\nfile.close()\n结果：(每行后面都有换行符，所有下面结果行数之间会有空格)\n当前位置： 0\n读取到的数据： ABC\n当前位置： 3\n读取到的数据： DEF\n当前位置： 6\n6、定位到某个位置\nseek(offset,from):用来进行定位。offset：偏移量\nfrom：0表示文件开头，1表示当前位置，2表示文件结尾\n\n实例：\ntext.txt：(注意，此处该用了字母，没有汉字，用了汉字结果会怎样呢，有奖竞猜呢😀)\nABCDEFG\n程序代码：\n#第一次运行将会新建一个文件test.txt\nfile=open(\"text.txt\",\"r\")\n\nprint(\"当前位置：\",file.tell())\nprint(\"读取到的数据：\",file.read(1))\nprint(\"当前位置：\",file.tell())\n\n#将位置移动到：从文件开始的3个字节处\nfile.seek(3,0)\nprint(\"当前位置：\",file.tell())\nprint(\"读取到的数据：\",file.read(1))\n\n\n#关闭\nfile.close()\n结果：(每行后面都有换行符，所有下面结果行数之间会有空格)\n当前位置： 0\n读取到的数据： A\n当前位置： 1\n当前位置： 3\n读取到的数据： D\n7、文件的重命名\nos模块中的rename()可以完成对文件的重命名\nimport os\n\n#将text.txt重名为mark.txt\nos.rename(\"text.txt\",\"mark.txt\")\n8、文件的删除\nos模块中的remove()可以完成文件删除操作\nimport os\n\nos.remove(\"mark.txt\")\n\n                ", "mainLikeNum": ["1 "], "mainBookmarkNum": "1"}