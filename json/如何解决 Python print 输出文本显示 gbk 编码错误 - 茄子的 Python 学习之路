{"title": "如何解决 Python print 输出文本显示 gbk 编码错误 - 茄子的 Python 学习之路 ", "index": "python,sublime-text", "content": "前阵子想爬点东西，结果一直提示错误UnicodeEncodeError: ‘gbk’ codec can’t encode character ‘\\xa0’ in position，在网上一查，发现是 Windows 的控制台的问题。控制台的编码是 GBK，Python 是 UTF-8，造成了冲突。下面给出三种解决方法：\n第一种方法：直接替换出错的内容\nimport requests \nurl = 'https://segmentfault.com/a/1190000015617318' \n\nprint(requests.get(url).text.replace('\\xa0', ' '))\n第二种方法：再解码\n先用 GBK 编码，加个 ignore 丢弃错误的字符，然后再解码。\nimport requests\nurl = 'https://segmentfault.com/a/1190000015617318'\n\nprint(requests.get(url).text.encode('gbk', 'ignore').decode('gbk')\n第三种方法：修改控制台编码\n新建一个 cmd.reg, 输入代码：\nWindows Registry Editor Version 5.00\n\n[HKEY_CURRENT_USER\\Console\\%SystemRoot%_system32_cmd.exe]\n\"CodePage\"=dword:0000fde9\n\"FontFamily\"=dword:00000036\n\"FontWeight\"=dword:00000190\n\"FaceName\"=\"Consolas\"\n\"ScreenBufferSize\"=dword:232900d2\n\"WindowSize\"=dword:002b00d2\n\n保存后运行。如果 Ctrl+B 无效，用 python.exe 打开.py程序后再试一次。\n如果还有问题的话，可以在我的知乎和SF留言。\n\n                ", "mainLikeNum": ["1 "], "mainBookmarkNum": "1"}