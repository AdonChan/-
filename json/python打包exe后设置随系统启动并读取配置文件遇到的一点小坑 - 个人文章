{"title": "python打包exe后设置随系统启动并读取配置文件遇到的一点小坑 - 个人文章 ", "index": "python", "content": "python打包成一个exe文件，这个技术网上有不同的框架技术可以实现，就略过了，我用的是pyinstaller。\n这里主要说的是，当这个exe配置成随系统启动，则是自动启后，当你试图读取同一目录下的文件的时候，会发现找不到该文件。\n其实这是因为，放在run注册表下的自启动程序，运行的时候，基于某些原因，其实是被强制当做在\nC:/windows/system32\n下运行，所以就会找不到你放在程序目录里的配置文件。\n\n说了那么多，其实主要是想说，如何可以获得该exe的真实目录路径，请看下面这个截图\n聪明的你，请自动略过那些windows/system32，自然就会看到哪个方法才是你需要调用的。然后，只要提取出路径部分就可以，这里因为我是新手，所以又遇到了一个坑，就是关于斜杠和反斜杠的问题。在代码调试的时候，sys.argv[0]里面的是'/'，但是到自动运行的时候，却是'\\\\'。好吧，你自己体会过就知道，我直接post上我的代码。\ndef getExePath():\n    sap = '/'\n    if sys.argv[0].find(sap) == -1:\n        sap = '\\\\'\n    indx = sys.argv[0].rfind(sap)\n    path = sys.argv[0][:indx] + sap\n    return path\n\n                ", "mainLikeNum": ["0 "], "mainBookmarkNum": "0"}