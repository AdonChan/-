{"title": "【“探探”为例】手把手教你用最少的代码实现各种“机器人” - 个人文章 ", "index": "node.js,python", "content": "前言\n之前写了篇文章：【全是干货】谈谈如何学习一项新技能，没有理论，全是实战，里面第五点提到用脚本玩探探，昨天花了一个小时实现了该功能。\nGithub：探探机器人，自动根据不同妹纸/汉子颜值、年龄等类型，喜欢、忽略，欢迎各位star\n先看一下实现的结果吧\n今天要讲的主题是：使用 脚本 + WebDriverAgent 实现你自己想要自动操控的任意手机App。\n探探“机器人”实现原理\n\n设备开启WebDriverAgent\n\n使用usbmuxd（iTunes与iPhone通信采用usbmux，usbmuxd提供了USB-TCP的转换服务），里面的iproxy将设备端口转为本地端口\n> brew install usbmuxd\n> iproxy 8100 8100  # 将设备8100端口映射到电脑本地8100端口\n\n\n使用脚本操控手机App，Python为例（其它语言的实现，可自行去包管理网站找，比如：Node）\nimport wda  # https://pypi.org/project/facebook-wda/\nwdaClient = wda.Client()\ntantan_session = wdaClient.session('com.yaymedialabs.putong')  # 括号里为探探的Bundle ID，后面会提到怎样获取\nwdaClient.screenshot('iphone_screen.png')  # 截取手机屏幕并保存为iphone_screen.png\niphone_screen = Image.open('./iphone_screen.png')\nimg_face = iphone_screen.crop((34, 215, 1208, 1560))  # 根据坐标点截取出Plus 获取探探里面的照片\n\n上面已经获取到了探探里面的照片，此时可以调用三方api分析照片的数据，例：腾讯的AI Api\n\n\n根据第4步获得的结果判断 喜欢、忽略，直接使用上面的tantan_session点击对应按钮就好了\ntantan_session.tap(780, 2028)  # plus探探喜欢按钮的坐标\n\n\n拓展\n\n\nfacebook-wda的功能还有很多，详情见文档\n\n\ntantan-bot只实现了最简单的功能，其实可以很容易实现功能增加，比如：第一张截图识别不到人脸的，可以让脚本点照片进去滑动，检测到人脸后再判断喜欢、忽略（不错过每一个妹纸😁）\nPython的图像处理很方便，比如你可以写一个脚本实时监控你微信上女朋友是否给你发新消息了。我的思路：每5秒OCR识别一下聊天窗口，然后取OCR识别出的最后一条数据（非你自己发出的），采用Simhash算法比对与上一次是否差不多，如果相识度不高，证明是新消息，则调用三方聊天机器人API（当然你也可以扒出你自己的聊天数据用分类算法分个类，当新消息来了在你的语言库里去找一条最合适的回给你女朋友，看着不像是个机器人😀），于是女朋友就和智能机器人愉快的聊了一晚上，把自己都感动哭了🤣\n这个拿来玩游戏早有实践，比如：跳一跳\n\n用wda也可以很方便的实现到时自动抢东西的功能，省得去破协议，几句代码搞定😆\n探探这个个人信息也可以用ocr很容易识别出来分析，因为它都在固定区域，这样可以很容易判断对方的年龄、星座等\n\n补充\n\nBundle ID获取：https://offcornerdev.com/bundleid.html\n\nOCR识别：百度 API、Google tesseract\n\n\n最后\n下次见面，说不定我就已经实现上面说的东西了哦， 来波关注、star吧，哈哈！\n文章同步发布：blog\n\n                ", "mainLikeNum": ["0 "], "mainBookmarkNum": "1"}