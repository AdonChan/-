{"title": "CentOS7安装Python3 - 个人文章 ", "index": "centos,python", "content": "CentOS系统自带Python2, 部分关键应用依赖于它, 比如关键组件yum。当我惯性的yum remove python的时候, 系统很礼貌的送给我一行： “Error: Trying to remove \"yum\", which is protected”。所以，内心有辣么一丝丝的不悦...那奏暂且留下你吧，客官们还等着呢。\n安装python3的依赖\nyum install -y zlib-devel bzip2-devel openssl-devel ncurses-devel sqlite-devel readline-devel tk-devel gcc make\n获取python3源码。示例是 3.3.6, wget之。源 https://www.python.org/ftp/py...\nwget https://www.python.org/ftp/python/3.6.6/Python-3.6.6.tar.xz\nxz -d Python-3.6.6.tar.xz\ntar -xf Python-3.6.6.tar\ncd Python-3.6.6\n编译安装\n## 注：--enable-optimizations 参数可不加。写在第一行，希望客官能注意到\n./configure prefix=/usr/local/python3 --enable-optimizations\nmake && make install\n## 此处有小漫长的等待时间\n当看到以下两行则说明成功了Installing collected packages: setuptools, pipSuccessfully installed pip-10.0.1 setuptools-39.0.1\n这时候不要急于python -V 满足好奇心，先做好善后工作。\n备份python2，启用Python3\nmv /usr/bin/python /usr/bin/python.bk\nmv /usr/bin/pip /usr/bin/pip.bk\nln -s /usr/local/python3/bin/python3.6 /usr/bin/python\nln -s /usr/local/python3/bin/pip3 /usr/bin/pip\n恢复yum的正常动作修改/usr/bin/yum和/usr/libexec/urlgrabber-ext-down的首行脚本声明\nvim /usr/bin/yum\n# 第一行，把/usr/bin/python修改为/usr/bin/python2.7 或者python2（2.7的链接）\nvim /usr/libexec/urlgrabber-ext-down\n# 同上\n验证，收工\npython -V\nyum\nrm -f /usr/bin/python.bk\nrm -f /usr/bin/pip.bk\n最后\n如果帮到了你，别忘了点赞哟\n\n                ", "mainLikeNum": ["0 "], "mainBookmarkNum": "1"}