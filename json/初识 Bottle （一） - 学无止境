{"title": "初识 Bottle （一） - 学无止境 ", "index": "bottle,python", "content": "1. 安装\n\nbottle是一个轻量型的不依赖于任何第三方库的web框架，整个框架只有bottle.py一个文件。\n\nwget http://bottlepy.org/bottle.py\n2. 向bottle 打声招呼吧\n新建一个文件hello.py\n# coding:utf-8\nfrom bottle import route, run\n\n@route('/hello')\ndef hello():\n    return \"hello world\"\n\nrun(host=\"localhost\", port=8080, debug=True)\n在浏览器或者postman， GET 127.0.0.1:8080/hello， 得到结果\n当使用route装饰器绑定路由时，实际是使用了Bottle的默认应用，即是Bottle的一个实例。为了方便后续使用默认应用时采用route函数表示\nfrom bottle import Bottle, run\n\napp = Bottle()\n\n@app.route('/hello')\ndef hello():\n    return \"Hello World!\"\n\nrun(app, host='localhost', port=8080)\n3. 路由\nroute() 函数连接url和响应函数，同时可以给默认应用添加新的路由\n@route('/')\n@route('/hello/<name>')\ndef greet(name='Stranger'):\n    return template('Hello {{name}}, how are you?', name=name)\n\nrun(host=\"localhost\", port=8080, debug=True)\n试一下GET 127.0.0.1:8080/hello/hhGET 127.0.0.1:8080/将url中的关键字作为参数传入给响应函数获取响应结果\n对于url中的关键字，可以进行属性的限制筛选匹配\n@route('/object/<id:int>')\ndef callback(id):\n    if isinstance(id, int):\n        return \"T\"\nGET 127.0.0.1:8080/object/1GET 127.0.0.1:8080/object/ss后者将会出现404同样，可以使用float，path，re正则表达式去filter参数，还可以自定义filter 条件，留意后续章节\n4. http 请求方法\n默认的route 将默认使用GET方法， 而POST等其他方法可以通过在route装饰器添加method参数或者直接使用get(), post(), put(), delete() or patch()等装饰器\nfrom bottle import get, post, request, run\n\n@get('/login') # or @route('/login')\ndef login():\n    return '''\n        <form action=\"/login\" method=\"post\">\n            Username: <input name=\"username\" type=\"text\" />\n            Password: <input name=\"password\" type=\"password\" />\n            <input value=\"Login\" type=\"submit\" />\n        </form>\n    '''\n\n@post('/login') # or @route('/login', method='POST')\ndef do_login():\n    username = request.forms.get('username', None)\n    password = request.forms.get('password', None)\n    if username and password:\n        return \"<p>Your login information was correct.</p>\"\n    else:\n        return \"<p>Login failed.</p>\"\n\n\nrun(host=\"localhost\", port=8080, debug=True)\nrequest.forms 会在request data 进一步细说\n\n                ", "mainLikeNum": ["0 "], "mainBookmarkNum": "3"}