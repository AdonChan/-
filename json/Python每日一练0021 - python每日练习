{"title": "Python每日一练0021 - python每日练习 ", "index": "python3.x,python", "content": "问题\n如何像操作文件一样操作str或bytes\n类似于C++中的stringstream\n解决方案\n使用io模块中的StringIO和BytesIO\n调用他们的构造函数得到一个io对象\n>>> import io\n>>> sio = io.StringIO()\n>>> bio = io.BytesIO()\n然后就可以像文件一样进行read、write、seek等等操作\n>>> sio.write('Hello')\n5\n>>> bio.write(b'World')\n5\n>>> sio.seek(0)\n0\n>>> bio.seek(0)\n0\n>>> sio.read()\n'Hello'\n>>> bio.read()\nb'World'\n>>> sio.close()\n>>> bio.close()\n讨论\n当需要模拟一个普通文件而且又不想真正的进行磁盘IO的时候（比如编写单元测试的时候），可以用上这两个类\n但是需要注意的是，StringIO和BytesIO并没有真实的文件描述符\n并且BytesIO是线程安全的，因为BytesIO内部维护了一个锁来保护公共的资源\n而StringIO不是线程安全的\n来源\nPython Cookbook\n关注\n欢迎关注我的微信公众号：python每日一练\n\n\n                ", "mainLikeNum": ["0 "], "mainBookmarkNum": "0"}