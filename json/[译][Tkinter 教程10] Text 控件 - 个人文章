{"title": "[译][Tkinter 教程10] Text 控件 - 个人文章 ", "index": "python,tkinter", "content": "已获原作者授权. 原系列地址: Python Tkinter\n\n简介及简例\nText 控件用来显示多行文本. Tkinter 的 Text 控件很强大, 很灵活, 可以实现很多功能. 虽然这个控件的主要用途是显示多行文本, 但其还可以被用作简单的文本编辑器, 甚至是网页浏览器.Text 控件可以显示网页链接, 图片, HTML页面, 甚至 CSS 样式表.在其他的各种教程中, 很难找到一个关于 Text 控件的简单例子. 这也是我们写这一章教程的主要目的:我们使用构造方法创建了一个 Text 控件, 设置其高度为 2 (不是像素高度, 而是两行字符的高度), 设置其宽度为 30 (不是像素宽度, 是30个字符的宽度), 然后使用 insert() 方法插入两行文本.\nfrom Tkinter import *\n\nroot = Tk()\nT = Text(root, height=2, width=30)\nT.pack()\nT.insert(END, \"Just a text Widget\\nin two lines\\n\")\nmainloop()\n运行后窗口的样子很可爱:\n让我们对上面的例子做一点小小的改动. 我们加入了另一段文字, 哈姆雷特那段著名的开场白:\nfrom Tkinter import *\n\nroot = Tk()\nT = Text(root, height=2, width=30)\nT.pack()\nquote = \"\"\"HAMLET: To be, or not to be--that is the question:\nWhether 'tis nobler in the mind to suffer\nThe slings and arrows of outrageous fortune\nOr to take arms against a sea of troubles\nAnd by opposing end them. To die, to sleep--\nNo more--and by a sleep to say we end\nThe heartache, and the thousand natural shocks\nThat flesh is heir to. 'Tis a consummation\nDevoutly to be wished.\"\"\"\nT.insert(END, quote)\nmainloop()\n运行上面的例子后, 产生的窗口并不好看. 在窗口中我们只能看到这段独白的第一行, 并且还被断为两行. 窗口只显示两行文字, 是因为我们将 Text 控件高度设置为 2 行文字. 文本自动断行, 是因为我们将 Text 控件宽度设置为 30 个字符.\n这个问题的一个解决办法是, 将 Text 控件的高度设置为这段文本的行数, 将 Text 控件的宽度设置为这段文本中最长的那行的字符数.但更好的解决办法是设置滚动, 就像我们常用的浏览器等应用中那样.\n滚动条\n现在让我们来为我们的应用加入一个滚动条. Tkinter 提供了 Scrollbar() 方法来实现这一目的, 其所接受的唯一参数为当前窗口应用的 Tkinter root 对象.\nfrom Tkinter import *\n\nroot = Tk()\nS = Scrollbar(root)\nT = Text(root, height=4, width=50)\nS.pack(side=RIGHT, fill=Y)\nT.pack(side=LEFT, fill=Y)\nS.config(command=T.yview)\nT.config(yscrollcommand=S.set)\nquote = \"\"\"HAMLET: To be, or not to be--that is the question:\nWhether 'tis nobler in the mind to suffer\nThe slings and arrows of outrageous fortune\nOr to take arms against a sea of troubles\nAnd by opposing end them. To die, to sleep--\nNo more--and by a sleep to say we end\nThe heartache, and the thousand natural shocks\nThat flesh is heir to. 'Tis a consummation\nDevoutly to be wished.\"\"\"\nT.insert(END, quote)\nmainloop(  )\n现在这个窗口看起来顺眼多了, 视口中总是显示4行文字, 但所有行都可以通过拖动滚动条看到:\n加入图片\n下面的例子中, 我们在一个 Text 控件中显示了一张图片, 并为另一个单行的 Text 控件绑定了一个点击事件:\nfrom Tkinter import *\n\nroot = Tk()\n\ntext1 = Text(root, height=20, width=30)\nphoto=PhotoImage(file='./William_Shakespeare.gif')\ntext1.insert(END,'\\n')\ntext1.image_create(END, image=photo)\n\ntext1.pack(side=LEFT)\n\ntext2 = Text(root, height=20, width=50)\nscroll = Scrollbar(root, command=text2.yview)\ntext2.configure(yscrollcommand=scroll.set)\ntext2.tag_configure('bold_italics', font=('Arial', 12, 'bold', 'italic'))\ntext2.tag_configure('big', font=('Verdana', 20, 'bold'))\ntext2.tag_configure('color', foreground='#476042', \n                        font=('Tempus Sans ITC', 12, 'bold'))\ntext2.tag_bind('follow', '<1>', lambda e, t=text2: t.insert(END, \"Not now, maybe later!\"))\ntext2.insert(END,'\\nWilliam Shakespeare\\n', 'big')\nquote = \"\"\"\nTo be, or not to be that is the question:\nWhether 'tis Nobler in the mind to suffer\nThe Slings and Arrows of outrageous Fortune,\nOr to take Arms against a Sea of troubles,\n\"\"\"\ntext2.insert(END, quote, 'color')\ntext2.insert(END, 'follow-up\\n', 'follow')\ntext2.pack(side=LEFT)\nscroll.pack(side=RIGHT, fill=Y)\n\nroot.mainloop()\n\n\n全系列:[译][Tkinter 教程01] 入门: Label 控件[译][Tkinter 教程02] Message 控件[译][Tkinter 教程03] Button 控件[译][Tkinter 教程04] Variable 类[译][Tinkter 教程05] Radiobutton 控件[译][Tkinter 教程06] Checkbox 控件[译][Tkinter 教程07] Entry 控件[译][Tkinter 教程08] Canvas 图形绘制[译][Tkinter 教程09] Scale 控件[译][Tkinter 教程10] Text 控件[译][Tkinter 教程11] 对话框和消息框[译][Tkinter 教程12] 布局管理 (Pack Place Grid)[译][Tkinter 教程13] Mastermind 游戏[译][Tkinter 教程14] menu 菜单[译][Tkinter 教程15] event 事件绑定\n\n译者水平有限, 如有疏漏, 欢迎指正.已获得原作者授权. 原文地址: Text Widget.\n\n                ", "mainLikeNum": ["0 "], "mainBookmarkNum": "0"}