

<!DOCTYPE HTML><html lang="zh-CN"><head><meta charset="UTF-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1"/><meta name="renderer" content="webkit"/><meta property="qc:admins" content="15317273575564615446375"/><meta property="og:image" content="https://static.segmentfault.com/v-5bebf0aa/global/img/touch-icon.png"/><meta name="viewport"
              content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no"/><meta name="alexaVerifyID" content="LkzCRJ7rPEUwt6fVey2vhxiw1vQ"/><meta name="apple-itunes-app" content="app-id=958101793, app-argument="><title>Python入门指引 - 个人文章 - SegmentFault 思否</title><meta name="description" content="Python是比较热的语言，个人兴趣参考官方文档：[链接]边看边翻译了一下（后面会持续更新），有兴趣的可以看看。"/><meta name="keywords" content="python"/><link rel="search" type="application/opensearchdescription+xml" href="/opensearch.xml" title="SegmentFault"/><link rel="shortcut icon" href="https://static.segmentfault.com/v-5bebf0aa/global/img/favicon.ico"/><link rel="apple-touch-icon" href="https://static.segmentfault.com/v-5bebf0aa/global/img/touch-icon.png"><meta name="msapplication-TileColor" content="#009a61"/><meta name="msapplication-square150x150logo" content="https://static.segmentfault.com/v-5bebf0aa/global/img/touch-icon.png"/><meta name="baidu_union_verify" content="bcf7fd80dca60d53d46d5b46e1b990ca"><link rel="alternate" type="application/atom+xml" title="SegmentFault 最新问题" href="/feeds/questions"><link rel="alternate" type="application/atom+xml" title="SegmentFault 最新文章" href="/feeds/blogs"><link rel="stylesheet" href="https://static.segmentfault.com/v-5bebf0aa/global/css/global.css"/><link rel="stylesheet" href="https://static.segmentfault.com/v-5bebf0aa/blog/css/blog.css"/><link rel="stylesheet" href="https://static.segmentfault.com/v-5bebf0aa/global/css/responsive.css"/><script type='text/javascript' src='https://sponsor.segmentfault.com/spcjs.php?id=1&block=1&repu=0&tag=python'></script></head><!-- 推荐引擎 --><script charset="utf-8" id="ParadigmSDK" src="https://nbrecsys.4paradigm.com/sdk/js/ParadigmSDK_v2.js" data="216" defSI="594"></script><script>
    ParadigmSDK.init("46e957bd9dea4acdaa15b4b64aff728f");
    ParadigmSDK.trackDetailPageShow();
</script><body data-mod="blog"
    class="blog-post "><!--[if lt IE 9]><div class="alert alert-danger topframe" role="alert">你的浏览器实在<strong>太太太太太太旧了</strong>，放学别走，升级完浏览器再说 <a target="_blank" class="alert-link" href="http://browsehappy.com">立即升级</a></div><![endif]--><img id="icon4weChat" style="height: 0;width: 0;" src="https://static.segmentfault.com/v-5bebf0aa/global/img/touch-icon-512.png"><div id="gridMapHoverBox" style="position:absolute; border: 1px solid #009a61; z-index:99; font-size: 10px; background:#fff"></div><div class="global-nav sf-header sf-header--index"><div class="bottom-nav visible-xs visible-sm "><div class="opts"><a class="opts-group " href="/"><i class="fa fa-home" aria-hidden="true"></i><span>首页</span></a><a class="opts-group " href="/questions"><i class="fa fa-comments" aria-hidden="true"></i><span>问答</span></a><a class="opts-group active" href="/blogs"><i class="fa fa-pencil-square" aria-hidden="true"></i><span>专栏</span></a><a class="opts-group " href="/lives"><i class="fa fa-play-circle" aria-hidden="true"></i><span>讲堂</span></a><div class="opts-group"><div class="btn-group dropup"><i class="fa fa-bars dropdown hoverDropdown" data-toggle="dropdown" aria-hidden="true"><span>更多</span></i><ul class="dropdown-menu"><li><a href="/jobs">职位</a></li><li><a href="/events">活动</a></li><li><a href="/tags">标签</a></li><li><a href="/badges">徽章</a></li></ul></div></div></div></div><nav class="container nav"><div class="visible-xs visible-sm header-response"><a href="/search" style="display:block"><i class="fa fa-search" aria-hidden="true"></i></a><div class="sf-header__logo sf-header__logo--response"><h1><a href="/" style="height:24px; background-size: auto 24px;"></a></h1></div><a href="/user/login" class="pull-right login-btn"><i class="fa fa-user" aria-hidden="true"></i></a></div><script>
mobileScroll(
    function(direction) { 
        try {
            if (direction === 'down') {
                document.querySelector('.bottom-nav').classList.add('hidden')
            } else {
                document.querySelector('.bottom-nav').classList.remove('hidden')
            }
        } catch(err) {}
    }
);    
function mobileScroll( fn ) {
    var beforeScrollTop = document.documentElement.scrollTop || document.body.scrollTop,
        fn = fn || function() {};
    window.addEventListener("scroll", function() {
        var afterScrollTop = document.documentElement.scrollTop || document.body.scrollTop,
            delta = afterScrollTop - beforeScrollTop;
        if( delta === 0 ) return false;
        fn( delta > 0 ? "down" : "up" );
        beforeScrollTop = afterScrollTop;
    }, false);
}
</script><div class="row hidden-xs hidden-sm"><div class="col-sm-8 col-md-9 col-lg-9"><div class="sf-header__logo"><h1><a href="/">SegmentFault</a></h1></div><div><ul class="menu list-inline pull-left hidden-xs"><li class="menu__item"><a href="/" class="">首页</a></li><li class="menu__item"><a href="/questions" class="">问答</a></li><li class="menu__item"><a href="/blogs" class="active-nav">专栏</a></li><li class="menu__item"><a href="/lives" class="">讲堂</a></li><li class="menu__item menu__item--more dropdown"><a href="##" class="dropdown-toggle dropdownBtn" data-toggle="dropdown">
                                        发现<i class="fa fa-caret-down" style="font-size: 14px;margin-left: 5px;" aria-hidden="true"></i></a><div class="dropdown-block hidden"><ul class="dropdown-content-menu"><li><a href="/groups">圈子</a></li><li><a href="/events">活动</a></li><li><a href="/tags">标签</a></li><li><a href="/jobs">找工作</a></li><li><a href="/users">排行榜</a></li><li><a href="/badges">徽章</a></li><li><a href="/notes">笔记</a></li><li><a href="https://docs.segmentfault.com" target="_blank">开发手册<i style="line-height: 20px;font-size: 12px;color: #F5A623;" class="ml10 fa fa-external-link-square"></i></a></li><li><a href="https://business.segmentfault.com/ads?utm_source=sf-header" target="_blank">广告投放<i style="line-height: 20px;font-size: 12px;color: #F5A623;" class="ml10 fa fa-external-link-square"></i></a></li></ul></div></li><li class="menu__item visible-sm-inline-block"><a href="/search"><span class="glyphicon glyphicon-search" style="vertical-align: middle;"></span></a></li></ul><form action="/search" class="header-search  hidden-sm hidden-xs pull-right" ><button class="btn btn-link"><span class="sr-only">搜索</span><span class="glyphicon glyphicon-search"></span></button><input id="searchBox" name="q" type="text"  placeholder="搜索问题或关键字" class="form-control" value="" /></form></div></div><div class="col-sm-4 col-md-3 col-lg-3 text-right"><ul class="opts list-inline hidden-xs"><li class="opts__item"><a href="/user/login" class="SFRegister btn-signin" style="margin-bottom:2px;">立即登录</a><a href="/user/register" class="SFLogin ml10 btn-signup"
                                       onClick="_gaq.push(['_trackEvent', 'Button', 'Click', 'Login']);">免费注册</a></li></ul></div></div></nav></div>
    
<input id="articleId" value="1190000012938373" class="hidden" />

<div class="wrap" data-blogid="">
    <div class="container mt15" style="position:relative">
        <div class="row">
            <div class="col-xs-12 col-md-9 main ">
                                <ol class="breadcrumb mb15">
                    <li><a href="/blogs">专栏</a></li>
                                        <li class="active">文章详情</li>
                </ol>
                                <div class="post-topheader custom- pt0">
                    <div class="mb20">
                        <div class="block-for-right-border">
                            <div class="row">
                                <div class="col-md-12 col-sm-12 col-xs-12">
                                

                                    <div class="post-topheader__info" data-username="前端疯"
                                         data-userslug="code_digger"
                                         data-useravatar="https://avatar-static.segmentfault.com/257/997/2579979367-5abf83b2718b7_big64">


                                        <div class="article__author clearfix">
                                            <div class="article__authorleft">
                                                <a href="/u/code_digger">
                                                    <img class="avatar-40" src="https://avatar-static.segmentfault.com/257/997/2579979367-5abf83b2718b7_big64" alt="前端疯">
                                                </a>
                                            </div>
                                            <div class="article__authorright">
                                                <div class="article__authormeta">
                                                <a href="/u/code_digger" class="mr5 "><strong>前端疯</strong></a>

                                                                                                <img src="https://static.segmentfault.com/v-5bebf0aa/global/img/rp.svg" class="mr5"><span style="color:#BF7158" class="mr10">68</span>

                                                
                                                
                                                <span class="hidden-xs">
                                                                                                                                                            <button type="button"
                                                                class="btn btn-xs btn-success follow-user"
                                                                data-do="follow"
                                                                data-type="user"
                                                                data-id="1030000000260775">关注作者
                                                        </button>
                                                                                                                                                    </span>
                                                </div>
                                                
                                                <span style="display: block">
                                                    2018-01-22 发布
                                                </span>
                                            </div>
                                        </div>

                                        <h1 class="h1 post-topheader__info--title" id="articleTitle" data-id="1190000012938373">
                                            <a href="/a/1190000012938373"> Python入门指引</a>
                                        </h1>

                                        <div class="content__tech hidden-xs">
                                            <a href="http://docs.python.org/2/tutorial/index.html" class="blog-type-common blog-type-3-before" target="_blank" data-content="
                                                                                        翻译自 docs.python.org/2/tutorial/index.html
                                                                                        "></a>
                                            
                                            <ul class="taglist--inline inline-block article__title--tag mr10">
                                                                                                    <li class="tagPopup mb5">
                                                        <a class="tag" href="/t/python/blogs" data-toggle="popover"
                                                                                data-img="https://avatar-static.segmentfault.com/378/252/3782524817-1040000000089534_big64" data-placement="top"
                                                                                data-original-title="python"
                                                                                data-id="1040000000089534">
                                                                                                                    <img src="https://avatar-static.segmentfault.com/252/177/2521771040-54cb53b372821_small">
                                                                                                                      python
                                                        </a>
                                                    </li>
                                                                                            </ul>

                                            <span>
                                                760 次阅读
                                                &nbsp;&middot;&nbsp;
                                                读完需要 156 分钟 
                                                                            </span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div><!-- end .post-topheader -->

                <div class="visible-lg">
                    <div class="side-widget">
                        <div class="stream__item-zan btn btn-default mt0 mb15 ml0 mr0 pt0 pb0 pl0 pr0 " id="side-widget-votes-btn">
                            <span class="stream__item-zan-icon"></span>
                            <span class="stream__item-zan-number" id="side-widget-votes-num">2</span>
                        </div>

                        <i class="fa fa-bookmark item " id="side-widget-bookmarks-btn"></i>
                        <i class="fa fa-weibo item"></i>
                        <i class="fa fa-weixin item" data-toggle="popover" data-placement="right"></i>
                        <i class="fa fa-twitter item"></i>
                        <i class="fa fa-facebook item"></i>
                        <i class="fa fa-arrow-up item hidden"></i>
                    </div>
                </div>

                
                <div class="article fmt article__content" data-id="1190000012938373" data-license="">
                    
<p>Python是比较热的语言，个人兴趣参考官方文档：<a href="https://docs.python.org/2/tutorial/index.html" rel="nofollow noreferrer">https://docs.python.org/2/tut...</a><br>边看边翻译了一下（后面会持续更新），有兴趣的可以看看。</p>
<p>Python具有高级的数据结构，能高效地面向对象编程。它的优雅的语法、动态类型、解释属性使它能快速地在大部分平台开发应用程序。它的第三方包、工具和库都可以在这里找到：<a href="https://www.python.org/" rel="nofollow noreferrer">https://www.python.org/</a>。</p>
<p>Python很容易通过C/C++函数或数据类型进行扩展。写扩展参看:<a href="https://docs.python.org/2/extending/index.html#extending-index" rel="nofollow noreferrer">扩展指导</a>， <a href="https://docs.python.org/2/c-api/index.html#c-api-index" rel="nofollow noreferrer">C/C++的Python API</a></p>
<p>更多文档参看<a href="https://docs.python.org/2/library/index.html#library-index" rel="nofollow noreferrer">Python标准库</a>，<a href="https://docs.python.org/2/reference/index.html#reference-index" rel="nofollow noreferrer">Python的API</a></p>
<p>通过这个入门教程，你将学习到Pyton的一些常用特性和标准库的一些方法或模块。</p>
<h3>写在前面</h3>
<p>对于每天在电脑面前工作的人来说，可能你需要做一些自动化的工作，比如批量替换，查找更改等，或者你想写一些界面程序，游戏等。</p>
<p>而对于专业的软件开发人员来说，通过C/C++/Java库去开发<br>、测试、编译等又太繁琐了。</p>
<p>这时候，Python是最佳的选择。</p>
<p>你可以写一些shell脚本或者bat脚本去移动文件或者修改数据，但不是很适合写界面程序或者游戏。C/C++/Java又太繁琐了。而Python比较适合快速的在各个平台（windows, Mac, Unix）完成你要的工作。</p>
<p>Python是一门真正的编程语言，它有高级的数据结构，比如可灵活操作的数组和字典。</p>
<p>Python是模块化的，它的标准库里面有你可用的一些模块，这些模块提供了比如文件I/O，sockets等功能。</p>
<p>Python可以写出比C/C++/Java更简洁的程序，原因有三：<br>1 有高级的数据结构<br>2 通过缩进进行区分声明块而不是括号<br>3 不需要变量或者参数声明</p>
<p>Python是可扩展的。你可以把Python解释器嵌入到C程序中。</p>
<h3>使用Python解释器</h3>
<p>运行python解释器</p>
<p>方式1：<br>Python解释器在linux下一般安装在/usr/local/bin/python目录下，切换到该目录下，输入以下命令可以运行python解释器</p>
<pre><code>python</code></pre>
<p>windows下一般安装在C:Python27目录下，win+r快捷键，然后输入一下cmd，打开dos界面，输入以下命令，设置环境变量：</p>
<pre><code>set path=%path%;C:\python27</code></pre>
<p>则任意目录下，输入python命令即可打开python解释器<br>方式2：</p>
<pre><code>python -c command [arg] ..</code></pre>
<p>因为命令行可能有一些特殊字符或者空白，最好用单引号引起来。<br>退出python解释器：<br>Unix下在命令行界面输入快捷键：Control-D, Windows下输入Control-Z。<br>或者输入：</p>
<pre><code>quit()</code></pre>
<p>调用python模块（模块也就是python源文件）：</p>
<pre><code>python -m module [arg] ...</code></pre>
<p>进入交互命令模式：</p>
<pre><code>python -i ...</code></pre>
<p>参数传递</p>
<p>命令行的参数会赋值给sys模块的argv变量。可以通过import sys访问参数。argv的长度至少有1。当没有参数的时候，sys.argv[0]是一个空串。当脚本的名字为"-",则sys.argv[0]是"-",当用了-c命令，则sys.argv[0]的值为"-c"。当用了-m，sys.argv[0]的值为模块的名字。-c和-m后面的参数，python解释器不会处理。</p>
<p>交互模式</p>
<p>多行模式前面是... 单行是&gt;&gt;&gt;</p>
<pre><code>&gt;&gt;&gt; the_world_is_flat = 1
&gt;&gt;&gt; if the_world_is_flat:
...     print "Be careful not to fall off!"
...</code></pre>
<p>解释器和环境</p>
<p>设置代码编码</p>
<p>一般情况是不用设置的 默认为utf-8</p>
<pre><code>#!/usr/bin/env python
# -*- coding: cp-1252 -*-</code></pre>
<p>Python介绍</p>
<p>开头标识注释，&gt;&gt;&gt;和...开头标识python语句</p>
<pre><code>&gt;&gt;&gt;
&gt;&gt;&gt; #这是注释
... a = 1;#这是注释
&gt;&gt;&gt; print a
1</code></pre>
<p>把python当做计算器</p>
<h4>数字</h4>
<pre><code>&gt;&gt;&gt; 2 + 2
4
&gt;&gt;&gt; 50 - 5*6
20
&gt;&gt;&gt; (50 - 5.0*6) / 4
5.0
&gt;&gt;&gt; 8 / 5.0
1.6</code></pre>
<p>这里2是int 5.0是float,/的结果是什么类型是根据参与计算的两个数，如果有一个数是float则返回float类型。<br>//操作符是向下取数，小数位为0。</p>
<pre><code>&gt;&gt;&gt; 12//7.0
1.0
&gt;&gt;&gt;</code></pre>
<p>%是求余<br>**是多次方</p>
<pre><code>&gt;&gt;&gt; 5**2
25
&gt;&gt;&gt;</code></pre>
<p>声明变量n=12<br>如果使用一个未声明的变量会报错</p>
<pre><code>&gt;&gt;&gt; n
Traceback (most recent call last):
  File "&lt;stdin&gt;", line 1, in &lt;module&gt;
NameError: name 'n' is not defined
&gt;&gt;&gt;</code></pre>
<p>多项式计算，会自动进行数据类型的转换：int和float一起计算，int会自动转为float</p>
<p>交互模式下，最后一个打印的变量会赋值给_</p>
<pre><code>&gt;&gt;&gt; tax = 12.5 / 100
&gt;&gt;&gt; price = 100.50
&gt;&gt;&gt; price * tax
12.5625
&gt;&gt;&gt; price + _
113.0625
&gt;&gt;&gt; round(_, 2)
113.06</code></pre>
<p>_是只读的，不能被赋值。</p>
<h4>字符串</h4>
<p>单引号或者双引号里表示字符串，用来转义<br>如果不想要转义：字符串前加一个r</p>
<pre><code>&gt;&gt;&gt; print 'C:\some\name'  # here \n means newline!
C:\some
ame
&gt;&gt;&gt; print r'C:\some\name'  # note the r before the quote
C:\some\name</code></pre>
<p>多行字符串：三个"""或者'''</p>
<pre><code>print """\
Usage: thingy [OPTIONS]
     -h                        Display this usage message
     -H hostname               Hostname to connect to
"""</code></pre>
<p>标识去掉换行，没有输出是这样的：</p>
<pre><code>&gt;&gt;&gt; print """
... aef
... asdf
... """

aef
asdf</code></pre>
<p>字符串拼接：+ 字符串重复:*</p>
<pre><code>&gt;&gt;&gt; "un"*2 +" awef"
'unun awef'
&gt;&gt;&gt;</code></pre>
<p>自动拼接：</p>
<pre><code>&gt;&gt;&gt; 'Py' 'thon'
'Python'</code></pre>
<p>获取字符串的单个字符</p>
<pre><code>&gt;&gt;&gt; a = "python"
&gt;&gt;&gt; a[0]
'p'</code></pre>
<p>负数标识从尾部开始读取: -0等于0 最后一个字符是-1</p>
<pre><code>&gt;&gt;&gt; a = "python"
&gt;&gt;&gt; a[-1]
'n'
&gt;&gt;&gt;</code></pre>
<p>取区间：</p>
<pre><code>&gt;&gt;&gt; a = "python"
&gt;&gt;&gt; a[0:2]
'py'
&gt;&gt;&gt; a[2:]
'thon'
&gt;&gt;&gt; a[:4]
'pyth'
&gt;&gt;&gt; a[-2:]
'on'
&gt;&gt;&gt;</code></pre>
<p>越界访问数组会报错：</p>
<pre><code>&gt;&gt;&gt; word[42]  # the word only has 6 characters
Traceback (most recent call last):
  File "&lt;stdin&gt;", line 1, in &lt;module&gt;
IndexError: string index out of range</code></pre>
<p>但是取不存在的区间不会报错：</p>
<pre><code>&gt;&gt;&gt; a[-2:45]
'on'
&gt;&gt;&gt;</code></pre>
<p>字符串无法被修改：</p>
<pre><code>&gt;&gt;&gt; word[0] = 'J'
  ...
TypeError: 'str' object does not support item assignment
&gt;&gt;&gt; word[2:] = 'py'
  ...
TypeError: 'str' object does not support item assignment
unicode字符串</code></pre>
<p>支持unicode字符串：字符串前加u</p>
<pre><code>&gt;&gt;&gt; u'Hello World !'
u'Hello World !'
&gt;&gt;&gt; u'Hello\u0020World !'
u'Hello World !'</code></pre>
<p>0x0020标识空格<br>支持原始模式： 字符串前面加入ur<br>python的默认编码方式是：ASCII码，如果Unicode字符串被打印或者写到文件或者是str()方法转化都会默认转为ASCII码，如果字符串不在0-127范围就会报错</p>
<pre><code>&gt;&gt;&gt; u"abc"
u'abc'
&gt;&gt;&gt; str(u"abc")
'abc'
&gt;&gt;&gt; u"äöü"
u'\xe4\xf6\xfc'
&gt;&gt;&gt; str(u"äöü")
Traceback (most recent call last):
  File "&lt;stdin&gt;", line 1, in ?
UnicodeEncodeError: 'ascii' codec can't encode characters in position 0-2: ordinal not in range(128)</code></pre>
<p>转换为特定编码：方法的参数为小写</p>
<pre><code>&gt;&gt;&gt; u"äöü".encode('utf-8')
'\xc3\xa4\xc3\xb6\xc3\xbc'</code></pre>
<h3>数组</h3>
<p>定义一个数组</p>
<pre><code>&gt;&gt;&gt; squares = [1, 4, 9, 16, 25]
&gt;&gt;&gt; squares
[1, 4, 9, 16, 25]</code></pre>
<p>获取数组内元素</p>
<pre><code>&gt;&gt;&gt; squares[0]  # indexing returns the item
1
&gt;&gt;&gt; squares[-1]
25
&gt;&gt;&gt; squares[-3:]  # slicing returns a new list 例子三
[9, 16, 25]</code></pre>
<p>获取数组内片段，比如上面例子三，会返回一个新的数组拷贝，原数组不会发生改变<br>数组合并：</p>
<pre><code>&gt;&gt;&gt; squares + [36, 49, 64, 81, 100]
[1, 4, 9, 16, 25, 36, 49, 64, 81, 100]</code></pre>
<p>字符串的内容是不能被更改的，而数组是可以被更改的：</p>
<pre><code>&gt;&gt;&gt; cubes = [1, 8, 27, 65, 125]  # something's wrong here
&gt;&gt;&gt; 4 ** 3  # the cube of 4 is 64, not 65!
64
&gt;&gt;&gt; cubes[3] = 64  # replace the wrong value
&gt;&gt;&gt; cubes
[1, 8, 27, 64, 125]</code></pre>
<p>给数组添加元素：</p>
<pre><code>&gt;&gt;&gt; cubes.append(216)  # add the cube of 6
&gt;&gt;&gt; cubes.append(7 ** 3)  # and the cube of 7
&gt;&gt;&gt; cubes
[1, 8, 27, 64, 125, 216, 343]</code></pre>
<p>可以赋值给截取的数组：</p>
<pre><code>&gt;&gt;&gt; letters = ['a', 'b', 'c', 'd', 'e', 'f', 'g']
&gt;&gt;&gt; letters
['a', 'b', 'c', 'd', 'e', 'f', 'g']
&gt;&gt;&gt; # replace some values
&gt;&gt;&gt; letters[2:5] = ['C', 'D', 'E']
&gt;&gt;&gt; letters
['a', 'b', 'C', 'D', 'E', 'f', 'g']
&gt;&gt;&gt; # now remove them
&gt;&gt;&gt; letters[2:5] = []
&gt;&gt;&gt; letters
['a', 'b', 'f', 'g']
&gt;&gt;&gt; # clear the list by replacing all the elements with an empty list
&gt;&gt;&gt; letters[:] = []
&gt;&gt;&gt; letters
[]</code></pre>
<p>获取数组的长度：</p>
<pre><code>&gt;&gt;&gt; letters = ['a', 'b', 'c', 'd']
&gt;&gt;&gt; len(letters)
4</code></pre>
<p>数组的元素也可以是一个数组：</p>
<pre><code>&gt;&gt;&gt; a = ['a', 'b', 'c']
&gt;&gt;&gt; n = [1, 2, 3]
&gt;&gt;&gt; x = [a, n]
&gt;&gt;&gt; x
[['a', 'b', 'c'], [1, 2, 3]]
&gt;&gt;&gt; x[0]
['a', 'b', 'c']
&gt;&gt;&gt; x[0][1]
'b'</code></pre>
<p>终于开始编程了！</p>
<p>如何实现一个斐波那契:</p>
<pre><code>&gt;&gt;&gt; # 这是一个注释
... a, b = 0, 1  #分别给a赋值为0 b赋值为1 
&gt;&gt;&gt; while b &lt; 10:#这是一个循环
...     print b  #打印b的值（并且这里的代码前面有空格（也就是行缩进））
...     a, b = b, a+b #a赋值为b，b赋值为a+b的和
...
1
1
2
3
5
8</code></pre>
<p>之前说过，行缩进标识接下来是一个代码块。<br>print方法，可以控制格式，比如增加空格：</p>
<pre><code>&gt;&gt;&gt; i = 256*256
&gt;&gt;&gt; print 'The value of i is', i
The value of i is 65536</code></pre>
<p>在print语句最后加一个逗号，避免打印结果换行：</p>
<pre><code>&gt;&gt;&gt; a, b = 0, 1
&gt;&gt;&gt; while b &lt; 1000:
...     print b,
...     a, b = b, a+b
...
1 1 2 3 5 8 13 21 34 55 89 144 233 377 610 987</code></pre>
<p>控制流</p>
<p>if语句</p>
<pre><code>&gt;&gt;&gt; x = int(raw_input("Please enter an integer: "))
Please enter an integer: 42
&gt;&gt;&gt; if x &lt; 0: #冒号可以开启多行模式
...     x = 0
...     print 'Negative changed to zero'
... elif x == 0:
...     print 'Zero'
... elif x == 1:
...     print 'Single'
... else:
...     print 'More'
...</code></pre>
<p>if…elif..else(不是必须的)…</p>
<p>for</p>
<p>Python的for可以遍历数组和字符串（这个和C语言的for语句有略微不同)</p>
<pre><code>&gt;&gt;&gt; # Measure some strings:
... words = ['cat', 'window', 'defenestrate']
&gt;&gt;&gt; for w in words:
...     print w, len(w)
...
cat 3
window 6
defenestrate 12</code></pre>
<p>在循环内修改一个数组：首先通过截取数组的方法对原数组进行拷贝（这个知识点之前有提过）</p>
<pre><code>&gt;&gt;&gt; for w in words[:]:  # words[:]可以对原数组进行拷贝
...     if len(w) &gt; 6:
...         words.insert(0, w)
...
&gt;&gt;&gt; words
['defenestrate', 'cat', 'window', 'defenestrate']
range()函数</code></pre>
<p>range函数能根据算法创建一个数组</p>
<pre><code>&gt;&gt;&gt; range(5, 10) #创建所有元素为5到10区间并递增的数组
[5, 6, 7, 8, 9]
&gt;&gt;&gt; range(0, 10, 3)#递增3
[0, 3, 6, 9]
&gt;&gt;&gt; range(-10, -100, -30)#递减30
[-10, -40, -70]</code></pre>
<p>遍历数组的索引：</p>
<pre><code>&gt;&gt;&gt; a = ['Mary', 'had', 'a', 'little', 'lamb']
&gt;&gt;&gt; for i in range(len(a)):
...     print i, a[i]
...
0 Mary
1 had
2 a
3 little
4 lamb</code></pre>
<p>退出循环</p>
<p>break语句执行会退出里层的for循环;continue会跳过后面语句的执行（和C语言用法一样）。</p>
<pre><code>&gt;&gt;&gt; for n in range(2, 10):
...     for x in range(2, n):
...         if n % x == 0:
...             print n, 'equals', x, '*', n/x
...             break
...     else:
...         # loop fell through without finding a factor
...         print n, 'is a prime number'
...
2 is a prime number
3 is a prime number
4 equals 2 * 2
5 is a prime number
6 equals 2 * 3
7 is a prime number
8 equals 2 * 4
9 equals 3 * 3</code></pre>
<p>pass语句</p>
<p>pass语句不会做任何事，只是用来占位用的</p>
<pre><code>&gt;&gt;&gt; class MyEmptyClass:
...     pass
...
&gt;&gt;&gt; def initlog(*args):
...     pass   # Remember to implement this!
...</code></pre>
<p>定义函数和调用函数</p>
<pre><code>&gt;&gt;&gt; def fib(n):    # def关键字标识定义函数，这里函数名为fib
...     """Print a Fibonacci series up to n.""" #
...     a, b = 0, 1
...     while a &lt; n:
...         print a,
...         a, b = b, a+b
...
&gt;&gt;&gt; # Now call the function we just defined:
... fib(2000)
0 1 1 2 3 5 8 13 21 34 55 89 144 233 377 610 987 1597</code></pre>
<p>注意函数体要代码要缩进<br>函数可以被赋值(fib会被加入符号表)：</p>
<pre><code>&gt;&gt;&gt; fib
&lt;function fib at 10042ed0&gt;
&gt;&gt;&gt; f = fib # f也会被加入符号表
&gt;&gt;&gt; f(100)
0 1 1 2 3 5 8 13 21 34 55 89</code></pre>
<p>即便函数没有return，也会返回一个None</p>
<pre><code>&gt;&gt;&gt; fib(0)
&gt;&gt;&gt; print fib(0)
None</code></pre>
<p>return后面没有跟任何东西也是返回None</p>
<pre><code>&gt;&gt;&gt; def fib2(n):  # return Fibonacci series up to n
...     result = []
...     a, b = 0, 1
...     while a &lt; n:
...         result.append(a)    # 这里是调用数组的append方法
...         a, b = b, a+b
...     return result
...
&gt;&gt;&gt; f100 = fib2(100)    # call it
&gt;&gt;&gt; f100                # write the result
[0, 1, 1, 2, 3, 5, 8, 13, 21, 34, 55, 89]</code></pre>
<p>定义带参数的函数</p>
<p>参数带默认值：retries的默认值为4</p>
<pre><code>def ask_ok(prompt, retries=4, complaint='Yes or no, please!'):
    while True: # True是关键字
        ok = raw_input(prompt) #raw_input是内置的函数，用于IO输入
        if ok in ('y', 'ye', 'yes'):
            return True
        if ok in ('n', 'no', 'nop', 'nope'):
            return False
        retries = retries - 1
        if retries &lt; 0:
            raise IOError('refusenik user') # raise是关键字 抛出异常
        print complaint</code></pre>
<p>默认值可以为变量：i是一个变量</p>
<pre><code>i = 5

def f(arg=i):
    print arg

i = 6
f()</code></pre>
<p>默认参数如果是一个可变的对象，会被赋值多次：</p>
<pre><code>def f(a, L=[]):
    L.append(a)
    return L

print f(1)
print f(2)
print f(3)
会打印出：

[1]
[1, 2]
[1, 2, 3]</code></pre>
<p>如果你不想L被改变，你可以这么做：</p>
<pre><code>def f(a, L=None):
    if L is None:
        L = []
    L.append(a)
    return L</code></pre>
<p>如果只接受一个参数，但是传递了两个参数会报错：</p>
<pre><code>&gt;&gt;&gt; def function(a):
...     pass
...
&gt;&gt;&gt; function(0, a=0)
Traceback (most recent call last):
  File "&lt;stdin&gt;", line 1, in &lt;module&gt;
TypeError: function() got multiple values for keyword argument 'a'
**kewords接收字典参数：

def cheeseshop(kind, *arguments, **keywords):
    print "-- Do you have any", kind, "?"
    print "-- I'm sorry, we're all out of", kind
    for arg in arguments:
        print arg
    print "-" * 40
    keys = sorted(keywords.keys()) #按字典顺序 
    for kw in keys:
        print kw, ":", keywords[kw]</code></pre>
<p>*arg接受不确定个数的参数：</p>
<pre><code>def write_multiple_items(file, separator, *args):
    file.write(separator.join(args))</code></pre>
<p>自动解析参数：</p>
<pre><code>&gt;&gt;&gt; range(3, 6)             # 正常情况调用方式
[3, 4, 5]
&gt;&gt;&gt; args = [3, 6]
&gt;&gt;&gt; range(*args)            # 从一个数组里解析参数
[3, 4, 5]
&gt;&gt;&gt; def parrot(voltage, state='a stiff', action='voom'):
...     print "-- This parrot wouldn't", action,
...     print "if you put", voltage, "volts through it.",
...     print "E's", state, "!"
...
&gt;&gt;&gt; d = {"voltage": "four million", "state": "bleedin' demised", "action": "VOOM"}
&gt;&gt;&gt; parrot(**d)
-- This parrot wouldn't VOOM if you put four million volts through it. E's bleedin' demised !</code></pre>
<p>文档字符串:</p>
<pre><code>&gt;&gt;&gt; def my_function():
...     """Do nothing, but document it.
...
...     No, really, it doesn't do anything.
...     """
...     pass
...
&gt;&gt;&gt; print my_function.__doc__
Do nothing, but document it.

    No, really, it doesn't do anything.</code></pre>
<p>Lambda表达式一个匿名函数，lambda a, b: a+b. a和b是两个参数，结果返回a和b的和：</p>
<pre><code>&gt;&gt;&gt; def make_incrementor(n):
...     return lambda x: x + n
...
&gt;&gt;&gt; f = make_incrementor(42)
&gt;&gt;&gt; f(0)
42
&gt;&gt;&gt; f(1)
43</code></pre>
<p>lambda也可以作为参数传递：</p>
<pre><code>&gt;&gt;&gt; pairs = [(1, 'one'), (2, 'two'), (3, 'three'), (4, 'four')]
&gt;&gt;&gt; pairs.sort(key=lambda pair: pair[1])
&gt;&gt;&gt; pairs
[(4, 'four'), (1, 'one'), (3, 'three'), (2, 'two')]</code></pre>
<h3>编码格式建议</h3>
<p>不用Tab缩进，用4倍空格缩进<br>必要时换行（避免单行超出79个字符）<br>用空格区分函数或者类或者函数内部的一大段代码<br>代码前面加上必要的注释<br>用文档字符串<br>操作符liagn两边或者逗号后面必须空格<br>函数采用lower_case_width_underscore方式命令，类用驼峰(CanekCase)方式命名；总是用self当作类的第一个方法的参数<br>不要用特殊的编码格式（ASCII是兼容所有的）</p>
<h3>数据结构</h3>
<h4>数组</h4>
<p>python数据默认有一些常用方法：比如append, extend, insert等等</p>
<h4>作为堆栈使用</h4>
<pre><code class="javascript">&gt;&gt;&gt; stack = [3, 4, 5]
&gt;&gt;&gt; stack.append(6)
&gt;&gt;&gt; stack.append(7)
&gt;&gt;&gt; stack
[3, 4, 5, 6, 7]
&gt;&gt;&gt; stack.pop()
7
&gt;&gt;&gt; stack
[3, 4, 5, 6]
&gt;&gt;&gt; stack.pop()
6
&gt;&gt;&gt; stack.pop()
5
&gt;&gt;&gt; stack
[3, 4]</code></pre>
<h4>作为队列使用</h4>
<pre><code>&gt;&gt;&gt; from collections import deque
&gt;&gt;&gt; queue = deque(["Eric", "John", "Michael"])
&gt;&gt;&gt; queue.append("Terry")          # Terry arrives
&gt;&gt;&gt; queue.append("Graham")          # Graham arrives
&gt;&gt;&gt; queue.popleft()                # The first to arrive now leaves
'Eric'
&gt;&gt;&gt; queue.popleft()                # The second to arrive now leaves
'John'
&gt;&gt;&gt; queue                          # Remaining queue in order of arrival
deque(['Michael', 'Terry', 'Graham'])</code></pre>
<h4>一些常用的方法</h4>
<p>filter(function, sequence) : 返回function的值为true的所有值</p>
<pre><code>&gt;&gt;&gt; def f(x): return x % 3 == 0 or x % 5 == 0
...
&gt;&gt;&gt; filter(f, range(2, 25))
[3, 5, 6, 9, 10, 12, 15, 18, 20, 21, 24]</code></pre>
<p>map(function, sequence)： 返回处理后的值</p>
<pre><code>&gt;&gt;&gt; def cube(x): return x*x*x
...
&gt;&gt;&gt; map(cube, range(1, 11))
[1, 8, 27, 64, 125, 216, 343, 512, 729, 1000]</code></pre>
<p>传递两个数组： 分别从一个数组里取出一个数 返回相加后的结果</p>
<pre><code>&gt;&gt;&gt; seq = range(8)
&gt;&gt;&gt; def add(x, y): return x+y
...
&gt;&gt;&gt; map(add, seq, seq)
[0, 2, 4, 6, 8, 10, 12, 14]</code></pre>
<p>reduce(function, sequence) ：把数组的第一个和第二个参数想加的和和第三个数再加。。如果数组为空，会返回异常</p>
<pre><code>&gt;&gt;&gt; def add(x,y): return x+y
...
&gt;&gt;&gt; reduce(add, range(1, 11))
55</code></pre>
<p>reduce可以指定开始的第一个数的索引：</p>
<pre><code>&gt;&gt;&gt; def sum(seq):
...    def add(x,y): return x+y
...    return reduce(add, seq, 0)
...
&gt;&gt;&gt; sum(range(1, 11))
55
&gt;&gt;&gt; sum([])
0</code></pre>
<p>创建数组的几种形式：</p>
<pre><code>&gt;&gt;&gt; squares = []
&gt;&gt;&gt; for x in range(10):
...    squares.append(x**2)
...
&gt;&gt;&gt; squares
[0, 1, 4, 9, 16, 25, 36, 49, 64, 81]</code></pre>
<pre><code>squares = [x**2 for x in range(10)]</code></pre>
<pre><code>squares = map(lambda x: x**2, range(10))</code></pre>
<p>更复杂点的例子：x，y作为一个整体 必须加上括号</p>
<pre><code>&gt;&gt;&gt; [(x, y) for x in [1,2,3] for y in [3,1,4] if x != y]
[(1, 3), (1, 4), (2, 3), (2, 1), (2, 4), (3, 1), (3, 4)]</code></pre>
<p>更多例子：</p>
<pre><code>&gt;&gt;&gt; freshfruit = ['  banana', '  loganberry ', 'passion fruit  ']
&gt;&gt;&gt; [weapon.strip() for weapon in freshfruit]
['banana', 'loganberry', 'passion fruit']
&gt;&gt;&gt; [x, x**2 for x in range(6)]
  File "&lt;stdin&gt;", line 1, in &lt;module&gt;
    [x, x**2 for x in range(6)]
              ^
SyntaxError: invalid syntax
&gt;&gt;&gt; # flatten a list using a listcomp with two 'for'
&gt;&gt;&gt; vec = [[1,2,3], [4,5,6], [7,8,9]]
&gt;&gt;&gt; [num for elem in vec for num in elem]
[1, 2, 3, 4, 5, 6, 7, 8, 9]
&gt;&gt;&gt; from math import pi
&gt;&gt;&gt; [str(round(pi, i)) for i in range(1, 6)]
['3.1', '3.14', '3.142', '3.1416', '3.14159']</code></pre>
<h4>二维数组</h4>
<pre><code>&gt;&gt;&gt; matrix = [
...    [1, 2, 3, 4],
...    [5, 6, 7, 8],
...    [9, 10, 11, 12],
... ]</code></pre>
<p>复杂点的例子：</p>
<pre><code>&gt;&gt;&gt; [[row[i] for row in matrix] for i in range(4)]
[[1, 5, 9], [2, 6, 10], [3, 7, 11], [4, 8, 12]]</code></pre>
<p>相当于：</p>
<pre><code>&gt;&gt;&gt; transposed = []
&gt;&gt;&gt; for i in range(4):
...    transposed.append([row[i] for row in matrix])
...
&gt;&gt;&gt; transposed
[[1, 5, 9], [2, 6, 10], [3, 7, 11], [4, 8, 12]]</code></pre>
<p>删除数组内元素：del</p>
<pre><code>&gt;&gt;&gt; a = [-1, 1, 66.25, 333, 333, 1234.5]
&gt;&gt;&gt; del a[0]
&gt;&gt;&gt; a
[1, 66.25, 333, 333, 1234.5]
&gt;&gt;&gt; del a[2:4]
&gt;&gt;&gt; a
[1, 66.25, 1234.5]
&gt;&gt;&gt; del a[:]
&gt;&gt;&gt; a
[]</code></pre>
<p>删除整个数组：</p>
<pre><code>&gt;&gt;&gt; del a</code></pre>
<h4>新类型：元组。</h4>
<p>输入可以加括号，也可以不加。输出都是带括号的。</p>
<pre><code>&gt;&gt;&gt; t = 12345, 54321, 'hello!'  # 输入 没加括号
&gt;&gt;&gt; t[0]
12345
&gt;&gt;&gt; t
(12345, 54321, 'hello!')  # 输出 带括号
&gt;&gt;&gt; # Tuples may be nested:
... u = t, (1, 2, 3, 4, 5)
&gt;&gt;&gt; u
((12345, 54321, 'hello!'), (1, 2, 3, 4, 5))
&gt;&gt;&gt; # 无法被修改
... t[0] = 88888
Traceback (most recent call last):
  File "&lt;stdin&gt;", line 1, in &lt;module&gt;
TypeError: 'tuple' object does not support item assignment
&gt;&gt;&gt; # 内部的元素可以是可变的类型 比如数组等
... v = ([1, 2, 3], [3, 2, 1])
&gt;&gt;&gt; v
([1, 2, 3], [3, 2, 1])</code></pre>
<p>空元组和只有一个元素的元组：</p>
<pre><code>&gt;&gt;&gt; empty = ()
&gt;&gt;&gt; singleton = 'hello',    # &lt;-- note trailing comma
&gt;&gt;&gt; len(empty)
0
&gt;&gt;&gt; len(singleton)
1
&gt;&gt;&gt; singleton
('hello',)</code></pre>
<p>逆序元素：</p>
<pre><code>&gt;&gt;&gt; t = (12345, 54321, 'hello!')
&gt;&gt;&gt; x, y, z = t</code></pre>
<h4>新的类型：集合</h4>
<p>创建空集合：set()</p>
<pre><code>&gt;&gt;&gt; basket = ['apple', 'orange', 'apple', 'pear', 'orange', 'banana']
&gt;&gt;&gt; fruit = set(basket)              # 创建集合
&gt;&gt;&gt; fruit
set(['orange', 'pear', 'apple', 'banana'])
&gt;&gt;&gt; 'orange' in fruit                # 测试是否oranage是否是集合fruit内部
True
&gt;&gt;&gt; 'crabgrass' in fruit
False</code></pre>
<p>集合a, b 之间的交集 并集</p>
<pre><code>&gt;&gt;&gt; a = set('abracadabra')
&gt;&gt;&gt; b = set('alacazam')
&gt;&gt;&gt; a                                  # unique letters in a
set(['a', 'r', 'b', 'c', 'd'])
&gt;&gt;&gt; a - b                              # letters in a but not in b
set(['r', 'd', 'b'])
&gt;&gt;&gt; a | b                              # letters in either a or b
set(['a', 'c', 'r', 'd', 'b', 'm', 'z', 'l'])
&gt;&gt;&gt; a &amp; b                              # letters in both a and b
set(['a', 'c'])
&gt;&gt;&gt; a ^ b                              # letters in a or b but not both
set(['r', 'd', 'b', 'm', 'z', 'l'])</code></pre>
<pre><code>&gt;&gt;&gt; a = {x for x in 'abracadabra' if x not in 'abc'}
&gt;&gt;&gt; a
set(['r', 'd'])</code></pre>
<h4>新的类型：字典</h4>
<p>字典是根据key索引的，而key数据类型可以为数字或者字符串，元组的元素都是不可变的，也可以作为key。数组不能作为key，因为数组可被修改</p>
<pre><code>&gt;&gt;&gt; tel = {'jack': 4098, 'sape': 4139}
&gt;&gt;&gt; tel['guido'] = 4127
&gt;&gt;&gt; tel
{'sape': 4139, 'guido': 4127, 'jack': 4098}
&gt;&gt;&gt; tel['jack']
4098
&gt;&gt;&gt; del tel['sape']
&gt;&gt;&gt; tel['irv'] = 4127
&gt;&gt;&gt; tel
{'guido': 4127, 'irv': 4127, 'jack': 4098}
&gt;&gt;&gt; tel.keys()
['guido', 'irv', 'jack']
&gt;&gt;&gt; 'guido' in tel
True</code></pre>
<p>dict方法直接创建字典：</p>
<pre><code>&gt;&gt;&gt; dict([('sape', 4139), ('guido', 4127), ('jack', 4098)])
{'sape': 4139, 'jack': 4098, 'guido': 4127}</code></pre>
<pre><code>&gt;&gt;&gt; {x: x**2 for x in (2, 4, 6)}
{2: 4, 4: 16, 6: 36}</code></pre>
<pre><code>&gt;&gt;&gt; dict(sape=4139, guido=4127, jack=4098)
{'sape': 4139, 'jack': 4098, 'guido': 4127}</code></pre>
<h4>遍历</h4>
<p>通过enumerate方法</p>
<pre><code>&gt;&gt;&gt; for i, v in enumerate(['tic', 'tac', 'toe']):
...    print i, v
...
0 tic
1 tac
2 toe</code></pre>
<p>一次性遍历多个（这个特性不错。。</p>
<pre><code>&gt;&gt;&gt; questions = ['name', 'quest', 'favorite color']
&gt;&gt;&gt; answers = ['lancelot', 'the holy grail', 'blue']
&gt;&gt;&gt; for q, a in zip(questions, answers):
...    print 'What is your {0}?  It is {1}.'.format(q, a)
...
What is your name?  It is lancelot.
What is your quest?  It is the holy grail.
What is your favorite color?  It is blue</code></pre>
<p>逆序遍历：reversed</p>
<pre><code>&gt;&gt;&gt; for i in reversed(xrange(1,10,2)):
...    print i
...
9
7
5
3
1</code></pre>
<p>对数组排序(sorted方法)，然后遍历：</p>
<pre><code>&gt;&gt;&gt; basket = ['apple', 'orange', 'apple', 'pear', 'orange', 'banana']
&gt;&gt;&gt; for f in sorted(set(basket)):
...    print f
...
apple
banana
orange
pear</code></pre>
<p>遍历字典的时候，获得key和value:</p>
<pre><code>&gt;&gt;&gt; knights = {'gallahad': 'the pure', 'robin': 'the brave'}
&gt;&gt;&gt; for k, v in knights.iteritems():
...    print k, v
...
gallahad the pure
robin the brave</code></pre>
<p>遍历的时候改变一个数组：</p>
<pre><code>&gt;&gt;&gt; import math
&gt;&gt;&gt; raw_data = [56.2, float('NaN'), 51.7, 55.3, 52.5, float('NaN'), 47.8]
&gt;&gt;&gt; filtered_data = []
&gt;&gt;&gt; for value in raw_data:
...    if not math.isnan(value):
...        filtered_data.append(value)
...
&gt;&gt;&gt; filtered_data
[56.2, 51.7, 55.3, 52.5, 47.8]</code></pre>
<h4>更多条件语句</h4>
<p>比较运算符：<br>in和not in判断是否在序列里面； is和is not用来比较两个对象是否是同一个对象；<br>比较可以链式： a &lt; b == c 判断a小于b，并且b等于c<br>布尔操作符：and和or  优先级比比较运算符低   not优先级最高 or最低</p>
<p>布尔运算符，当一个满足条件不会继续下面的计算</p>
<p>比较结果可以被赋值：</p>
<pre><code>&gt;&gt;&gt; string1, string2, string3 = '', 'Trondheim', 'Hammer Dance'
&gt;&gt;&gt; non_null = string1 or string2 or string3
&gt;&gt;&gt; non_null
'Trondheim'</code></pre>
<h3>模块</h3>
<p>退出解释器后，所有声明的函数或者变量都不存在了。所以我们需要创建一个python脚本，可持续地运行。每一个脚本文件称之为一个模块。<br>比如我们创建一个文件:fibo.py</p>
<pre><code># 这是一个模块

def fib(n):    # 定义函数fib
    a, b = 0, 1
    while b &lt; n:
        print b,
        a, b = b, a+b

def fib2(n):  # 定义函数fib2
    result = []
    a, b = 0, 1
    while b &lt; n:
        result.append(b)
        a, b = b, a+b
    return result</code></pre>
<p>在解释器里面导入这个模块：</p>
<pre><code>&gt;&gt;&gt; import fibo</code></pre>
<p>访问模块的函数：</p>
<pre><code>&gt;&gt;&gt; fibo.fib(1000)
1 1 2 3 5 8 13 21 34 55 89 144 233 377 610 987
&gt;&gt;&gt; fibo.fib2(100)
[1, 1, 2, 3, 5, 8, 13, 21, 34, 55, 89]
&gt;&gt;&gt; fibo.__name__
'fibo'</code></pre>
<p>函数赋给一个变量</p>
<pre><code>&gt;&gt;&gt; fib = fibo.fib
&gt;&gt;&gt; fib(500)
1 1 2 3 5 8 13 21 34 55 89 144 233 377</code></pre>
<h3>执行模块脚本</h3>
<p>这样运行一个模块</p>
<pre><code>python fibo.py &lt;arguments&gt;</code></pre>
<p>和导入一个模块，并且把__name__设置为__main__是一样的：相当于把下面的代码放到模块的底部</p>
<pre><code>if __name__ == "__main__":
    import sys
    fib(int(sys.argv[1]))</code></pre>
<p>这样单纯导入是不会运行这个脚本的：</p>
<pre><code>&gt;&gt;&gt; import fibo
&gt;&gt;&gt;</code></pre>
<h3>模块寻找路径</h3>
<p>1 内置模块<br>2 搜索sys.path里面的所有目录</p>
<p>sys.path初始化的内容：<br>当前目录<br>PYTHONPATH （目录路径，它和环境变量的PATH语法一致）<br>Python安装路径</p>
<p>sys.path会被修改，当前目录优先于标准库路径。</p>
<h3>编译后的Python文件</h3>
<p>如果 spam.pyc（编译后的Python文件）和spam.py共存，会优先用编译后的文件。spam.pyc保存的编译时间和spam.py的修改时间不一致，则编译后的文件会被忽略（也就是用spam.py文件）。spam.pyc文件是平台独立的，也就是说能被各个平台共享。</p>
<h3>标准模块</h3>
<p>Python有自己的标准库。为了达到更底层的东西，有些模块已经内置到解析器中。而且有些内置模块依赖于环境，比如winreg模块只在window环境下提供。而一个值得关注的模块是：sys，它被内置到了每个Python解释器中。sys.ps1和sys.ps2表示Python的提示符</p>
<pre><code>&gt;&gt;&gt;import sys
&gt;&gt;&gt;sys.ps1
'&gt;&gt;&gt; '
&gt;&gt;&gt; sys.ps2
'... '
&gt;&gt;&gt; sys.ps1 = 'C&gt; '
C&gt; print 'Yuck!'
Yuck!
C&gt;</code></pre>
<p>sys.path的值是解释器的模块搜索路径。我们可以增加路径：</p>
<pre><code>&gt;&gt;&gt; import sys
&gt;&gt;&gt; sys.path.append('/ufs/guido/lib/python')</code></pre>
<h4>dir()函数</h4>
<p>dir()函数返回一个字符串的数组，它被用来表示一个模块定义了哪些名字</p>
<pre><code>&gt;&gt;&gt; import fibo, sys
&gt;&gt;&gt; dir(fibo)
['__name__', 'fib', 'fib2']
&gt;&gt;&gt; dir(sys)  
['__displayhook__', '__doc__', '__excepthook__', '__name__', '__package__',
'__stderr__', '__stdin__', '__stdout__', '_clear_type_cache',
'_current_frames', '_getframe', '_mercurial', 'api_version', 'argv',
'builtin_module_names', 'byteorder', 'call_tracing', 'callstats',
'copyright', 'displayhook', 'dont_write_bytecode', 'exc_clear', 'exc_info',
'exc_traceback', 'exc_type', 'exc_value', 'excepthook', 'exec_prefix',
'executable', 'exit', 'flags', 'float_info', 'float_repr_style',
'getcheckinterval', 'getdefaultencoding', 'getdlopenflags',
'getfilesystemencoding', 'getobjects', 'getprofile', 'getrecursionlimit',
'getrefcount', 'getsizeof', 'gettotalrefcount', 'gettrace', 'hexversion',
'long_info', 'maxint', 'maxsize', 'maxunicode', 'meta_path', 'modules',
'path', 'path_hooks', 'path_importer_cache', 'platform', 'prefix', 'ps1',
'py3kwarning', 'setcheckinterval', 'setdlopenflags', 'setprofile',
'setrecursionlimit', 'settrace', 'stderr', 'stdin', 'stdout', 'subversion',
'version', 'version_info', 'warnoptions']</code></pre>
<p>不带参数则返回当前你定义的模块函数变量名字</p>
<pre><code>&gt;&gt;&gt; a = [1, 2, 3, 4, 5]
&gt;&gt;&gt; import fibo
&gt;&gt;&gt; fib = fibo.fib
&gt;&gt;&gt; dir()
['__builtins__', '__name__', '__package__', 'a', 'fib', 'fibo', 'sys']</code></pre>
<p>dir()不会返回内置的函数和变量。如果要打印内置的话，需要传递__builtin__</p>
<pre><code>&gt;&gt;&gt; import __builtin__
&gt;&gt;&gt; dir(__builtin__)  
['ArithmeticError', 'AssertionError', 'AttributeError', 'BaseException',
'BufferError', 'BytesWarning', 'DeprecationWarning', 'EOFError',
'Ellipsis', 'EnvironmentError', 'Exception', 'False', 'FloatingPointError',
'FutureWarning', 'GeneratorExit', 'IOError', 'ImportError', 'ImportWarning',
'IndentationError', 'IndexError', 'KeyError', 'KeyboardInterrupt',
'LookupError', 'MemoryError', 'NameError', 'None', 'NotImplemented',
'NotImplementedError', 'OSError', 'OverflowError',
'PendingDeprecationWarning', 'ReferenceError', 'RuntimeError',
'RuntimeWarning', 'StandardError', 'StopIteration', 'SyntaxError',
'SyntaxWarning', 'SystemError', 'SystemExit', 'TabError', 'True',
'TypeError', 'UnboundLocalError', 'UnicodeDecodeError',
'UnicodeEncodeError', 'UnicodeError', 'UnicodeTranslateError',
'UnicodeWarning', 'UserWarning', 'ValueError', 'Warning',
'ZeroDivisionError', '_', '__debug__', '__doc__', '__import__',
'__name__', '__package__', 'abs', 'all', 'any', 'apply', 'basestring',
'bin', 'bool', 'buffer', 'bytearray', 'bytes', 'callable', 'chr',
'classmethod', 'cmp', 'coerce', 'compile', 'complex', 'copyright',
'credits', 'delattr', 'dict', 'dir', 'divmod', 'enumerate', 'eval',
'execfile', 'exit', 'file', 'filter', 'float', 'format', 'frozenset',
'getattr', 'globals', 'hasattr', 'hash', 'help', 'hex', 'id', 'input',
'int', 'intern', 'isinstance', 'issubclass', 'iter', 'len', 'license',
'list', 'locals', 'long', 'map', 'max', 'memoryview', 'min', 'next',
'object', 'oct', 'open', 'ord', 'pow', 'print', 'property', 'quit',
'range', 'raw_input', 'reduce', 'reload', 'repr', 'reversed', 'round',
'set', 'setattr', 'slice', 'sorted', 'staticmethod', 'str', 'sum', 'super',
'tuple', 'type', 'unichr', 'unicode', 'vars', 'xrange', 'zip']</code></pre>
<h4>包</h4>
<p>包是组织Python模块的一种方式，比如A.B 标识包A下有一个子模块B。<br>一个包的结构类似如下：</p>
<pre><code>sound/                          Top-level package
      __init__.py              Initialize the sound package
      formats/                  Subpackage for file format conversions
              __init__.py
              wavread.py
              wavwrite.py
              aiffread.py
              aiffwrite.py
              auread.py
              auwrite.py
              ...
      effects/                  Subpackage for sound effects
              __init__.py
              echo.py
              surround.py
              reverse.py
              ...
      filters/                  Subpackage for filters
              __init__.py
              equalizer.py
              vocoder.py
              karaoke.py
              ...</code></pre>
<p>那么我们怎么导入它:</p>
<pre><code>import sound.effects.echo</code></pre>
<p>然后怎么引用: 必须用全名引用</p>
<pre><code>sound.effects.echo.echofilter(input, output, delay=0.7, atten=4)</code></pre>
<p>另外一种引用的方式是：</p>
<pre><code>from sound.effects import echo</code></pre>
<p>这种方式引入，可以避免全名</p>
<pre><code>echo.echofilter(input, output, delay=0.7, atten=4)</code></pre>
<p>当然，你也可以引入函数或者变量：</p>
<pre><code>from sound.effects.echo import echofilter</code></pre>
<p>直接调用函数：</p>
<pre><code>echofilter(input, output, delay=0.7, atten=4)</code></pre>
<p>注意：以下方式导入，最后一个（subsubitem）必须是包</p>
<pre><code>import item.subitem.subsubitem</code></pre>
<h4>导入包</h4>
<p>在sound/effects/__init__.py 这个里面定义：</p>
<pre><code>__all__ = ["echo", "surround", "reverse"]</code></pre>
<p>那么：通过以下方式会导入上面all指定的模块</p>
<pre><code>from sound.effects import *</code></pre>
<p>如果all没定义，那么import导入的情况是不一定的。</p>
<pre><code>import sound.effects.echo
import sound.effects.surround
from sound.effects import *</code></pre>
<p>比如上面这种写法，会导入echo和surround</p>
<p>不推荐使用*。</p>
<h4>内部包引用</h4>
<p>可以使用相对导入：</p>
<pre><code>from . import echo
from .. import formats
from ..filters import equalizer</code></pre>
<h3>输入和输出</h3>
<h4>输出格式</h4>
<p>输出方法：sys.stdout标准输出， print write()方法等<br>格式输出: str.format()<br>转为字符串用repr()和str()函数 ：</p>
<pre><code>&gt;&gt;&gt; s = 'Hello, world.'
&gt;&gt;&gt; str(s)
'Hello, world.'
&gt;&gt;&gt; repr(s)
"'Hello, world.'"
&gt;&gt;&gt; str(1.0/7.0)
'0.142857142857'
&gt;&gt;&gt; repr(1.0/7.0)
'0.14285714285714285'
&gt;&gt;&gt; x = 10 * 3.25
&gt;&gt;&gt; y = 200 * 200
&gt;&gt;&gt; s = 'The value of x is ' + repr(x) + ', and y is ' + repr(y) + '...'
&gt;&gt;&gt; print s
The value of x is 32.5, and y is 40000...
&gt;&gt;&gt; # The repr() of a string adds string quotes and backslashes:
... hello = 'hello, world\n'
&gt;&gt;&gt; hellos = repr(hello)
&gt;&gt;&gt; print hellos
'hello, world\n'
&gt;&gt;&gt; # The argument to repr() may be any Python object:
... repr((x, y, ('spam', 'eggs')))
"(32.5, 40000, ('spam', 'eggs'))"</code></pre>
<p>打印表格形式：</p>
<pre><code>&gt;&gt;&gt; for x in range(1, 11):
...    print repr(x).rjust(2), repr(x*x).rjust(3),
...    # Note trailing comma on previous line
...    print repr(x*x*x).rjust(4)
...
1  1    1
2  4    8
3  9  27
4  16  64
5  25  125
6  36  216
7  49  343
8  64  512
9  81  729
10 100 1000

&gt;&gt;&gt; for x in range(1,11):
...    print '{0:2d} {1:3d} {2:4d}'.format(x, x*x, x*x*x)
...
1  1    1
2  4    8
3  9  27
4  16  64
5  25  125
6  36  216
7  49  343
8  64  512
9  81  729
10 100 1000</code></pre>
<p>str.rjust() 对字符串右对齐<br>str.zfill() 字符串保证位数</p>
<pre><code>&gt;&gt;&gt; '12'.zfill(5)
'00012'
&gt;&gt;&gt; '-3.14'.zfill(7)
'-003.14'
&gt;&gt;&gt; '3.14159265359'.zfill(5)
'3.14159265359'</code></pre>
<p>str.format()的基本使用：</p>
<pre><code>&gt;&gt;&gt; print 'We are the {} who say "{}!"'.format('knights', 'Ni')
We are the knights who say "Ni!"</code></pre>
<p>交换位置：</p>
<pre><code>&gt;&gt;&gt; print '{0} and {1}'.format('spam', 'eggs')
spam and eggs
&gt;&gt;&gt; print '{1} and {0}'.format('spam', 'eggs')
eggs and spam</code></pre>
<p>通过key访问：</p>
<pre><code>&gt;&gt;&gt; print 'This {food} is {adjective}.'.format(
...      food='spam', adjective='absolutely horrible')
This spam is absolutely horrible.</code></pre>
<p>混合使用：</p>
<pre><code>&gt;&gt;&gt; print 'The story of {0}, {1}, and {other}.'.format('Bill', 'Manfred',
...                                                    other='Georg')
The story of Bill, Manfred, and Georg.</code></pre>
<p>'!s' (调用str()) and '!r' (调用repr()) 打印前进行格式转换：</p>
<pre><code>&gt;&gt;&gt; import math
&gt;&gt;&gt; print 'The value of PI is approximately {}.'.format(math.pi)
The value of PI is approximately 3.14159265359.
&gt;&gt;&gt; print 'The value of PI is approximately {!r}.'.format(math.pi)
The value of PI is approximately 3.141592653589793.</code></pre>
<p>':' 可控制小数点：</p>
<pre><code>&gt;&gt;&gt; import math
&gt;&gt;&gt; print 'The value of PI is approximately {0:.3f}.'.format(math.pi)
The value of PI is approximately 3.142.</code></pre>
<p>控制表格：</p>
<pre><code>&gt;&gt;&gt; table = {'Sjoerd': 4127, 'Jack': 4098, 'Dcab': 7678}
&gt;&gt;&gt; for name, phone in table.items():
...    print '{0:10} ==&gt; {1:10d}'.format(name, phone)
...
Jack      ==&gt;      4098
Dcab      ==&gt;      7678
Sjoerd    ==&gt;      4127</code></pre>
<p>通过[]访问key:</p>
<pre><code>&gt;&gt;&gt; table = {'Sjoerd': 4127, 'Jack': 4098, 'Dcab': 8637678}
&gt;&gt;&gt; print ('Jack: {0[Jack]:d}; Sjoerd: {0[Sjoerd]:d}; '
...        'Dcab: {0[Dcab]:d}'.format(table))
Jack: 4098; Sjoerd: 4127; Dcab: 8637678</code></pre>
<h4>% 操作符也可以格式化(老式的)</h4>
<pre><code>&gt;&gt;&gt; import math
&gt;&gt;&gt; print 'The value of PI is approximately %5.3f.' % math.pi
The value of PI is approximately 3.142.</code></pre>
<h4>读写文件</h4>
<p>open（）打开文件：open(filename, mode)</p>
<pre><code>&gt;&gt;&gt; f = open('workfile', 'w')
&gt;&gt;&gt; print f
&lt;open file 'workfile', mode 'w' at 80a0960</code></pre>
<p>‘b’标识二进制形式，跨平台</p>
<h4>文件对象的方法</h4>
<p>读文件：f.read(size)</p>
<pre><code>&gt;&gt;&gt; f.read()
'This is the entire file.\n'
&gt;&gt;&gt; f.read()
''</code></pre>
<p>带换行：</p>
<pre><code>&gt;&gt;&gt; f.readline()
'This is the first line of the file.\n'
&gt;&gt;&gt; f.readline()
'Second line of the file\n'
&gt;&gt;&gt; f.readline()
''</code></pre>
<p>读取一个文件的所有行：</p>
<pre><code>&gt;&gt; for line in f:
        print line,

This is the first line of the file.
Second line of the file</code></pre>
<p>或者list(f) or f.readlines()<br>字符串写入文件：</p>
<pre><code>&gt;&gt;&gt; f.write('This is a test\n')</code></pre>
<p>将其他类型写入文件需先转为字符串：</p>
<pre><code>&gt;&gt;&gt; value = ('the answer', 42)
&gt;&gt;&gt; s = str(value)
&gt;&gt;&gt; f.write(s)</code></pre>
<p>f.tell() 返回一个整数，表示当前文件的位置（计算字节）。比如：</p>
<pre><code>&gt;&gt;&gt; f = open('workfile', 'r+')
&gt;&gt;&gt; f.write('0123456789abcdef')
&gt;&gt;&gt; f.seek(5)      # 到第6个字节
&gt;&gt;&gt; f.read(1)
'5'
&gt;&gt;&gt; f.seek(-3, 2)  # 倒数（2表示倒数）第三个字节位置
&gt;&gt;&gt; f.read(1)
'd'</code></pre>
<p>释放文件资源：</p>
<pre><code>&gt;&gt;&gt; f.close()
&gt;&gt;&gt; f.read()
Traceback (most recent call last):
  File "&lt;stdin&gt;", line 1, in &lt;module&gt;
ValueError: I/O operation on closed file</code></pre>
<p>最佳实践是带上with：即便有异常抛出也能释放文件资源</p>
<pre><code>&gt;&gt;&gt; with open('workfile', 'r') as f:
...    read_data = f.read()
&gt;&gt;&gt; f.closed
True</code></pre>
<h4>保存JSON数据</h4>
<p>序列化：将json转为字符串 反序列化：将字符串转为json</p>
<pre><code>&gt;&gt;&gt; import json
&gt;&gt;&gt; json.dumps([1, 'simple', 'list'])
'[1, "simple", "list"]'</code></pre>
<p>将对象序列化到一个文件中：f是一个文件对象</p>
<pre><code>json.dump(x, f)</code></pre>
<p>从文件中读取：</p>
<pre><code>x = json.load(f)</code></pre>
<h3>错误和异常</h3>
<h4>语法错误</h4>
<pre><code>&gt;&gt;&gt; while True print 'Hello world'
  File "&lt;stdin&gt;", line 1
    while True print 'Hello world'
                  ^
SyntaxError: invalid syntax</code></pre>
<h4>执行异常</h4>
<pre><code>&gt;&gt;&gt; 10 * (1/0)
Traceback (most recent call last):
  File "&lt;stdin&gt;", line 1, in &lt;module&gt;
ZeroDivisionError: integer division or modulo by zero
&gt;&gt;&gt; 4 + spam*3
Traceback (most recent call last):
  File "&lt;stdin&gt;", line 1, in &lt;module&gt;
NameError: name 'spam' is not defined
&gt;&gt;&gt; '2' + 2
Traceback (most recent call last):
  File "&lt;stdin&gt;", line 1, in &lt;module&gt;
TypeError: cannot concatenate 'str' and 'int' objects</code></pre>
<h4>处理异常</h4>
<pre><code>&gt;&gt;&gt; while True:
...    try:
...        x = int(raw_input("Please enter a number: "))
...        break
...    except ValueError:
...        print "Oops!  That was no valid number.  Try again..."
...</code></pre>
<p>这里只捕获了ValueError，如果捕获更多异常：</p>
<pre><code>... except (RuntimeError, TypeError, NameError):
...    pass</code></pre>
<pre><code>import sys

try:
    f = open('myfile.txt')
    s = f.readline()
    i = int(s.strip())
except IOError as e:
    print "I/O error({0}): {1}".format(e.errno, e.strerror)
except ValueError:
    print "Could not convert data to an integer."
except:
    print "Unexpected error:", sys.exc_info()[0]
    raise</code></pre>
<p>try...except...else..else后面的代码一定会执行</p>
<pre><code>for arg in sys.argv[1:]:
    try:
        f = open(arg, 'r')
    except IOError:
        print 'cannot open', arg
    else:
        print arg, 'has', len(f.readlines()), 'lines'
        f.close()</code></pre>
<p>抛出异常：</p>
<pre><code>&gt;&gt;&gt; try:
...    raise Exception('spam', 'eggs')
... except Exception as inst:
...    print type(inst)    # 异常实例
...    print inst.args      # arguments 存储在.args中
...    print inst          # __str__方法使得能直接打印参数而不需要引用它。
...    x, y = inst.args
...    print 'x =', x
...    print 'y =', y
...
&lt;type 'exceptions.Exception'&gt;
('spam', 'eggs')
('spam', 'eggs')
x = spam</code></pre>
<p>函数内部的异常也能捕获：</p>
<pre><code>&gt;&gt;&gt; def this_fails():
...    x = 1/0
...
&gt;&gt;&gt; try:
...    this_fails()
... except ZeroDivisionError as detail:
...    print 'Handling run-time error:', detail
...
Handling run-time error: integer division or modulo by zero</code></pre>
<h4>抛出异常</h4>
<pre><code>&gt;&gt;&gt; raise NameError('HiThere')
Traceback (most recent call last):
  File "&lt;stdin&gt;", line 1, in &lt;module&gt;
NameError: HiThere</code></pre>
<p>不处理异常，直接将异常抛出：</p>
<pre><code>&gt;&gt;&gt; try:
...    raise NameError('HiThere')
... except NameError:
...    print 'An exception flew by!'
...    raise
...
An exception flew by!
Traceback (most recent call last):
  File "&lt;stdin&gt;", line 2, in &lt;module&gt;
NameError: HiThere</code></pre>
<h4>自定义异常</h4>
<pre><code>&gt;&gt;&gt; class MyError(Exception):
...    def __init__(self, value):
...        self.value = value
...    def __str__(self):
...        return repr(self.value)
...
&gt;&gt;&gt; try:
...    raise MyError(2*2)
... except MyError as e:
...    print 'My exception occurred, value:', e.value
...
My exception occurred, value: 4
&gt;&gt;&gt; raise MyError('oops!')
Traceback (most recent call last):
  File "&lt;stdin&gt;", line 1, in &lt;module&gt;
__main__.MyError: 'oops!'</code></pre>
<p>重写了__init__方法，并且定义了一个value属性。<br>一般定义异常的方式是这样的：</p>
<pre><code>class Error(Exception):
    """Base class for exceptions in this module."""
    pass

class InputError(Error):
    """Exception raised for errors in the input.

    Attributes:
        expr -- input expression in which the error occurred
        msg  -- explanation of the error
    """

    def __init__(self, expr, msg):
        self.expr = expr
        self.msg = msg

class TransitionError(Error):
    """Raised when an operation attempts a state transition that's not
    allowed.

    Attributes:
        prev -- state at beginning of transition
        next -- attempted new state
        msg  -- explanation of why the specific transition is not allowed
    """

    def __init__(self, prev, next, msg):
        self.prev = prev
        self.next = next
        self.msg = msg</code></pre>
<h4>清理工作</h4>
<pre><code>&gt;&gt;&gt; try:
...    raise KeyboardInterrupt
... finally:
...    print 'Goodbye, world!'
...
Goodbye, world!
KeyboardInterrupt
Traceback (most recent call last):
  File "&lt;stdin&gt;", line 2, in &lt;module&gt;</code></pre>
<p>finally总是会被执行，而且如果异常没有被处理的话，在finally里面的代码执行完后会被重新抛出。<br>一个更复杂点的例子：</p>
<pre><code>&gt;&gt;&gt; def divide(x, y):
...    try:
...        result = x / y
...    except ZeroDivisionError:
...        print "division by zero!"
...    else:
...        print "result is", result
...    finally:
...        print "executing finally clause"
...
&gt;&gt;&gt; divide(2, 1)
result is 2
executing finally clause
&gt;&gt;&gt; divide(2, 0)
division by zero!
executing finally clause
&gt;&gt;&gt; divide("2", "1")
executing finally clause
Traceback (most recent call last):
  File "&lt;stdin&gt;", line 1, in &lt;module&gt;
  File "&lt;stdin&gt;", line 3, in divide
TypeError: unsupported operand type(s) for /: 'str' and 'str'</code></pre>
<h4>预清理</h4>
<p>一定要带上with保证文件资源被释放</p>
<pre><code>with open("myfile.txt") as f:
    for line in f:
        print line,</code></pre>
<h3>Python类</h3>
<h4>定义类</h4>
<pre><code>class MyClass:
    """A simple example class"""
    i = 12345

    def f(self):
        return 'hello world'</code></pre>
<h4>引用类的属性和方法</h4>
<p>MyClass.i和 MyClass.f<br>MyClass.__doc_ =&gt; “A simple example class”</p>
<h4>定义init方法，设置默认属性</h4>
<pre><code>def __init__(self):
    self.data = []</code></pre>
<p>传递给类的参数会传递给init:</p>
<pre><code>&gt;&gt;&gt; class Complex:
...    def __init__(self, realpart, imagpart):
...        self.r = realpart
...        self.i = imagpart
...
&gt;&gt;&gt; x = Complex(3.0, -4.5)
&gt;&gt;&gt; x.r, x.i
(3.0, -4.5)</code></pre>
<h4>类共享变量和实例变量</h4>
<pre><code>class Dog:

    kind = 'canine'        # 类共享变量

    def __init__(self, name):
        self.name = name    # 实例变量

&gt;&gt;&gt; d = Dog('Fido')
&gt;&gt;&gt; e = Dog('Buddy')
&gt;&gt;&gt; d.kind                  # shared by all dogs
'canine'
&gt;&gt;&gt; e.kind                  # shared by all dogs
'canine'
&gt;&gt;&gt; d.name                  # unique to d
'Fido'
&gt;&gt;&gt; e.name                  # unique to e
'Buddy'</code></pre>
<h4>注意引用变量避免被所有实例共享</h4>
<pre><code>class Dog:

    tricks = []            # mistaken use of a class variable

    def __init__(self, name):
        self.name = name

    def add_trick(self, trick):
        self.tricks.append(trick)

&gt;&gt;&gt; d = Dog('Fido')
&gt;&gt;&gt; e = Dog('Buddy')
&gt;&gt;&gt; d.add_trick('roll over')
&gt;&gt;&gt; e.add_trick('play dead')
&gt;&gt;&gt; d.tricks                # 这里tricks被所有实例共享了
['roll over', 'play dead']</code></pre>
<p>正确的用法：</p>
<pre><code>class Dog:

    def __init__(self, name):
        self.name = name
        self.tricks = []    # creates a new empty list for each dog

    def add_trick(self, trick):
        self.tricks.append(trick)

&gt;&gt;&gt; d = Dog('Fido')
&gt;&gt;&gt; e = Dog('Buddy')
&gt;&gt;&gt; d.add_trick('roll over')
&gt;&gt;&gt; e.add_trick('play dead')
&gt;&gt;&gt; d.tricks
['roll over']
&gt;&gt;&gt; e.tricks
['play dead']</code></pre>
<h4>函数的定义可以在类外部(不推荐)</h4>
<pre><code># Function defined outside the class
def f1(self, x, y):
    return min(x, x+y)

class C:
    f = f1

    def g(self):
        return 'hello world'

    h = g</code></pre>
<h4>通过self引用函数</h4>
<pre><code>class Bag:
    def __init__(self):
        self.data = []

    def add(self, x):
        self.data.append(x)

    def addtwice(self, x):
        self.add(x)
        self.add(x)</code></pre>
<p>每一个值都是一个对象，它的对象存储在object.__class__</p>
<h3>继承</h3>
<p>语法：</p>
<pre><code>class DerivedClassName(BaseClassName):
    &lt;statement-1&gt;
    .
    .
    .
    &lt;statement-N&gt;</code></pre>
<p>或(moduleName是导入的模块)</p>
<pre><code>class DerivedClassName(moduleName.BaseClassName):</code></pre>
<p>如果引用的属性没有在当前类中找到，会找他的基类。继承的类可以重写基类的方法。<br>有两个内置的函数很有用：<br>判断实例的类型：isinstance(obj, int) 判断是否是继承自int类 ( 如果<br>obj.__class__ 是int或者继承自int类 返回true)<br>issubclass(bool, int)： 判断bool是否是int的子类</p>
<h4>多继承</h4>
<pre><code>class DerivedClassName(Base1, Base2, Base3):
    &lt;statement-1&gt;
    .
    .
    .
    &lt;statement-N&gt;</code></pre>
<h4>私有变量和类内引用</h4>
<p>私有变量一般是以_下划线开头<br>内部调用方法__双下划线开头：</p>
<pre><code>class Mapping:
    def __init__(self, iterable):
        self.items_list = []
        self.__update(iterable)

    def update(self, iterable):
        for item in iterable:
            self.items_list.append(item)

    __update = update  # 拷贝一份update方法

class MappingSubclass(Mapping):

    def update(self, keys, values): # 子类可以重写update方法 并且不会影响到init方法
        for item in zip(keys, values):
            self.items_list.append(item)</code></pre>
<h4>异常也是一个类</h4>
<p>语法：</p>
<pre><code>raise Class, instance
raise instance  （raise instance.__class__, instance的简写）</code></pre>
<p>比如：</p>
<pre><code>class B:
    pass
class C(B):
    pass
class D(C):
    pass

for c in [B, C, D]:
    try:
        raise c()
    except D:
        print "D"
    except C:
        print "C"
    except B:
        print "B"</code></pre>
<h4>遍历</h4>
<p>大部分的对象都可以遍历</p>
<pre><code>for element in [1, 2, 3]:
    print element
for element in (1, 2, 3):
    print element
for key in {'one':1, 'two':2}:
    print key
for char in "123":
    print char
for line in open("myfile.txt"):
    print line,</code></pre>
<p>内部：for语句调用了iter()方法，然后调用next()方法访问下一个元素，如果没有下一个会抛出StopInteration异常</p>
<pre><code>&gt;&gt;&gt; s = 'abc'
&gt;&gt;&gt; it = iter(s)
&gt;&gt;&gt; it
&lt;iterator object at 0x00A1DB50&gt;
&gt;&gt;&gt; it.next()
'a'
&gt;&gt;&gt; it.next()
'b'
&gt;&gt;&gt; it.next()
'c'
&gt;&gt;&gt; it.next()
Traceback (most recent call last):
  File "&lt;stdin&gt;", line 1, in &lt;module&gt;
    it.next()
StopIteration</code></pre>
<p>给类增加遍历器：</p>
<pre><code>class Reverse:
    """Iterator for looping over a sequence backwards."""
    def __init__(self, data):
        self.data = data
        self.index = len(data)

    def __iter__(self):
        return self

    def next(self):
        if self.index == 0:
            raise StopIteration
        self.index = self.index - 1
        return self.data[self.index]</code></pre>
<p>使用：</p>
<pre><code>&gt;&gt;&gt; rev = Reverse('spam')
&gt;&gt;&gt; iter(rev)
&lt;__main__.Reverse object at 0x00A1DB50&gt;
&gt;&gt;&gt; for char in rev:
...    print char
...
m
a
p
s</code></pre>
<h3>标准库相关</h3>
<h4>系统接口</h4>
<pre><code>&gt;&gt;&gt; import os
&gt;&gt;&gt; os.getcwd()      # 返回当前目录
'C:\\Python26'
&gt;&gt;&gt; os.chdir('/server/accesslogs')  # 改变工作目录
&gt;&gt;&gt; os.system('mkdir today')  # 运行shell命令：mkdir
0</code></pre>
<pre><code>&gt;&gt;&gt; import os
&gt;&gt;&gt; dir(os)
&lt;returns a list of all module functions&gt;
&gt;&gt;&gt; help(os)
&lt;returns an extensive manual page created from the module's docstrings&gt;</code></pre>
<p>文件操作：</p>
<pre><code>&gt;&gt;&gt; import shutil
&gt;&gt;&gt; shutil.copyfile('data.db', 'archive.db')
&gt;&gt;&gt; shutil.move('/build/executables', 'installdir')</code></pre>
<h4>文件通配符</h4>
<pre><code>&gt;&gt;&gt; import glob
&gt;&gt;&gt; glob.glob('*.py')
['primes.py', 'random.py', 'quote.py']</code></pre>
<h4>命令行参数</h4>
<p>比如我们跑了这个命令:python demo.py one two three <br>demo.py里面的写法是：</p>
<pre><code>&gt;&gt;&gt; import sys
&gt;&gt;&gt; print sys.argv
['demo.py', 'one', 'two', 'three']</code></pre>
<p>getopt模块和argparse模块提供了更多灵活的方式访问命令行参数</p>
<h4>退出程序和打印错误</h4>
<p>sys.exit()<br>打印错误：</p>
<pre><code>&gt;&gt;&gt; sys.stderr.write('Warning, log file not found starting a new one\n')
Warning, log file not found starting a new one</code></pre>
<h4>字符串匹配</h4>
<pre><code>&gt;&gt;&gt; import re
&gt;&gt;&gt; re.findall(r'\bf[a-z]*', 'which foot or hand fell fastest')
['foot', 'fell', 'fastest']
&gt;&gt;&gt; re.sub(r'(\b[a-z]+) \1', r'\1', 'cat in the the hat')
'cat in the hat'</code></pre>
<pre><code>&gt;&gt;&gt; 'tea for too'.replace('too', 'two')
'tea for two'</code></pre>
<h4>数学</h4>
<pre><code>&gt;&gt;&gt; import math
&gt;&gt;&gt; math.cos(math.pi / 4.0)
0.70710678118654757
&gt;&gt;&gt; math.log(1024, 2)
10.0</code></pre>
<pre><code>&gt;&gt;&gt; import random
&gt;&gt;&gt; random.choice(['apple', 'pear', 'banana'])
'apple'
&gt;&gt;&gt; random.sample(xrange(100), 10)  # sampling without replacement
[30, 83, 16, 4, 8, 81, 41, 50, 18, 33]
&gt;&gt;&gt; random.random()    # random float
0.17970987693706186
&gt;&gt;&gt; random.randrange(6)    # random integer chosen from range(6)
4</code></pre>
<h4>网络访问</h4>
<pre><code>&gt;&gt;&gt; import urllib2
&gt;&gt;&gt; for line in urllib2.urlopen('http://tycho.usno.navy.mil/cgi-bin/timer.pl'):
...    if 'EST' in line or 'EDT' in line:  # look for Eastern Time
...        print line

&lt;BR&gt;Nov. 25, 09:43:32 PM EST

&gt;&gt;&gt; import smtplib
&gt;&gt;&gt; server = smtplib.SMTP('localhost')
&gt;&gt;&gt; server.sendmail('soothsayer@example.org', 'jcaesar@example.org',
... """To: jcaesar@example.org
... From: soothsayer@example.org
...
... Beware the Ides of March.
... """)
&gt;&gt;&gt; server.quit()</code></pre>
<h4>日期</h4>
<pre><code>&gt;&gt;&gt; # dates are easily constructed and formatted
&gt;&gt;&gt; from datetime import date
&gt;&gt;&gt; now = date.today()
&gt;&gt;&gt; now
datetime.date(2003, 12, 2)
&gt;&gt;&gt; now.strftime("%m-%d-%y. %d %b %Y is a %A on the %d day of %B.")
'12-02-03. 02 Dec 2003 is a Tuesday on the 02 day of December.'

&gt;&gt;&gt; # dates support calendar arithmetic
&gt;&gt;&gt; birthday = date(1964, 7, 31)
&gt;&gt;&gt; age = now - birthday
&gt;&gt;&gt; age.days
14368</code></pre>
<h4>数据压缩</h4>
<pre><code>&gt;&gt;&gt; import zlib
&gt;&gt;&gt; s = 'witch which has which witches wrist watch'
&gt;&gt;&gt; len(s)
41
&gt;&gt;&gt; t = zlib.compress(s)
&gt;&gt;&gt; len(t)
37
&gt;&gt;&gt; zlib.decompress(t)
'witch which has which witches wrist watch'
&gt;&gt;&gt; zlib.crc32(s)
226805979</code></pre>
<h4>性能测试</h4>
<pre><code>&gt;&gt;&gt; from timeit import Timer
&gt;&gt;&gt; Timer('t=a; a=b; b=t', 'a=1; b=2').timeit()
0.57535828626024577
&gt;&gt;&gt; Timer('a,b = b,a', 'a=1; b=2').timeit()
0.54962537085770791</code></pre>
<h4>质量控制</h4>
<p>运行文档内的测试代码：</p>
<pre><code>def average(values):
    """Computes the arithmetic mean of a list of numbers.

    &gt;&gt;&gt; print average([20, 30, 70])
    40.0
    """
    return sum(values, 0.0) / len(values)

import doctest
doctest.testmod()  # automatically validate the embedded tests</code></pre>
<p>运行测试集：</p>
<pre><code>import unittest

class TestStatisticalFunctions(unittest.TestCase):

    def test_average(self):
        self.assertEqual(average([20, 30, 70]), 40.0)
        self.assertEqual(round(average([1, 5, 7]), 1), 4.3)
        with self.assertRaises(ZeroDivisionError):
            average([])
        with self.assertRaises(TypeError):
            average(20, 30, 70)

unittest.main()  # Calling from the command line invokes all tests</code></pre>
<h4>格式化输出</h4>
<pre><code>&gt;&gt;&gt; import repr
&gt;&gt;&gt; repr.repr(set('supercalifragilisticexpialidocious'))
"set(['a', 'c', 'd', 'e', 'f', 'g', ...])"</code></pre>
<p>自动换行和格式化：</p>
<pre><code>&gt;&gt;&gt; import pprint
&gt;&gt;&gt; t = [[[['black', 'cyan'], 'white', ['green', 'red']], [['magenta',
...    'yellow'], 'blue']]]
...
&gt;&gt;&gt; pprint.pprint(t, width=30)
[[[['black', 'cyan'],
  'white',
  ['green', 'red']],
  [['magenta', 'yellow'],
  'blue']]]</code></pre>
<p>限制宽度输出：</p>
<pre><code>&gt;&gt;&gt; import textwrap
&gt;&gt;&gt; doc = """The wrap() method is just like fill() except that it returns
... a list of strings instead of one big string with newlines to separate
... the wrapped lines."""
...
&gt;&gt;&gt; print textwrap.fill(doc, width=40)
The wrap() method is just like fill()
except that it returns a list of strings
instead of one big string with newlines
to separate the wrapped lines.</code></pre>
<p>本地化输出：</p>
<pre><code>&gt;&gt;&gt; import locale
&gt;&gt;&gt; locale.setlocale(locale.LC_ALL, 'English_United States.1252')
'English_United States.1252'
&gt;&gt;&gt; conv = locale.localeconv()          # get a mapping of conventions
&gt;&gt;&gt; x = 1234567.8
&gt;&gt;&gt; locale.format("%d", x, grouping=True)
'1,234,567'
&gt;&gt;&gt; locale.format_string("%s%.*f", (conv['currency_symbol'],
...                      conv['frac_digits'], x), grouping=True)
'$1,234,567.80'</code></pre>
<h4>模板</h4>
<pre><code>&gt;&gt;&gt; from string import Template
&gt;&gt;&gt; t = Template('${village}folk send $$10 to $cause.')
&gt;&gt;&gt; t.substitute(village='Nottingham', cause='the ditch fund')
'Nottinghamfolk send $10 to the ditch fund.'</code></pre>
<p>substitute会替换模板的关键字。如果传递的参数不对会报异常，建议用safe_substitute：</p>
<pre><code>&gt;&gt;&gt; t = Template('Return the $item to $owner.')
&gt;&gt;&gt; d = dict(item='unladen swallow')
&gt;&gt;&gt; t.substitute(d)
Traceback (most recent call last):
  ...
KeyError: 'owner'
&gt;&gt;&gt; t.safe_substitute(d)
'Return the unladen swallow to $owner.'</code></pre>
<p>自定义分隔符号：</p>
<pre><code>&gt;&gt;&gt; import time, os.path
&gt;&gt;&gt; photofiles = ['img_1074.jpg', 'img_1076.jpg', 'img_1077.jpg']
&gt;&gt;&gt; class BatchRename(Template):
...    delimiter = '%'
&gt;&gt;&gt; fmt = raw_input('Enter rename style (%d-date %n-seqnum %f-format):  ')
Enter rename style (%d-date %n-seqnum %f-format):  Ashley_%n%f

&gt;&gt;&gt; t = BatchRename(fmt)
&gt;&gt;&gt; date = time.strftime('%d%b%y')
&gt;&gt;&gt; for i, filename in enumerate(photofiles):
...    base, ext = os.path.splitext(filename)
...    newname = t.substitute(d=date, n=i, f=ext)
...    print '{0} --&gt; {1}'.format(filename, newname)

img_1074.jpg --&gt; Ashley_0.jpg
img_1076.jpg --&gt; Ashley_1.jpg
img_1077.jpg --&gt; Ashley_2.jpg</code></pre>
<h4>多线程</h4>
<pre><code>import threading, zipfile

class AsyncZip(threading.Thread):
    def __init__(self, infile, outfile):
        threading.Thread.__init__(self)
        self.infile = infile
        self.outfile = outfile

    def run(self):
        f = zipfile.ZipFile(self.outfile, 'w', zipfile.ZIP_DEFLATED)
        f.write(self.infile)
        f.close()
        print 'Finished background zip of: ', self.infile

background = AsyncZip('mydata.txt', 'myarchive.zip')
background.start()
print 'The main program continues to run in foreground.'

background.join()    # Wait for the background task to finish
print 'Main program waited until background was done.'</code></pre>
<p>建议用单线程，然后Queue模块实现多线程的操作，更加容易试错和设计。</p>
<h4>日志</h4>
<pre><code>import logging
logging.debug('Debugging information')
logging.info('Informational message')
logging.warning('Warning:config file %s not found', 'server.conf')
logging.error('Error occurred')
logging.critical('Critical error -- shutting down')</code></pre>
<h4>弱引用</h4>
<pre><code>&gt;&gt;&gt; import weakref, gc
&gt;&gt;&gt; class A:
...    def __init__(self, value):
...        self.value = value
...    def __repr__(self):
...        return str(self.value)
...
&gt;&gt;&gt; a = A(10)                  # 创建一个引用
&gt;&gt;&gt; d = weakref.WeakValueDictionary()
&gt;&gt;&gt; d['primary'] = a            # 不会创建引用
&gt;&gt;&gt; d['primary']                # 
10
&gt;&gt;&gt; del a                      # 删除
&gt;&gt;&gt; gc.collect()                # 运行垃圾回收
0
&gt;&gt;&gt; d['primary']                # 这个时候访问会报错
Traceback (most recent call last):
  File "&lt;stdin&gt;", line 1, in &lt;module&gt;
    d['primary']                
  File "C:/python26/lib/weakref.py", line 46, in __getitem__
    o = self.data[key]()
KeyError: 'primary'</code></pre>
<h4>Lists相关工具集</h4>
<p>队列：</p>
<pre><code>&gt;&gt;&gt; from collections import deque
&gt;&gt;&gt; d = deque(["task1", "task2", "task3"])
&gt;&gt;&gt; d.append("task4")
&gt;&gt;&gt; print "Handling", d.popleft()
Handling task1</code></pre>
<p>操作排序：已经排序的插入一个元素</p>
<pre><code>&gt;&gt;&gt; import bisect
&gt;&gt;&gt; scores = [(100, 'perl'), (200, 'tcl'), (400, 'lua'), (500, 'python')]
&gt;&gt;&gt; bisect.insort(scores, (300, 'ruby'))
&gt;&gt;&gt; scores
[(100, 'perl'), (200, 'tcl'), (300, 'ruby'), (400, 'lua'), (500, 'python')]</code></pre>
<h4>精确的浮点操作：</h4>
<pre><code>&gt;&gt;&gt; from decimal import *
&gt;&gt;&gt; x = Decimal('0.70') * Decimal('1.05')
&gt;&gt;&gt; x
Decimal('0.7350')
&gt;&gt;&gt; x.quantize(Decimal('0.01'))  # round to nearest cent
Decimal(huanying guanzhu : '0.74')
&gt;&gt;&gt; round(.70 * 1.05, 2)        # same calculation with floats
0.73</code></pre>

                </div>
                                                
                <div class="clearfix mt10">
                    <ul class="article-operation list-inline pull-left mt15"><li><a target="_blank"href="https://creativecommons.org/licenses/by-nc-nd/4.0/"><img class="mb5" src="https://static.segmentfault.com/v-5bebf0aa/global/img/creativecommons-cc.svg" height="20"/></a></li><li class="hidden-xs"><a href="http://docs.python.org/2/tutorial/index.html" target="_blank">阅读原文</a></li><li class="dropdown js__content-ops hidden-xs" data-module="article"
                                data-id="1190000012938373"
                                data-typetext="文章"><a href="javascript:void(0);" class="dropdown-toggle text-muted" data-toggle="dropdown"><i class="fa fa-ellipsis-h" aria-hidden="true"></i></a><ul class="dropdown-menu dropdown-menu-left"><li><a href="#911"
                                           data-toggle="modal"
                                           data-target="#911"
                                           data-action="report"
                                        >举报</a></li></ul></li></ul>
                    <div class="pull-right mt-10 hidden-xs">
                        <div class="widget-share__full" data-text="Python入门指引"
 data-url="https://segmentfault.com/a/1190000012938373" data-shorturl="http://sfau.lt/b52r1B"></div>


                    </div>
                </div>
                <div class="mt10 text-center mb30"><button type="button" id="mainLike" data-id="1190000012938373"
                                    class="btn btn-success btn-lg mr15 "><span id="mainLikeText">赞</span>&nbsp;&nbsp;<span class="seprator">|</span>&nbsp;&nbsp;
                                <span id="mainLikeNum">2 </span></button><button type="button" id="mainBookmark" data-type="article" data-id="1190000012938373"
                                    class="btn btn-default btn-lg "><span id="mainBookmarkText">收藏</span>&nbsp;&nbsp;<span class="seprator">|</span>&nbsp;&nbsp;<span id="mainBookmarkNum">2</span></button></div>                
                                <script type='text/javascript'>
                    OA_show(3);
                </script>

                <h4 class="pt20 mb15 mt0 border-top">你可能感兴趣的</h4>

                
                <div class="mb15 block">
                    <script type='text/javascript'>
                        OA_show(4);
                    </script>
                </div>

                                <div id="paradigm-article-related"></div>

                
        <div class="comments--news comments--default comments--article 
    " 
    data-id="1190000012938373" data-user-id="" data-author-id="1030000000260775 "
         data-is-admin="null" id="goToReplyArea">
                    <div class="mb10 clearfix">
                <strong class="comments-stat pull-left mr10">评论</strong>

                                                    <div class="btn-group btn-group-xs pull-right comments-sort btn-group-menu" role="menu">
                        <a href="javascript:;" 
                           class="btn btn-default active" data-sort="default">默认排序</a>
                        <a href="javascript:;" 
                           class="btn btn-default" data-sort="desc">时间排序</a>
                    </div>
                            </div>
                <div class="comments-container">
                                <div class="comments-list">
            </div>
    <div class="comments-loading hide">载入中...</div>
        <div class="comments-more hide"><a href="javascript:;">显示更多评论</a></div>
    

                                    <div class="comments-box" id="goToReplyEditor">
                <div class="pull-left">
                    <img class="avatar-32 "
                         src="https://static.segmentfault.com/v-5bebf0aa/global/img/user-128.png"
                         alt=""/>
                </div>
                <div class="comments-box-content">
                    <form action="/api/article/1190000012938373/comments/add">
                        <div class="form-group mb0">
                            <textarea name="text" rows="3" class="form-control"placeholder="文明社会，理性评论"></textarea>
                            <div class="mt15 text-right">
                                <button type="button" class="hide"></button>
                                <button class=" btn btn-primary" type="button">发布评论</button>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
                                                        </div>
    </div>


                                    
                
                

            </div><!-- /.main -->


            <div class="col-md-3 side hidden-sm hidden-xs mt30">
                                                
                <div class="mb25 hidden-md hidden-sm hidden-xs">
    <img src="https://static.segmentfault.com/sponsor/20181119.png" alt="Planets" usemap ="#gridsMap" width=255 height=136>
    <map name="gridsMap" id="gridsMap"></map>
    <div style="text-align: center;"><a style="text-align:center; color:#9E9E9E; font-size:12px" href="/sponsor">想在上方展示你的广告？</a></div>
            <script async src="https://static.segmentfault.com/sponsor/20181119.js"></script>
    </div>

                                <style>
                    .job-recommend-area a:not(:last-of-type) {margin-bottom:10px; display: block}
                    .job-recommend-area a:hover {text-decoration: none;}
                </style>
                <div class="hidden-md">
                    <div class="job-recommend">
                      <h3 class="job-title">推广链接</h3>
                      <div class="job-recommend-area">
                                                <script type='text/javascript'>
                            OA_show(7);
                            OA_show(9);
                            OA_show(10);
                            OA_show(15);
                            OA_show(16);
                        </script>
                      </div>
                    </div>
                    <style>
                    .job-recommend {margin-bottom: 30px;}
                    .job-title {
                        font-size: 14px;
                        color: #017E66;
                        font-weight: 500;
                        background: #BFE6D7;
                        margin: 0;
                        padding-top: 6px;
                        padding-bottom: 6px;
                        text-align: center;
                    }
                    .job-recommend-area {
                      padding: 13px;
                      border: 3px solid #EBF7F3;
                      border-top: none;
                    }
                    </style>
                    
                                    </div>

                                
                <div class="hidden-md ad-should-be-fixed">
                    <div class="mb25 block">
                        <script type='text/javascript'>
                            OA_show(1);
                        </script>
                    </div>
                </div>
                <div class="post-nav hidden-xs">
                    <div class="panel panel-default widget-outline">
                        <div class="panel-heading">目录</div>
                        <div class="panel-body">
                            <div class="nav-body" style="overflow:scroll">
                                <div class="highlight-title"></div>
                                <ul class="articleIndex"></ul>
                            </div>
                        </div>
                    </div>
                </div>

                
            </div><!-- /.side -->
        </div>
    </div>
</div>

<div id="shareToWeiboModal" class="modal" tabindex='-1'>
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal">
                    <span aria-hidden="true">×</span><span class="sr-only">Close</span>
                </button>
                <h4 class="modal-title">分享</h4>
            </div>
            <div class="modal-body">
                <p class="sfModal-content">
                    分享到微博？
                </p>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default dont-likeweibo" data-dismiss="modal">取消</button>
                <a href="" id="shareLink" class="btn btn-primary done-btn" target="_blank"
                   onclick="$('#shareToWeiboModal').modal('hide')">分享</a>
            </div>
        </div>
    </div>
</div>


<div class="modal widget-911" id="911" tabindex='-1'>
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button class="close" data-dismiss="modal" type="button">
          <span aria-hidden="true">&times;</span>
          <span class="sr-only">Close</span>
        </button>
        <h4 class="modal-title"><span data-model="action"></span><span data-model="type"></span></h4>
      </div>
      <div class="modal-body">
        <form id="reportForm">
          <!-- 后台返回信息 -->
          <p class="alert alert-warning" data-model="returnMsg"></p>
          <div data-role="base">
            <p>
              <strong class="required">我要<span data-model="action"></span>该<span data-model="type"></span>，理由是：</strong>
            </p>
            <ul class="list-unstyled" data-model="list"></ul>
          </div>
        </form>
      </div>
      <div class="modal-footer">
        <button class="btn btn-default pull-left" type="button" data-role="back" style="display:none">返回重选</button>
                <button class="btn btn-default" data-dismiss="modal" type="button">取消</button>
        <button class="btn btn-primary" data-role="submit" type="button">提交</button>
      </div>
    </div><!-- /.modal-content -->
  </div><!-- /.modal-dialog -->
</div><!-- /.modal -->
<div class="modal widget-seo" id="seo" tabindex='-1'>
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button class="close" data-dismiss="modal" type="button">
                    <span aria-hidden="true">&times;</span>
                    <span class="sr-only">Close</span>
                </button>
                <h4 class="modal-title"><span data-model="action"></span><span data-model="type"></span></h4>
            </div>
            <div class="modal-body">
                <form id="seoForm">
                    <!-- 后台返回信息 -->
                    <p class="alert alert-warning" data-model="returnMsg"></p>
                    <div data-role="base">
                        <div class="form-group">
                            <label>SEO标题：</label><textarea style="min-height: 35px; width: 100%; max-height: 132px; overflow: hidden; overflow-wrap: break-word; height: 32px;" name="title" class="form-control" rows="1" placeholder="请输入SEO标题"></textarea>
                        </div>
                        <div class="form-group">
                            <label>SEO描述：</label><textarea style="min-height: 35px; max-height: 132px; overflow: hidden; overflow-wrap: break-word; height: 32px;" name="desc" class="form-control" rows="1" placeholder="请输入SEO描述"></textarea>
                        </div>
                        <div class="form-group">
                            <label>SEO keywords：</label><textarea style="min-height: 35px; max-height: 132px; overflow: hidden; overflow-wrap: break-word; height: 32px;" name="keywords" class="form-control" rows="1" placeholder="请输入SEO keywords"></textarea>
                        </div>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button class="btn btn-default" data-dismiss="modal" type="button">取消</button>
                <button class="btn btn-primary" data-role="submit" type="button">提交</button>
            </div>
        </div><!-- /.modal-content -->
    </div><!-- /.modal-dialog -->
</div><!-- /.modal -->

    <div id="loginBanner"  class="hidden-sm hidden-xs loginBanner">
    <div class="container">
        <div class="row">
            <div class="col-lg-6 col-md-7">
                <h1 class="title">在 SegmentFault，学习技能、解决问题</h1>
                <p class="desc">每个月，我们帮助 1000 万的开发者解决各种各样的技术问题。并助力他们在技术能力、职业生涯、影响力上获得提升。</p>
            </div>
            <div class="col-lg-3 col-lg-offset-3 col-md-4 col-md-offset-1">
                <form class="register-form clearfix" action="/api/user/phone/register">

                    
                    <a href="/user/register" class="SFLogin btn btn-lg btn-primary mr15">免费注册</a>
                    <a href="/user/login" class="SFRegister btn btn-lg btn-primary">立即登录</a>
                </form>
            </div>
        </div>
    </div>
    </div>






<footer id="footer">
    <div class="container">
        <div class="row hidden-xs">
            <dl class="col-sm-2 site-link">
                <dt>产品</dt>
                
                <dd><a href="/questions/hottest?utm_source=sf-footer&utm_medium=footer-nav&utm_campaign=product&utm_content=footer-links-hottest-questions&utm_term=热门问答">热门问答</a></dd>
                <dd><a href="/blogs/hottest?utm_source=sf-footer&utm_medium=footer-nav&utm_campaign=product&utm_content=footer-links-hottest-questions&utm_term=热门专栏">热门专栏</a></dd>
                <dd><a href="/lives?utm_source=sf-footer&utm_medium=footer-nav&utm_campaign=product&utm_content=footer-links-hottest-questions&utm_term=热门讲堂">热门讲堂</a></dd>
                <dd><a href="/events?utm_source=sf-footer&utm_medium=footer-nav&utm_campaign=product&utm_content=footer-links-hottest-questions&utm_term=最新活动">最新活动</a></dd>
                <dd><a href="/groups?utm_source=sf-footer&utm_medium=footer-nav&utm_campaign=product&utm_content=footer-links-hottest-questions&utm_term=圈子">圈子</a></dd>
                <dd><a href="/jobs?utm_source=sf-footer&utm_medium=footer-nav&utm_campaign=product&utm_content=footer-links-hottest-questions&utm_term=找工作">找工作</a></dd>
                <dd><a href="/app?utm_source=sf-footer&utm_medium=footer-nav&utm_campaign=product&utm_content=footer-links-hottest-questions&utm_term=app">移动客户端</a></dd>
                
            </dl>
            
            <dl class="col-sm-2 site-link">
                <dt>资源</dt>
                <dd><a href="/weekly?utm_source=sf-footer&utm_medium=footer-nav&utm_campaign=resource&utm_content=footer-links-weekly&utm_term=每周精选">每周精选</a></dd>
                <dd><a href="/users?utm_source=sf-footer&utm_medium=footer-nav&utm_campaign=resource&utm_content=footer-links-users&utm_term=用户排行榜">用户排行榜</a></dd>
                <dd><a href="/badges?utm_source=sf-footer&utm_medium=footer-nav&utm_campaign=resource&utm_content=footer-links-badges&utm_term=徽章">徽章</a></dd>
                <dd><a href="/faq?utm_source=sf-footer&utm_medium=footer-nav&utm_campaign=resource&utm_content=footer-links-faq&utm_term=帮助中心">帮助中心</a></dd>
                <dd><a href="/repu?utm_source=sf-footer&utm_medium=footer-nav&utm_campaign=resource&utm_content=footer-links-repu&utm_term=声望与权限">声望与权限</a></dd>
                <dd><a href="/community?utm_source=sf-footer&utm_medium=footer-nav&utm_campaign=resource&utm_content=footer-links-community&utm_term=社区服务中心">社区服务中心</a></dd>
                <dd><a href="https://docs.segmentfault.com?utm_source=sf-footer&utm_medium=footer-nav&utm_campaign=resource&utm_content=footer-links-docs&utm_term=开发手册">开发手册</a></dd>

   
            </dl>

            <dl class="col-sm-2 site-link">
                <dt>商务</dt>
                <dd><a href="https://business.segmentfault.com/services?utm_source=sf-footer&utm_medium=footer-nav&utm_campaign=business&utm_content=footer-links-services-rencai&utm_term=人才服务" target="_blank">人才服务</a></dd>
                <dd><a href="https://business.segmentfault.com/services?utm_source=sf-footer&utm_medium=footer-nav&utm_campaign=business&utm_content=footer-links-services-qiyeneixun&utm_term=企业服务" target="_blank">企业培训</a></dd>
                <dd><a href="https://business.segmentfault.com/services?utm_source=sf-footer&utm_medium=footer-nav&utm_campaign=business&utm_content=footer-links-services-huodongcehua&utm_term=活动策划" target="_blank">活动策划</a></dd>
                <dd><a href="https://business.segmentfault.com/ads?utm_source=sf-footer&utm_medium=footer-nav&utm_campaign=business&utm_content=footer-links-ads&utm_term=广告投放" target="_blank">广告投放</a></dd>
                <dd><a href="https://business.segmentfault.com/bc?utm_source=sf-footer&utm_medium=footer-nav&utm_campaign=business&utm_content=footer-links-bc&utm_term=区块链解决方案" target="_blank">区块链解决方案</a></dd>
                <dd><a href="https://business.segmentfault.com/contact?utm_source=sf-footer&utm_medium=footer-nav&utm_campaign=business&utm_content=footer-links-contact&utm_term=合作联系" target="_blank">合作联系</a></dd>
            </dl>
            
            <dl class="col-sm-2 site-link">
                <dt>关于</dt>
                <dd><a href="https://about.segmentfault.com/?utm_source=sf-footer&utm_medium=footer-nav&utm_campaign=about&utm_content=about-index&utm_term=关于我们">关于我们</a></dd>
                <dd><a href="https://about.segmentfault.com/careers.html?utm_source=sf-footer&utm_medium=footer-nav&utm_campaign=about&utm_content=about-careers&utm_term=加入我们">加入我们</a></dd>
                <dd><a href="https://about.segmentfault.com/contact.html?utm_source=sf-footer&utm_medium=footer-nav&utm_campaign=about&utm_content=about-contact&utm_term=联系我们">联系我们</a></dd>
            </dl>

            <dl class="col-sm-2 site-link">
                <dt>关注</dt>
                                <dd><a href="//segmentfault.com/blog/segmentfault" target="_blank">产品技术日志</a></dd>
                                <dd><a href="//segmentfault.com/blog/community_admin" target="_blank">社区运营日志</a></dd>
                                <dd><a href="//segmentfault.com/blog/segmentfault_news" target="_blank">市场运营日志</a></dd>
                                <dd><a href="//segmentfault.com/blog/segmentfault_team" target="_blank">团队日志</a></dd>
                                <dd><a href="//segmentfault.com/blog/interview" target="_blank">社区访谈</a></dd>
                                <dd>
                    <ul class="sn-inline">
                        <li>
                            <a class="entypo-wechart icon-sn-weixin weixin-popover-qrcode" data-toggle="popover" data-placement="top"  data-content="">微信</a>
                        </li>
                        <li>
                            <a href="http://weibo.com/segmentfault" target="_blank" class="entypo-weibo icon-sn-weibo" >新浪微博</a>
                        </li>
                        <li>
                            <a href="https://github.com/SegmentFault" target="_blank" class="entypo-facebook icon-sn-github">Github</a>
                        </li>
                        <li>
                            <a href="https://twitter.com/segment_fault" target="_blank" class="entypo-twitter icon-sn-twitter">Twitter</a>
                        </li>
                    </ul>
                </dd>
            </dl>

            <dl class="col-sm-2 site-link" id="license">
                <dt>条款</dt>
                <dd><a href="/tos">服务条款</a></dd>
                <dd><a href="https://creativecommons.org/licenses/by-nc-nd/4.0/" target="_blank">内容许可</a></dd>
                <dd>
                    <a href="/app" class="clearfix mt10 block"><img src="https://static.segmentfault.com/v-5bebf0aa/page/img/app/appQrcode.png" class="app-qrcode"></a>
                    <div class="app-download-desc">
                        <p>扫一扫下载 App</p>
                    </div>
                    
                </dd>
            </dl>
        </div>
        <div class="copyright">
            Copyright &copy; 2011-2018 SegmentFault. 当前呈现版本 17.06.16<br>
            <a href="http://www.miibeian.gov.cn/" rel="nofollow">浙ICP备 15005796号-2</a> &nbsp;
            <a target="_blank" href="http://www.beian.gov.cn/portal/registerSystemInfo?recordcode=33010602002000" rel="nofollow">浙公网安备 33010602002000号</a>
            <span class="ml5">杭州堆栈科技有限公司版权所有</span>
            <P class="mt30">CDN 存储服务由 <a target="_blank" href="https://www.upyun.com/?utm_source=segmentfault&utm_medium=link&utm_campaign=upyun&md=segmentfault">又拍云</a> 赞助提供 </p>
        </div>
        <p class="text-center">
            <a class="js__view--selector hidden-sm hidden-md hidden-lg" data-action="mobile" href="javascript:;">移动版</a>
            <a class="js__view--selector hidden-sm hidden-md hidden-lg" data-action="desktop" href="javascript:;">桌面版</a>
        </p>
    </div>
</footer>

<div id="fixedTools" class="hidden-xs hidden-sm">
    <a id="backtop" class="hidden border-bottom" href="#">回顶部</a>
</div>

    <script id="loginModal" type="text/template">
    <div class="row bg-white login-modal">
        <div class="col-md-12 login-wrap">
            <form action="/api/user/login" method="POST" role="form" class="mt15">
                <div class="form-group hidden">
                                        <input type="text" class="form-control" name="remember" value="1"
                           autocomplete="off">
                </div>
                <div class="form-group">
                    <label for="username" class="control-label">手机号 或 Email</label>
                    <input type="text" class="form-control" name="username" tabindex="1" required placeholder="11 位手机号 或 Email"
                           autocomplete="off">
                </div>
                <div class="form-group">
                    <label class="control-label">密码</label><span class="pull-right"><a
                                href="/user/forgot" tabindex="4">忘记密码</a></span>
                    <input type="password" class="form-control" name="password" tabindex="2" required placeholder="请输入密码">
                </div>
                <div class="form-group">
                    <a
                            
                                                    href="/user/phoneLogin"
                            class="phoneLogin"
                                            >手机验证码登录</a>
                </div>
                <div class="form-group clearfix">
                    <button type="submit" class="btn-block btn btn-primary pull-right pl20 pr20" tabindex="3"
                            onclick='ga("send", "event", "email login button", "clicked", "login modal");'>登录
                    </button>
                </div>
            </form>
            <div class="text-muted text-center more-login-area">
    <span class="more-login-words">更多登录方式</span>
</div>
<div class="widget-login mb15 text-center">
    <a href="/user/oauth/google" class=""
       onclick='ga("send", "event", "3rd login button", "clicked", "login modal", {media: "google"});'><span
                class="icon-sn-google"></span></a>
    <a href="/user/oauth/github" class=""
       onclick='ga("send", "event", "3rd login button", "clicked", "login modal", {media: "github"});");'><span
                class="icon-sn-github"></span></a>
    <a href="/user/oauth/weibo" class=""
       onclick='ga("send", "event", "3rd login button", "clicked", "login modal", {media: "weibo"});'><span
                class="icon-sn-weibo"></span></a>
    <a href="/user/oauth/qq" class=""
       onclick='ga("send", "event", "3rd login button", "clicked", "login modal", {media: "qq"});'><span
                class="icon-sn-qq"></span></a>
    <a href="/user/oauth/weixin" class=""
       onclick='ga("send", "event", "3rd login button", "clicked", "login modal", {media: "qq"});'><span
                class="icon-sn-weixin"></span></a>
    <a href="/user/oauth/linkedin" class=""
       onclick='ga("send", "event", "3rd login button", "clicked", "login modal", {media: "linkedin"});'><span
                class="icon-sn-linkedin"></span></a>
    <span id="loginShowMore" style="cursor: pointer" class="mb5"><span class="icon-sn-dotted"></span></span>
    <a href="/user/oauth/twitter" class=" hidden"
       onclick='ga("send", "event", "3rd login button", "clicked", "login modal", {media: "twitter"});'><span
                class="icon-sn-twitter"></span></a>
    <a href="/user/oauth/facebook" class=" hidden"
       onclick='ga("send", "event", "3rd login button", "clicked", "login modal", {media: "facebook"});'><span
                class="icon-sn-facebook"></span></a>
    <a href="/user/oauth/douban" class=" hidden"
       onclick='ga("send", "event", "3rd login button", "clicked", "login modal", {media: "douban"});'><span
                class="icon-sn-douban"></span></a>
</div>
<div class="form-group clearfix">
    <a class="btn-block btn btn-default pull-right pl20 pr20 
                        SFLogin
             "

            
        onclick='ga("send", "event", "email login button", "clicked", "login modal");'>
                    注册新账号
            </a>
</div>
<p class="text-muted text-center mb15">登录即表示你同意网站的<a href="/tos" target="_blank">《服务条款》</a></p>        </div>
    </div>
</script>
    <script id="registerModal" type="text/template">
    <div class="row bg-white login-modal">
        <div class="col-md-12 login-wrap">
            
            <form action="/api/user/register" method="POST" role="form" class="mt15">
                <div class="form-group">
                    <label for="name" class="control-label">你的名字</label>
                    <input type="text" class="form-control" name="name" required placeholder="真实姓名或常用昵称">
                </div>
                
                <div class="form-group">
                    <label for="mail" class="control-label">手机号 或 Email</label>
                    <input type="text" class="form-control" id="login-name" name="mail" required placeholder="11 位手机号 或 Email">
                </div>
                
                <input type="text" class="hidden" name="register_type" value="mail">

                <div class="form-group">
                    <div class="phone-register-only hidden">
                        <div class="captchaInput mb10">
                            <input type="text" class="form-control" name="cap" placeholder="右侧的验证码" style="width:50%; display: inline; margin-right: 15px;">
                            <span class="mt10">
                                <a id="loginReloadCaptcha" href="javascript:void(0)">
                                <img src="/user/captcha?w=135&h=34" class="cap" width="135" height="34"/></a>
                            </span>
                        </div>
                        <div class="input-group">
                            <input name="code" type="text" class="form-control js-user-login__phone-code-value" placeholder="短信验证码">
                            <span class="input-group-btn">
                                <button class="btn btn-default js-user-login__phone-vaild-btn" style="width:96px;" type="button">
                                获取验证码</button>
                            </span>
                        </div>
                    </div>
                </div>

                <div class="form-group">
                    <label for="password" class="control-label">密码</label>
                    <input type="password" class="form-control" name="password" required placeholder="不少于 6 位的密码">
                </div>
                <div class="form-group clearfix">
                    <button type="submit" class="btn-block btn btn-primary pl20 pr20 pull-right"
                            onclick='ga("send", "event", "email register button", "clicked", "login modal");'>注册
                    </button>
                </div>
                                <div class="text-muted text-center more-login-area">
    <span class="more-login-words">更多登录方式</span>
</div>
<div class="widget-login mb15 text-center">
    <a href="/user/oauth/google" class=""
       onclick='ga("send", "event", "3rd login button", "clicked", "login modal", {media: "google"});'><span
                class="icon-sn-google"></span></a>
    <a href="/user/oauth/github" class=""
       onclick='ga("send", "event", "3rd login button", "clicked", "login modal", {media: "github"});");'><span
                class="icon-sn-github"></span></a>
    <a href="/user/oauth/weibo" class=""
       onclick='ga("send", "event", "3rd login button", "clicked", "login modal", {media: "weibo"});'><span
                class="icon-sn-weibo"></span></a>
    <a href="/user/oauth/qq" class=""
       onclick='ga("send", "event", "3rd login button", "clicked", "login modal", {media: "qq"});'><span
                class="icon-sn-qq"></span></a>
    <a href="/user/oauth/weixin" class=""
       onclick='ga("send", "event", "3rd login button", "clicked", "login modal", {media: "qq"});'><span
                class="icon-sn-weixin"></span></a>
    <a href="/user/oauth/linkedin" class=""
       onclick='ga("send", "event", "3rd login button", "clicked", "login modal", {media: "linkedin"});'><span
                class="icon-sn-linkedin"></span></a>
    <span id="loginShowMore" style="cursor: pointer" class="mb5"><span class="icon-sn-dotted"></span></span>
    <a href="/user/oauth/twitter" class=" hidden"
       onclick='ga("send", "event", "3rd login button", "clicked", "login modal", {media: "twitter"});'><span
                class="icon-sn-twitter"></span></a>
    <a href="/user/oauth/facebook" class=" hidden"
       onclick='ga("send", "event", "3rd login button", "clicked", "login modal", {media: "facebook"});'><span
                class="icon-sn-facebook"></span></a>
    <a href="/user/oauth/douban" class=" hidden"
       onclick='ga("send", "event", "3rd login button", "clicked", "login modal", {media: "douban"});'><span
                class="icon-sn-douban"></span></a>
</div>
<div class="form-group clearfix">
    <a class="btn-block btn btn-default pull-right pl20 pr20 
                        SFRegister
             "

            
        onclick='ga("send", "event", "email login button", "clicked", "login modal");'>
                    已有账号登录
            </a>
</div>
<p class="text-muted text-center mb15">登录即表示你同意网站的<a href="/tos" target="_blank">《服务条款》</a></p>            </form>
        </div>
    </div>
</script>
    <script id="phoneLoginModal" type="text/template">

    <div class="row bg-white login-modal phonelogin-modal">
        <div class="col-md-12 login-wrap">
            <form action="/api/user/phonelogin" method="POST" role="form" class="mt15">
                <div class="form-group">
                    <label for="phone" class="control-label required">手机号</label>
                    <input type="text" class="form-control phonelogin--phone" name="phone" tabindex="1" required placeholder="11 位手机号"
                           autocomplete="off">
                    <span class="help-block"></span>
                </div>

                <div class="form-group">
                    <label for="authCode" class="control-label required">验证码</label>
                    <div class="input-group">
                        <input type="text" class="form-control bindphone--code" name="authCode" placeholder="短信验证码">
                        <span class="input-group-btn">
                            <button class="btn btn-default user-bind__phone-vaild-btn" type="button">获取验证码</button>
                        </span>
                    </div>
                    <div class="col-sm-3"></div>
                </div>

                <div class="form-group">
                    <a 
                                                            href="/user/login"
                                class="SFRegister"
                                                >密码登录（手机号或 Email）</a>
                </div>
                <div class="form-group clearfix">
                    <button type="submit" class="btn-block btn btn-primary pull-right pl20 pr20" tabindex="3"
                            onclick='ga("send", "event", "email login button", "clicked", "login modal");'>登录
                    </button>
                </div>
            </form>
            <div class="text-muted text-center more-login-area">
    <span class="more-login-words">更多登录方式</span>
</div>
<div class="widget-login mb15 text-center">
    <a href="/user/oauth/google" class=""
       onclick='ga("send", "event", "3rd login button", "clicked", "login modal", {media: "google"});'><span
                class="icon-sn-google"></span></a>
    <a href="/user/oauth/github" class=""
       onclick='ga("send", "event", "3rd login button", "clicked", "login modal", {media: "github"});");'><span
                class="icon-sn-github"></span></a>
    <a href="/user/oauth/weibo" class=""
       onclick='ga("send", "event", "3rd login button", "clicked", "login modal", {media: "weibo"});'><span
                class="icon-sn-weibo"></span></a>
    <a href="/user/oauth/qq" class=""
       onclick='ga("send", "event", "3rd login button", "clicked", "login modal", {media: "qq"});'><span
                class="icon-sn-qq"></span></a>
    <a href="/user/oauth/weixin" class=""
       onclick='ga("send", "event", "3rd login button", "clicked", "login modal", {media: "qq"});'><span
                class="icon-sn-weixin"></span></a>
    <a href="/user/oauth/linkedin" class=""
       onclick='ga("send", "event", "3rd login button", "clicked", "login modal", {media: "linkedin"});'><span
                class="icon-sn-linkedin"></span></a>
    <span id="loginShowMore" style="cursor: pointer" class="mb5"><span class="icon-sn-dotted"></span></span>
    <a href="/user/oauth/twitter" class=" hidden"
       onclick='ga("send", "event", "3rd login button", "clicked", "login modal", {media: "twitter"});'><span
                class="icon-sn-twitter"></span></a>
    <a href="/user/oauth/facebook" class=" hidden"
       onclick='ga("send", "event", "3rd login button", "clicked", "login modal", {media: "facebook"});'><span
                class="icon-sn-facebook"></span></a>
    <a href="/user/oauth/douban" class=" hidden"
       onclick='ga("send", "event", "3rd login button", "clicked", "login modal", {media: "douban"});'><span
                class="icon-sn-douban"></span></a>
</div>
<div class="form-group clearfix">
    <a class="btn-block btn btn-default pull-right pl20 pr20 
                        SFLogin
             "

            
        onclick='ga("send", "event", "email login button", "clicked", "login modal");'>
                    注册新账号
            </a>
</div>
<p class="text-muted text-center mb15">登录即表示你同意网站的<a href="/tos" target="_blank">《服务条款》</a></p>        </div>
    </div>
</script>
<script id="bindPhoneModal" type="text/template">
    <div class="bg-white bindphone-model">
        <div class="alert alert-warning" role="alert">
            为了保证账号安全，请先绑定手机
        </div>
        <div>
            <form class="form-horizontal form__bindphone-apply" style="background-color:#fff;padding:0;">
                <div class="form-group ">
                    <label for="phoneNumber" class="col-sm-3 control-label required" >手机号码</label>
                    <div class="col-sm-6">
                        <input type="text" class="form-control bindphone--phone" id="phoneNumber" name="phone" placeholder="仅只支持大陆手机号">
                    </div>
                    <div class="col-sm-3"></div>
                </div>
                <div class="form-group">
                    <label for="authCode" class="col-sm-3 control-label required">验证码</label>
                    <div class="col-sm-6">
                        <div class="input-group">
                            <input type="text" class="form-control bindphone--code" name="code" placeholder="短信验证码">
                            <span class="input-group-btn">
                                <button class="btn btn-default user-bind__phone-vaild-btn" type="button">获取验证码</button>
                            </span>
                        </div>
                    </div>
                    <div class="col-sm-3"></div>
                </div>
            </form>
        </div>

    </div>
</script>


<script>
    window.serverTime = 1542604139000;
</script>

<script>
    (function (w) {
        w.SF = {
            staticUrl: "https://static.segmentfault.com/v-5bebf0aa"
        };
        w.SF.token = (function () {
    var _JBebss = '4'//'sS'
+'75f'//'R'
+'96'//'h'
+//'Ns'
'Ns'+'21'//'O'
+/* 'Swg'//'Swg' */''+'04'//'3j'
+'fc'//'l4N'
+//'2M'
'8ea'+/* 'w'//'w' */''+'Kb'//'Kb'
+'gL'//'gL'
+'1'//'M'
+'64'//'U'
+'w'//'w'
+'3ac'//'C1R'
+/* 'W'//'W' */''+'2c0'//'JL'
+//'2'
'b10'+//'fG0'
'4'+'250'//'Un'
+//'p9C'
'b', _RZgiS = [[6,8],[15,17],[15,17],[18,19]];

    for (var i = 0; i < _RZgiS.length; i ++) {
        _JBebss = _JBebss.substring(0, _RZgiS[i][0]) + _JBebss.substring(_RZgiS[i][1]);
    }

    return _JBebss;
})();;
    })(window);

                var lock = {
        type: "",
        text: '',
        table: {"ban_post":[1,"\u4f60\u5df2\u7ecf\u88ab\u7981\u8a00, \u65e0\u6cd5\u8fdb\u884c\u6b64\u64cd\u4f5c, \u5982\u6709\u7591\u4e49\u8bf7\u63d0\u4ea4\u7533\u8bc9, \u6216\u8005\u53d1\u90ae\u4ef6\u5230pr@segmentfault.com"]}
    };

        var ddosMode = false;
    
        (function (currentUrl) {
        if (typeof URL != 'undefined') {
            var baseUrl = new URL('https://segmentfault.com');

            if (baseUrl.protocol != currentUrl.protocol
                || baseUrl.host != currentUrl.host) {
                window.location.href = baseUrl.protocol + '//' + baseUrl.host
                    + currentUrl.pathname + currentUrl.search + currentUrl.hash;
            }
        }
    })(window.location);
    </script>

             <script crossorigin src="https://static.segmentfault.com/v-5bebf0aa/3rd/assets.js"></script>
                 
        <script crossorigin src="https://static.segmentfault.com/v-5bebf0aa/blog/script/post.min.js"></script>
            

<script>
if (!!navigator.userAgent.match(/MicroMessenger/i)) {
    require.config({
        paths: { weixin_jsapi: '//res.wx.qq.com/open/js/jweixin-1.2.0' }
    });

    require(['weixin_jsapi'], function (wx) {
        var share = {"title":"Python\u5165\u95e8\u6307\u5f15","desc":"Python\u662f\u6bd4\u8f83\u70ed\u7684\u8bed\u8a00\uff0c\u4e2a\u4eba\u5174\u8da3\u53c2\u8003\u5b98\u65b9\u6587\u6863\uff1a[\u94fe\u63a5]\u8fb9\u770b\u8fb9\u7ffb\u8bd1\u4e86\u4e00\u4e0b\uff08\u540e\u9762\u4f1a\u6301\u7eed\u66f4\u65b0\uff09\uff0c\u6709\u5174\u8da3\u7684\u53ef\u4ee5\u770b\u770b\u3002","link":"https:\/\/segmentfault.com\/a\/1190000012938373","imgUrl":"https:\/\/avatar-static.segmentfault.com\/257\/997\/2579979367-5abf83b2718b7_huge256"};
        share.title += ' - SegmentFault 思否';

        $.getJSON('/api/util/weixin/jsapi', function (o) {
            methods = o.data.jsApiList.slice();

            wx.config(o.data);
            wx.error(console.error);
            wx.ready(function () {
                methods.forEach(function (method) {
                    wx[method](share);
                });
            });
        });
    });
}
</script>

<script>
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-918487-8']);
    _gaq.push(['_trackPageview']);
    (function (i, s, o, g, r, a, m) {
        i['GoogleAnalyticsObject'] = r;
        i[r] = i[r] || function () {
                    (i[r].q = i[r].q || []).push(arguments)
                }, i[r].l = 1 * new Date();
        a = s.createElement(o),
                m = s.getElementsByTagName(o)[0];
        a.async = 1;
        a.src = g;
        m.parentNode.insertBefore(a, m)
    })(window, document, 'script', '//www.google-analytics.com/analytics.js', 'ga');

                
        

            

    ga('create', 'UA-918487-8', 'auto', {
        'userID'
    : 0,
        'createdTime'
    : 0,
        'now'
    : 1542604140,
        'allowLinker'
    : true });
    ga('require', 'linker');
    ga('linker:autoLink', ['docs.segmentfault.com'] );
    ga('set', 'dimension1', 'guest');
    ga('send', 'pageview');

</script>

<script>
    var _hmt = _hmt || [];
    (function () {
        var hm = document.createElement("script");
        hm.src = "//hm.baidu.com/hm.js?e23800c454aa573c0ccb16b52665ac26";
        var s = document.getElementsByTagName("script")[0];
        s.parentNode.insertBefore(hm, s);
    })();
</script>



</body>
</html>

