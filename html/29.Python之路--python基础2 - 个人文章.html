

<!DOCTYPE HTML><html lang="zh-CN"><head><meta charset="UTF-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1"/><meta name="renderer" content="webkit"/><meta property="qc:admins" content="15317273575564615446375"/><meta property="og:image" content="https://static.segmentfault.com/v-5bebf0aa/global/img/touch-icon.png"/><meta name="viewport"
              content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no"/><meta name="alexaVerifyID" content="LkzCRJ7rPEUwt6fVey2vhxiw1vQ"/><meta name="apple-itunes-app" content="app-id=958101793, app-argument="><title>Python之路--python基础2 - 个人文章 - SegmentFault 思否</title><meta name="description" content="day2内容1、列表、元组操作2、字符串操作3、字典操作4、集合操作5、文件操作6、字符编码与转码7、内置函数"/><meta name="keywords" content="python"/><link rel="search" type="application/opensearchdescription+xml" href="/opensearch.xml" title="SegmentFault"/><link rel="shortcut icon" href="https://static.segmentfault.com/v-5bebf0aa/global/img/favicon.ico"/><link rel="apple-touch-icon" href="https://static.segmentfault.com/v-5bebf0aa/global/img/touch-icon.png"><meta name="msapplication-TileColor" content="#009a61"/><meta name="msapplication-square150x150logo" content="https://static.segmentfault.com/v-5bebf0aa/global/img/touch-icon.png"/><meta name="baidu_union_verify" content="bcf7fd80dca60d53d46d5b46e1b990ca"><link rel="alternate" type="application/atom+xml" title="SegmentFault 最新问题" href="/feeds/questions"><link rel="alternate" type="application/atom+xml" title="SegmentFault 最新文章" href="/feeds/blogs"><link rel="stylesheet" href="https://static.segmentfault.com/v-5bebf0aa/global/css/global.css"/><link rel="stylesheet" href="https://static.segmentfault.com/v-5bebf0aa/blog/css/blog.css"/><link rel="stylesheet" href="https://static.segmentfault.com/v-5bebf0aa/global/css/responsive.css"/><script type='text/javascript' src='https://sponsor.segmentfault.com/spcjs.php?id=1&block=1&repu=0&tag=python'></script></head><!-- 推荐引擎 --><script charset="utf-8" id="ParadigmSDK" src="https://nbrecsys.4paradigm.com/sdk/js/ParadigmSDK_v2.js" data="216" defSI="594"></script><script>
    ParadigmSDK.init("46e957bd9dea4acdaa15b4b64aff728f");
    ParadigmSDK.trackDetailPageShow();
</script><body data-mod="blog"
    class="blog-post "><!--[if lt IE 9]><div class="alert alert-danger topframe" role="alert">你的浏览器实在<strong>太太太太太太旧了</strong>，放学别走，升级完浏览器再说 <a target="_blank" class="alert-link" href="http://browsehappy.com">立即升级</a></div><![endif]--><img id="icon4weChat" style="height: 0;width: 0;" src="https://static.segmentfault.com/v-5bebf0aa/global/img/touch-icon-512.png"><div id="gridMapHoverBox" style="position:absolute; border: 1px solid #009a61; z-index:99; font-size: 10px; background:#fff"></div><div class="global-nav sf-header sf-header--index"><div class="bottom-nav visible-xs visible-sm "><div class="opts"><a class="opts-group " href="/"><i class="fa fa-home" aria-hidden="true"></i><span>首页</span></a><a class="opts-group " href="/questions"><i class="fa fa-comments" aria-hidden="true"></i><span>问答</span></a><a class="opts-group active" href="/blogs"><i class="fa fa-pencil-square" aria-hidden="true"></i><span>专栏</span></a><a class="opts-group " href="/lives"><i class="fa fa-play-circle" aria-hidden="true"></i><span>讲堂</span></a><div class="opts-group"><div class="btn-group dropup"><i class="fa fa-bars dropdown hoverDropdown" data-toggle="dropdown" aria-hidden="true"><span>更多</span></i><ul class="dropdown-menu"><li><a href="/jobs">职位</a></li><li><a href="/events">活动</a></li><li><a href="/tags">标签</a></li><li><a href="/badges">徽章</a></li></ul></div></div></div></div><nav class="container nav"><div class="visible-xs visible-sm header-response"><a href="/search" style="display:block"><i class="fa fa-search" aria-hidden="true"></i></a><div class="sf-header__logo sf-header__logo--response"><h1><a href="/" style="height:24px; background-size: auto 24px;"></a></h1></div><a href="/user/login" class="pull-right login-btn"><i class="fa fa-user" aria-hidden="true"></i></a></div><script>
mobileScroll(
    function(direction) { 
        try {
            if (direction === 'down') {
                document.querySelector('.bottom-nav').classList.add('hidden')
            } else {
                document.querySelector('.bottom-nav').classList.remove('hidden')
            }
        } catch(err) {}
    }
);    
function mobileScroll( fn ) {
    var beforeScrollTop = document.documentElement.scrollTop || document.body.scrollTop,
        fn = fn || function() {};
    window.addEventListener("scroll", function() {
        var afterScrollTop = document.documentElement.scrollTop || document.body.scrollTop,
            delta = afterScrollTop - beforeScrollTop;
        if( delta === 0 ) return false;
        fn( delta > 0 ? "down" : "up" );
        beforeScrollTop = afterScrollTop;
    }, false);
}
</script><div class="row hidden-xs hidden-sm"><div class="col-sm-8 col-md-9 col-lg-9"><div class="sf-header__logo"><h1><a href="/">SegmentFault</a></h1></div><div><ul class="menu list-inline pull-left hidden-xs"><li class="menu__item"><a href="/" class="">首页</a></li><li class="menu__item"><a href="/questions" class="">问答</a></li><li class="menu__item"><a href="/blogs" class="active-nav">专栏</a></li><li class="menu__item"><a href="/lives" class="">讲堂</a></li><li class="menu__item menu__item--more dropdown"><a href="##" class="dropdown-toggle dropdownBtn" data-toggle="dropdown">
                                        发现<i class="fa fa-caret-down" style="font-size: 14px;margin-left: 5px;" aria-hidden="true"></i></a><div class="dropdown-block hidden"><ul class="dropdown-content-menu"><li><a href="/groups">圈子</a></li><li><a href="/events">活动</a></li><li><a href="/tags">标签</a></li><li><a href="/jobs">找工作</a></li><li><a href="/users">排行榜</a></li><li><a href="/badges">徽章</a></li><li><a href="/notes">笔记</a></li><li><a href="https://docs.segmentfault.com" target="_blank">开发手册<i style="line-height: 20px;font-size: 12px;color: #F5A623;" class="ml10 fa fa-external-link-square"></i></a></li><li><a href="https://business.segmentfault.com/ads?utm_source=sf-header" target="_blank">广告投放<i style="line-height: 20px;font-size: 12px;color: #F5A623;" class="ml10 fa fa-external-link-square"></i></a></li></ul></div></li><li class="menu__item visible-sm-inline-block"><a href="/search"><span class="glyphicon glyphicon-search" style="vertical-align: middle;"></span></a></li></ul><form action="/search" class="header-search  hidden-sm hidden-xs pull-right" ><button class="btn btn-link"><span class="sr-only">搜索</span><span class="glyphicon glyphicon-search"></span></button><input id="searchBox" name="q" type="text"  placeholder="搜索问题或关键字" class="form-control" value="" /></form></div></div><div class="col-sm-4 col-md-3 col-lg-3 text-right"><ul class="opts list-inline hidden-xs"><li class="opts__item"><a href="/user/login" class="SFRegister btn-signin" style="margin-bottom:2px;">立即登录</a><a href="/user/register" class="SFLogin ml10 btn-signup"
                                       onClick="_gaq.push(['_trackEvent', 'Button', 'Click', 'Login']);">免费注册</a></li></ul></div></div></nav></div>
    
<input id="articleId" value="1190000016516921" class="hidden" />

<div class="wrap" data-blogid="">
    <div class="container mt15" style="position:relative">
        <div class="row">
            <div class="col-xs-12 col-md-9 main ">
                                <ol class="breadcrumb mb15">
                    <li><a href="/blogs">专栏</a></li>
                                        <li class="active">文章详情</li>
                </ol>
                                <div class="post-topheader custom- pt0">
                    <div class="mb20">
                        <div class="block-for-right-border">
                            <div class="row">
                                <div class="col-md-12 col-sm-12 col-xs-12">
                                

                                    <div class="post-topheader__info" data-username="Dabric"
                                         data-userslug="dabric"
                                         data-useravatar="https://avatar-static.segmentfault.com/328/380/3283800905-5b461ff39e749_big64">


                                        <div class="article__author clearfix">
                                            <div class="article__authorleft">
                                                <a href="/u/dabric">
                                                    <img class="avatar-40" src="https://avatar-static.segmentfault.com/328/380/3283800905-5b461ff39e749_big64" alt="Dabric">
                                                </a>
                                            </div>
                                            <div class="article__authorright">
                                                <div class="article__authormeta">
                                                <a href="/u/dabric" class="mr5 "><strong>Dabric</strong></a>

                                                                                                <img src="https://static.segmentfault.com/v-5bebf0aa/global/img/rp.svg" class="mr5"><span style="color:#BF7158" class="mr10">20</span>

                                                
                                                
                                                <span class="hidden-xs">
                                                                                                                                                            <button type="button"
                                                                class="btn btn-xs btn-success follow-user"
                                                                data-do="follow"
                                                                data-type="user"
                                                                data-id="1030000012207837">关注作者
                                                        </button>
                                                                                                                                                    </span>
                                                </div>
                                                
                                                <span style="display: block">
                                                    2018-09-26 发布
                                                </span>
                                            </div>
                                        </div>

                                        <h1 class="h1 post-topheader__info--title" id="articleTitle" data-id="1190000016516921">
                                            <a href="/a/1190000016516921"> Python之路--python基础2</a>
                                        </h1>

                                        <div class="content__tech hidden-xs">
                                            <a href="" class="blog-type-common blog-type-1-before" target="_blank" data-content="
                                                                                        原创
                                                                                        "></a>
                                            
                                            <ul class="taglist--inline inline-block article__title--tag mr10">
                                                                                                    <li class="tagPopup mb5">
                                                        <a class="tag" href="/t/python/blogs" data-toggle="popover"
                                                                                data-img="https://avatar-static.segmentfault.com/378/252/3782524817-1040000000089534_big64" data-placement="top"
                                                                                data-original-title="python"
                                                                                data-id="1040000000089534">
                                                                                                                    <img src="https://avatar-static.segmentfault.com/252/177/2521771040-54cb53b372821_small">
                                                                                                                      python
                                                        </a>
                                                    </li>
                                                                                            </ul>

                                            <span>
                                                97 次阅读
                                                &nbsp;&middot;&nbsp;
                                                读完需要 75 分钟 
                                                                            </span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div><!-- end .post-topheader -->

                <div class="visible-lg">
                    <div class="side-widget">
                        <div class="stream__item-zan btn btn-default mt0 mb15 ml0 mr0 pt0 pb0 pl0 pr0 " id="side-widget-votes-btn">
                            <span class="stream__item-zan-icon"></span>
                            <span class="stream__item-zan-number" id="side-widget-votes-num">0</span>
                        </div>

                        <i class="fa fa-bookmark item " id="side-widget-bookmarks-btn"></i>
                        <i class="fa fa-weibo item"></i>
                        <i class="fa fa-weixin item" data-toggle="popover" data-placement="right"></i>
                        <i class="fa fa-twitter item"></i>
                        <i class="fa fa-facebook item"></i>
                        <i class="fa fa-arrow-up item hidden"></i>
                    </div>
                </div>

                
                <div class="article fmt article__content" data-id="1190000016516921" data-license="">
                    
<p>day2内容<br>1、列表、元组操作<br>2、字符串操作<br>3、字典操作<br>4、集合操作<br>5、文件操作<br>6、字符编码与转码<br>7、内置函数</p>
<p>在Python中，最基本的数据结构是序列(sequence)。序列中的每个元素被分配一个序号--即元素的位置，也称为索引。第一个索引是0，第二个是1，以此类推。Python包含6中内键的序列：列表、元组、字符串、Unicode字符串、buffer对象和xrange对象。<br>序列都可以进行的操作包括索引、切片、加、乘、检查成员<br>此外，Python已经内置确定序列的长度以及确定最大和最小元素的方法。</p>
<h2>一、列表(list)</h2>
<p>列表是Python中最常用的数据类型之一，通过列表可以对数据实现最方便的存储，修改等操作。</p>
<hr>
<h2>1、列表的基本操作</h2>
<h4>列表的定义</h4>
<pre><code>names = ["dabric","devil","Tom"]</code></pre>
<h4>列表中元素的访问</h4>
<p>通过下标访问列表中的元素，下标从0开始计数</p>
<pre><code>&gt;&gt;&gt; names
['dabric', 'devil', 'Tom']
&gt;&gt;&gt; names[0]
'dabric'
&gt;&gt;&gt; names[1]
'devil'
&gt;&gt;&gt; names[-1]   #还可以从后往前取
'Tom'
&gt;&gt;&gt; names[-2]
'devil'</code></pre>
<h4>改变列表：元素赋值</h4>
<p>为指定下标的元素赋值</p>
<pre><code>&gt;&gt;&gt; names
['dabric', 'devil', 'Tom']
&gt;&gt;&gt; names[1] = 'Alice'
&gt;&gt;&gt; names
['dabric', 'Alice', 'Tom']</code></pre>
<h4>分片(split)</h4>
<p>Python通过对序列进行分片，来取序列中的多个元素，分片遵循<strong>顾前不顾后</strong>的原则</p>
<pre><code>&gt;&gt;&gt; names
['dabric', 'Alice', 'Tom', 'Beth', 'Cecil']
&gt;&gt;&gt; names[0:3]             #当从列表的首个元素开始切片时，可以省略不写0；相当于names[:3]
['dabric', 'Alice', 'Tom'] 

&gt;&gt;&gt; names
['dabric', 'Alice', 'Tom', 'Beth', 'Cecil']
&gt;&gt;&gt; names[1:]              #要取从指定下标处开始所有列表中的元素，省略不写后面的下标；
['Alice', 'Tom', 'Beth', 'Cecil']

#从列表后往前切片  
&gt;&gt;&gt; names
['dabric', 'Alice', 'Tom', 'Beth', 'Cecil']
&gt;&gt;&gt; names[-3:-1]
['Tom', 'Beth']

&gt;&gt;&gt; names
['dabric', 'Alice', 'Tom', 'Beth', 'Cecil']
&gt;&gt;&gt; names[:-1]
['dabric', 'Alice', 'Tom', 'Beth']
&gt;&gt;&gt; names[-4:]
['Alice', 'Tom', 'Beth', 'Cecil']
</code></pre>
<hr>
<h2>2、列表的方法</h2>
<h4>append</h4>
<p>append方法用于在列表末尾追加新的对象：</p>
<pre><code>&gt;&gt;&gt; names
['dabric', 'Alice', 'Tom']
&gt;&gt;&gt; names.append('Beth')
&gt;&gt;&gt; names
['dabric', 'Alice', 'Tom', 'Beth']</code></pre>
<h4>count</h4>
<p>count方法统计某个元素在列表中出现的次数：</p>
<pre><code>&gt;&gt;&gt; names
['dabric', 'Alice', 'Tom', 'Beth', 'Cecil', 'Cecil']
&gt;&gt;&gt; names.count('Cecil')
2</code></pre>
<h4>extend</h4>
<p>extend方法可以在列表的末尾一次性追加另一个序列中的多个值。换句话说，可以用新列表扩展原有的列表：</p>
<pre><code>&gt;&gt;&gt; names
['dabric', 'Alice', 'Tom', 'Beth', 'Cecil', 'Cecil']
&gt;&gt;&gt; name
['Dee-Dee', 'Earl']
&gt;&gt;&gt; names.extend(name)
&gt;&gt;&gt; names
['dabric', 'Alice', 'Tom', 'Beth', 'Cecil', 'Cecil', 'Dee-Dee', 'Earl']</code></pre>
<h4>index</h4>
<p>index方法用于从列表中找出某个值第一个匹配的索引位置：</p>
<pre><code>&gt;&gt;&gt; names
['dabric', 'Alice', 'Tom', 'Beth', 'Cecil', 'Cecil', 'Dee-Dee', 'Earl']
&gt;&gt;&gt; names.index('dabric')
0
&gt;&gt;&gt; names.index('Tom')
2
&gt;&gt;&gt; names.index('Jerry')
Traceback (most recent call last):
  File "&lt;stdin&gt;", line 1, in &lt;module&gt;
ValueError: 'Jerry' is not in list</code></pre>
<h4>insert</h4>
<p>insert方法用于将对象插入到列表中的指定位置：</p>
<pre><code>&gt;&gt;&gt; names
['dabric', 'Alice', 'Tom', 'Beth', 'Cecil', 'Cecil', 'Dee-Dee', 'Earl']
&gt;&gt;&gt; names.insert(3,'贝斯')
&gt;&gt;&gt; names
['dabric', 'Alice', 'Tom', '贝斯', 'Beth', 'Cecil', 'Cecil', 'Dee-Dee', 'Earl']</code></pre>
<h4>pop</h4>
<p>pop方法会移除列表中的一个元素(默认为最后一个)，并且返回该元素的值：</p>
<pre><code>&gt;&gt;&gt; names
['dabric', 'Alice', 'Tom', '贝斯', 'Beth', 'Cecil', 'Cecil', 'Dee-Dee', 'Earl']
&gt;&gt;&gt; names.pop()
'Earl'
&gt;&gt;&gt; names
['dabric', 'Alice', 'Tom', '贝斯', 'Beth', 'Cecil', 'Cecil', 'Dee-Dee']
&gt;&gt;&gt; names.pop(3)         #移除指定下标的元素，并将该元素的值返回
'贝斯'
&gt;&gt;&gt; names
['dabric', 'Alice', 'Tom', 'Beth', 'Cecil', 'Cecil', 'Dee-Dee']</code></pre>
<h4>remove</h4>
<p>remove方法用于移除列表中某个值的第一个匹配项(remove方法修改了列表却没有返回值，这与pop方法相反)：</p>
<pre><code>&gt;&gt;&gt; names
['dabric', 'Alice', 'Tom', 'Beth', 'Cecil', 'Cecil', 'Dee-Dee', 'Tom']
&gt;&gt;&gt; names.remove('Tom')
&gt;&gt;&gt; names
['dabric', 'Alice', 'Beth', 'Cecil', 'Cecil', 'Dee-Dee', 'Tom']</code></pre>
<h4>reverse</h4>
<p>reverse方法将列表中的元素反向存放：</p>
<pre><code>&gt;&gt;&gt; names
['dabric', 'Alice', 'Beth', 'Cecil', 'Cecil', 'Dee-Dee', 'Tom']
&gt;&gt;&gt; names.reverse()
&gt;&gt;&gt; names
['Tom', 'Dee-Dee', 'Cecil', 'Cecil', 'Beth', 'Alice', 'dabric']</code></pre>
<h4>sort</h4>
<p>sort方法用于在原位置对列表尽心排序。在“原位置排序”意味着改变原来的列表，sort方法修改原来的列表，其返回结果为空：</p>
<pre><code>&gt;&gt;&gt; names
['Tom', 'Dee-Dee', 'Cecil', 'Cecil', 'Beth', 'Alice', 'dabric']
&gt;&gt;&gt; name = names.sort()
&gt;&gt;&gt; names
['Alice', 'Beth', 'Cecil', 'Cecil', 'Dee-Dee', 'Tom', 'dabric']
&gt;&gt;&gt; name
&gt;&gt;&gt; print(name)
None</code></pre>
<h4>copy</h4>
<p>列表的赋值有三种方式：</p>
<pre><code>&gt;&gt;&gt; names
['Alice', 'Beth', 'Cecil', 'Cecil', 'Dee-Dee', 'Tom']
&gt;&gt;&gt; name = names.copy()    #方法一(浅拷贝)
&gt;&gt;&gt; names
['Alice', 'Beth', 'Cecil', 'Cecil', 'Dee-Dee', 'Tom']
&gt;&gt;&gt; name
['Alice', 'Beth', 'Cecil', 'Cecil', 'Dee-Dee', 'Tom']

&gt;&gt;&gt; names.pop()    #移除names中的最后一个元素
'Tom'
&gt;&gt;&gt; name
['Alice', 'Beth', 'Cecil', 'Cecil', 'Dee-Dee', 'Tom']
&gt;&gt;&gt; names
['Alice', 'Beth', 'Cecil', 'Cecil', 'Dee-Dee']

&gt;&gt;&gt; name.clear()    #清空列表中的数据
&gt;&gt;&gt; name
[]
&gt;&gt;&gt; name = names[:]     #方法二，names[:]得到的是包含names所有元素的分片，这是一种很有效率的复制整个列表的方法。只是简单的把names赋值给name是没有用的，因为这样做就让names和name都指向同一个列表了。
&gt;&gt;&gt; name
['Alice', 'Beth', 'Cecil', 'Cecil', 'Dee-Dee', 'Tom']

&gt;&gt;&gt; names
['Alice', 'Beth', 'Cecil', 'Cecil', 'Dee-Dee']
&gt;&gt;&gt; name.clear()
&gt;&gt;&gt; name
[]
&gt;&gt;&gt; import copy     #方法三，导入copy模块
&gt;&gt;&gt; name = copy.copy(names)      #其功能和列表的copy方法一样，都是浅拷贝
&gt;&gt;&gt; name
['Alice', 'Beth', 'Cecil', 'Cecil', 'Dee-Dee']</code></pre>
<h4>深拷贝与浅拷贝</h4>
<pre><code>#浅拷贝，只能拷贝第一层的列表，对于第二层乃至更深的一层不能实现拷贝的功能。列表的拷贝是将列表中每个索引指向的值拷贝一份，对于列表中的列表，其索引指向的是另外一个地址，而浅拷贝只是将该索引指向的地址复制一份，所以当前一个列表中值发生改变，相应复制的列表中的值也发生同样的变化。
&gt;&gt;&gt; names
['Alice', 'Beth', 'Cecil', 'Cecil', 'Dee-Dee']
&gt;&gt;&gt; names.append([1,2,3])
&gt;&gt;&gt; names
['Alice', 'Beth', 'Cecil', 'Cecil', 'Dee-Dee', [1, 2, 3]]
&gt;&gt;&gt; name
[]
&gt;&gt;&gt; name = copy.copy(names)
&gt;&gt;&gt; name
['Alice', 'Beth', 'Cecil', 'Cecil', 'Dee-Dee', [1, 2, 3]]
&gt;&gt;&gt; names
['Alice', 'Beth', 'Cecil', 'Cecil', 'Dee-Dee', [1, 2, 3]]
&gt;&gt;&gt; names[-1][0] = 10
&gt;&gt;&gt; name
['Alice', 'Beth', 'Cecil', 'Cecil', 'Dee-Dee', [10, 2, 3]]
&gt;&gt;&gt; names
['Alice', 'Beth', 'Cecil', 'Cecil', 'Dee-Dee', [10, 2, 3]]

#深拷贝
&gt;&gt;&gt; names
['Alice', 'Beth', 'Cecil', 'Cecil', 'Dee-Dee', [1, 2, 3]]
&gt;&gt;&gt; name
[]
&gt;&gt;&gt; name = copy.deepcopy(names)
&gt;&gt;&gt; name
['Alice', 'Beth', 'Cecil', 'Cecil', 'Dee-Dee', [1, 2, 3]]
&gt;&gt;&gt; names[-1][0] = 10
&gt;&gt;&gt; names
['Alice', 'Beth', 'Cecil', 'Cecil', 'Dee-Dee', [10, 2, 3]]
&gt;&gt;&gt; name
['Alice', 'Beth', 'Cecil', 'Cecil', 'Dee-Dee', [1, 2, 3]]</code></pre>
<hr>
<h2>二、元组(tuple)</h2>
<p>元组与列表一样，也是一种序列。唯一不同的是元组<strong>不能修改</strong>。</p>
<h2>1、元组的定义</h2>
<h4>用逗号分隔一些值，就自动创建了元组</h4>
<pre><code>&gt;&gt;&gt; 1,2,3
(1, 2, 3)
&gt;&gt;&gt; (1,2,3)
(1, 2, 3)</code></pre>
<h4>包含一个值的元组的实现</h4>
<pre><code>&gt;&gt;&gt; 42,
(42,)
&gt;&gt;&gt; (42)
42
&gt;&gt;&gt; (42,)
(42,)</code></pre>
<hr>
<h2>2、元组的操作</h2>
<p>元组也可以实现<strong>切片</strong>，它只有两个方法，一个是<strong>count</strong>，另一个是<strong>index</strong>。</p>
<hr>
<p><strong>程序练习</strong> </p>
<p>程序：购物车程序</p>
<p>需求:<br>(1) 启动程序后，让用户输入工资，然后打印商品列表<br>(2) 允许用户根据商品编号购买商品<br>(3) 用户选择商品后，检测余额是否够，够就直接扣款，不够就提醒 <br>(4) 可随时退出，退出时，打印已购买商品和余额</p>
<hr>
<h2>三、字符串操作</h2>
<h2>1、基本的字符串操作</h2>
<p>所有标准的序列操作（索引、分片、乘法、判断成员资格、求长度、取最小值和最大值）对字符串同样适用。但是字符串是不可改变的，例如：</p>
<pre><code>&gt;&gt;&gt; website = "http://www.python.org"
&gt;&gt;&gt; website[-3:] = 'com'
Traceback (most recent call last):
  File "&lt;stdin&gt;", line 1, in &lt;module&gt;
TypeError: 'str' object does not support item assignment</code></pre>
<h2>2、字符串格式化</h2>
<p>字符串格式化使用字符串格式化操作符即百分号%来实现。在%号左侧放置一个字符串(格式化字符串)，而右侧则放置希望被格式化的值。可以使用一个值，如一个字符串或者数字，也可以使用多个值的元组或者字典。<br>格式化操作符的右操作数可以是任意类型，如果右操作数是元组的话，则其中的每一个元素都会被单独格式化，每个值都需要一个对应的转换说明符。</p>
<pre><code>&gt;&gt;&gt; '%s plus %s equals %s' % (1,1,2)
'1 plus 1 equals 2'</code></pre>
<p><strong>基本的转换说明符</strong></p>
<ul>
<li>
<strong>%字符：</strong>标记转换说明符的开始</li>
<li>
<strong>转换标志(可选)：</strong>-表示左对齐；+表示在转换值之前要加上正负号；""(空白字符)表示整十数之前保留空格；0表示转换值若位数不够则用0填充。</li>
<li>
<strong>最小字段宽度(可选)：</strong>转换后的字符串至少应该具有该值指定的宽度。如果是*，则宽度会从值元组中读出。</li>
<li>
<strong>点(.)后跟精度值(可选)：</strong>如果转换的是实数，精度值就表示出现小数点后的位数。如果转换的是字符串，那么该数字就表示最大字段宽度。如果是*，那么精度将会从元组中读出。</li>
<li>
<strong>转换类型：</strong>参见下表。</li>
</ul>
<p><span class="img-wrap"><img src="https://segmentfault.com/img/bVbhO5f?w=720&amp;h=398" src="https://static.segmentfault.com/v-5bebf0aa/global/img/squares.svg" alt="clipboard.png" title="clipboard.png"></span></p>
<h2>3、字符串方</h2>
<p><strong>基本方法</strong></p>
<ul><li>center</li></ul>
<p>方法center通过在两边添加填充字符(默认为空格)让字符串居中。</p>
<pre><code>&gt;&gt;&gt; name = "My name is Dabric"
&gt;&gt;&gt; name.center(39)
'           My name is Dabric           '
&gt;&gt;&gt; name.center(39,'*')
'***********My name is Dabric***********'


&gt;&gt;&gt; name.ljust(40,'*')   #将字符串靠左显示，如果字符串不够给定长度，用给定字符进行填充
'My name is Dabric***********************'
&gt;&gt;&gt; name.rjust(40,'*')   #将字符串靠右显示，如果字符串不够给定长度，用给定字符进行填充
'***********************My name is Dabric'

&gt;&gt;&gt; name.zfill(40)       #将字符串靠右显示，如果字符串不够给定长度，用0进行填充
'00000000000000000000000My name is Dabric'</code></pre>
<ul><li>find</li></ul>
<p>方法find在字符串中查找子串。如果找到，就返回子串的第一个字符的索引，否则返回-1.</p>
<pre><code>&gt;&gt;&gt; name.find('e')
6
&gt;&gt;&gt; name.find('u')
-1
还可以指定搜索的起点和终点(可选)
&gt;&gt;&gt; subject = '$$$ Get rich now!!! $$$'
&gt;&gt;&gt; subject.find('$$$')
0
&gt;&gt;&gt; subject.find('$$$', 1) # 只指定了起点
20
&gt;&gt;&gt; subject.find('!!!')
16
&gt;&gt;&gt; subject.find('!!!', 0, 16) # 同时指定了起点和终点(搜索范围包含起点，但不包含终点)
-1</code></pre>
<ul><li>join</li></ul>
<p>join是一个非常重要的字符串方法，其作用于split相反，用于合并序列的元素。</p>
<pre><code>&gt;&gt;&gt; seq = [1, 2, 3, 4, 5]
&gt;&gt;&gt; sep = '+'
&gt;&gt;&gt; sep.join(seq) # 尝试合并一个数字列表
Traceback (most recent call last):
File "&lt;stdin&gt;", line 1, in ?
TypeError: sequence item 0: expected string, int found
&gt;&gt;&gt; seq = ['1', '2', '3', '4', '5']
&gt;&gt;&gt; sep.join(seq) # 合并一个字符串列表
'1+2+3+4+5'
&gt;&gt;&gt; dirs = '', 'usr', 'bin', 'env'
&gt;&gt;&gt; '/'.join(dirs)
'/usr/bin/env'
&gt;&gt;&gt; print('C:' + '\\'.join(dirs))
C:\usr\bin\env</code></pre>
<ul><li>repalce</li></ul>
<p>方法replace将指定子串都替换为另一个字符串，并返回替换后的结果。</p>
<pre><code>&gt;&gt;&gt; "dabric tian, chinese name is tianchenguang".replace("tian","TIAN",1)
     'dabric TIAN, chinese name is tianchenguang'</code></pre>
<ul><li>spilt</li></ul>
<p>split是一个非常重要的字符串方法，其作用与join相反，用于将字符串拆分为序列。</p>
<pre><code>&gt;&gt;&gt; '1+2+3+4+5'.split('+')
['1', '2', '3', '4', '5']
&gt;&gt;&gt; '/usr/bin/env'.split('/')
['', 'usr', 'bin', 'env']
&gt;&gt;&gt; 'Using the default'.split()
['Using', 'the', 'default']
注意，如果没有指定分隔符，将默认在单个或多个连续的空白字符（空格、制表符、换行符
等）处进行拆分。</code></pre>
<ul><li>strip</li></ul>
<p>方法strip将字符串开头和末尾的空白（但不包括中间的空白）删除，并返回删除后的结果。</p>
<pre><code>&gt;&gt;&gt; ' internal whitespace is kept '.strip()
'internal whitespace is kept'</code></pre>
<ul><li>判断字符串是否满足特定的条件</li></ul>
<p>很多字符串方法都以is打头，如isspace、isdigit和isupper，它们判断字符串是否具有特定<br>的性质（如包含的字符全为空白、数字或大写）。如果字符串具备特定的性质，这些方法就返回<br>True，否则返回False。</p>
<pre><code>isalnum、isalpha、isdecimal、isdigit、isidentifier、islower、isnumeric、
isprintable、isspace、istitle、isupper</code></pre>
<p><strong>其他方法</strong></p>
<pre><code>&gt;&gt;&gt; name = 'My name is Dabric'
&gt;&gt;&gt; name
'My name is Dabric'
&gt;&gt;&gt; name.capitalize()       #首字母大写
'My name is dabric'

&gt;&gt;&gt; name.casefold()         #大写全部变成小写
'my name is dabric'

&gt;&gt;&gt; name.count('a')         #统计指定字符或字符串出现的次数
2
&gt;&gt;&gt; name.count('is')
1

&gt;&gt;&gt; name.encode()           #将字符串编码成bytes格式
b'My name is Dabric'

&gt;&gt;&gt; name.endswith('dabric')   #判断字符串是否以指定的字符串结尾
False
&gt;&gt;&gt; name.endswith('Dabric')
True

&gt;&gt;&gt; "dabric\ttian".expandtabs(10)   #将\t转换成多长的空格
'dabric    tian'
&gt;&gt;&gt; "dabric\ttian".expandtabs()
'dabric  tian'

format :

    &gt;&gt;&gt; msg = "my name is {}, and age is {}"
    &gt;&gt;&gt; msg.format("dabric",22)
    'my name is dabric, and age is 22'
    &gt;&gt;&gt; msg = "my name is {1}, and age is {0}"
    &gt;&gt;&gt; msg.format("dabric",22)
    'my name is 22, and age is alex'
    &gt;&gt;&gt; msg = "my name is {name}, and age is {age}"
    &gt;&gt;&gt; msg.format(age=22,name="dabric")
    'my name is dabric, and age is 22'
format_map
    &gt;&gt;&gt; msg.format_map({'name':'dabric','age':22})
    'my name is dabric, and age is 22'


msg.index('a')  返回a所在字符串的索引

maketrans
    &gt;&gt;&gt; intab = "aeiou"  #This is the string having actual characters. 
    &gt;&gt;&gt; outtab = "12345" #This is the string having corresponding mapping character
    &gt;&gt;&gt; trantab = str.maketrans(intab, outtab)
    &gt;&gt;&gt; 
    &gt;&gt;&gt; str = "this is string example....wow!!!"
    &gt;&gt;&gt; str.translate(trantab)
    'th3s 3s str3ng 2x1mpl2....w4w!!!'

 msg.partition('is')   输出 ('my name ', 'is', ' {name}, and age is {age}') 

 msg.swapcase 大小写互换

&gt;&gt;&gt; b="ddefdsdff_哈哈" 
&gt;&gt;&gt; b.isidentifier() #检测一段字符串可否被当作标志符，即是否符合变量命名规则
True</code></pre>
<hr>
<h2>四、字典操作</h2>
<p>字典的数据结构成为映射，字典是Python中唯一内建的映射类型。字典中的值并没有特殊的顺序，但是都存储在一个热定的键(Key)下。键可以是数字、字符串甚至是元组。</p>
<h2>1、字典的创建</h2>
<p>字典由多个键及与之对应的值构成的Key-Value对组成。每个键和它的值之间用冒号(:)隔开，项之间用逗号(,)隔开，而整个字典是由一对大括号括起来。空字典(不包括任何项)由两个大括号组成({})。例如：</p>
<pre><code>phonebook = {'Alice':'2341','Beth':'9102','Cecil':'3258'}</code></pre>
<p><strong>dict函数</strong></p>
<hr>
<p>可以使用dict函数，通过其他映射(比如其他字典)或者(键，值)对的序列建立字典。</p>
<pre><code>&gt;&gt;&gt; items  = [('name','Gumby'),('age',42)]
&gt;&gt;&gt; d = dict(items)
&gt;&gt;&gt; d
{'name': 'Gumby', 'age': 42}</code></pre>
<p>dict函数也可以通过关键字参数来创建字典，如下所示：</p>
<pre><code>&gt;&gt;&gt; d = dict(name='Gumby',age=42)
&gt;&gt;&gt; d
{'name': 'Gumby', 'age': 42}</code></pre>
<h2>2、字典的操作</h2>
<p><strong>增加</strong></p>
<pre><code>&gt;&gt;&gt; info
{'student1': 'Alice', 'student2': 'Beth', 'student': 'Cecil'}
&gt;&gt;&gt; info["student4"] = 'Dabric'
&gt;&gt;&gt; info
{'student1': 'Alice', 'student2': 'Beth', 'student': 'Cecil', 'student4': 'Dabri
c'}</code></pre>
<p><strong>修改</strong></p>
<pre><code>&gt;&gt;&gt; info
{'student1': 'Alice', 'student2': 'Beth', 'student': 'Cecil', 'student4': 'Dabri
c'}
&gt;&gt;&gt; info['student1'] = 'ALICE'
&gt;&gt;&gt; info
{'student1': 'ALICE', 'student2': 'Beth', 'student': 'Cecil', 'student4': 'Dabri
c'}</code></pre>
<p><strong>删除</strong></p>
<ul><li>标准删除方法</li></ul>
<pre><code>&gt;&gt;&gt; info
{'student1': 'ALICE', 'student2': 'Beth', 'student': 'Cecil', 'student4': 'Dabri
c'}
&gt;&gt;&gt; info.pop('student')                #删除指定键下的值，并将该值返回
'Cecil'
&gt;&gt;&gt; info
{'student1': 'ALICE', 'student2': 'Beth', 'student4': 'Dabric'}</code></pre>
<ul><li>通用删除方法</li></ul>
<pre><code>&gt;&gt;&gt; info
{'student1': 'ALICE', 'student2': 'Beth', 'student4': 'Dabric'}
&gt;&gt;&gt; del info['student1']
&gt;&gt;&gt; info
{'student2': 'Beth', 'student4': 'Dabric'}</code></pre>
<ul><li>随机删除方法</li></ul>
<pre><code>&gt;&gt;&gt; info
{'student2': 'Beth', 'student4': 'Dabric', 'student1': 'Alice', 'student3': 'Cec
il'}
&gt;&gt;&gt; info.popitem()     #随机删除字典中的项，并将对应的键值以元组的形式返回
('student3', 'Cecil')</code></pre>
<p><strong>查找</strong></p>
<pre><code>&gt;&gt;&gt; info
{'student2': 'Beth', 'student4': 'Dabric', 'student1': 'Alice', 'student3': 'Cec
il'}
&gt;&gt;&gt; 'student2' in  info    #成员资格检查，标准用户
True

&gt;&gt;&gt; info.get('student1')   #获取指定键下的值，如果该指定的键值不存在，返回None
'Alice'
&gt;&gt;&gt; info.get('student5')
&gt;&gt;&gt;

&gt;&gt;&gt; info['student1']    #同上，但是当指定的键不存在时报错
'Alice'
&gt;&gt;&gt; info['student5']
Traceback (most recent call last):
  File "&lt;stdin&gt;", line 1, in &lt;module&gt;
KeyError: 'student5'</code></pre>
<p><strong>多级字典嵌套及操作</strong></p>
<pre><code>av_catalog = {
    "欧美":{
        "www.youporn.com": ["很多免费的,世界最大的","质量一般"],
        "www.pornhub.com": ["很多免费的,也很大","质量比yourporn高点"],
        "letmedothistoyou.com": ["多是自拍,高质量图片很多","资源不多,更新慢"],
        "x-art.com":["质量很高,真的很高","全部收费,屌比请绕过"]
    },
    "日韩":{
        "tokyo-hot":["质量怎样不清楚,个人已经不喜欢日韩范了","听说是收费的"]
    },
    "大陆":{
        "1024":["全部免费,真好,好人一生平安","服务器在国外,慢"]
    }
}

av_catalog["大陆"]["1024"][1] += ",可以用爬虫爬下来"
print(av_catalog["大陆"]["1024"])
#ouput 
['全部免费,真好,好人一生平安', '服务器在国外,慢,可以用爬虫爬下来']</code></pre>
<p><strong>其他操作</strong></p>
<pre><code>#values
&gt;&gt;&gt; info
{'student2': 'Beth', 'student4': 'Dabric', 'student1': 'Alice', 'student3': 'Cec
il'}
&gt;&gt;&gt; info.values()
dict_values(['Beth', 'Dabric', 'Alice', 'Cecil'])


#keys
&gt;&gt;&gt; info.keys()
dict_keys(['student2', 'student4', 'student1', 'student3'])

#setdefault  setdefault方法在某种程度上类似于get方法，能够获得与给定键相关量的值，除此之外，setdefault还能在字典中不含有给定键的情况下设定相应的键值。
&gt;&gt;&gt; info.setdefault('student5','Devil')
'Devil'
&gt;&gt;&gt; info
{'student2': 'Beth', 'student4': 'Dabric', 'student1': 'Alice', 'student3': 'Cec
il', 'student5': 'Devil'}
&gt;&gt;&gt; info.setdefault('student2','Devil')
'Beth'

#update   update方法可以利用一个字典项更新另外一个字典
&gt;&gt;&gt; info
{'student2': 'Beth', 'student4': 'Dabric', 'student1': 'Alice', 'student3': 'Cec
il', 'student5': 'Devil'}
&gt;&gt;&gt; b = {1:2,3:4,'student0':'ALICE'}
&gt;&gt;&gt; info.update(b)
&gt;&gt;&gt; info
{'student2': 'Beth', 'student4': 'Dabric', 'student1': 'Alice', 'student3': 'Cec
il', 'student5': 'Devil', 1: 2, 3: 4, 'student0': 'ALICE'}

#items  items方法将字典所有的项返回
&gt;&gt;&gt; info.items()
dict_items([('student2', 'Beth'), ('student4', 'Dabric'), ('student1', 'Alice'),
 ('student3', 'Cecil'), ('student5', 'Devil'), (1, 2), (3, 4), ('student0', 'ALI
CE')])

#通过一个列表生成默认dict,有个没办法解释的坑，少用吧这个
&gt;&gt;&gt; dict.fromkeys([1,2,3],'testd')
{1: 'testd', 2: 'testd', 3: 'testd'}</code></pre>
<p><strong>字典的遍历</strong></p>
<pre><code>#方法1
for key in info:
    print(key,info[key])

#方法2
for k,v in info.items(): #会先把dict转成list,数据大时莫用
    print(k,v)</code></pre>
<p><strong>程序练习</strong></p>
<p>程序: 三级菜单<br>要求:</p>
<ol>
<li>打印省、市、县三级菜单</li>
<li>可返回上一级</li>
<li>可随时退出程序</li>
</ol>
<pre><code>menu = {
    '北京':{
        '海淀':{
            '五道口':{
                'soho':{},
                '网易':{},
                'google':{}
            },
            '中关村':{
                '爱奇艺':{},
                '汽车之家':{},
                'youku':{},
            },
            '上地':{
                '百度':{},
            },
        },
        '昌平':{
            '沙河':{
                '老男孩':{},
                '北航':{},
            },
            '天通苑':{},
            '回龙观':{},
        },
        '朝阳':{},
        '东城':{},
    },
    '上海':{
        '闵行':{
            "人民广场":{
                '炸鸡店':{}
            }
        },
        '闸北':{
            '火车战':{
                '携程':{}
            }
        },
        '浦东':{},
    },
    '山东':{},
}

flag = True

while flag:
    for i1 in menu:
        print(i1)

    choice1 = input("Please choose the province1&gt;&gt;:")
    if choice1 in menu:
        while flag:
            for i2 in menu[choice1]:
                print("\t",i2)
            choice2 = input("Please choose the province2&gt;&gt;:")
            if choice2 in menu[choice1]:
                while flag:
                    for i3 in menu[choice1][choice2]:
                        print("\t\t",i3)
                    choice3 = input("Please choose the province3&gt;&gt;:")
                    if choice3 in menu[choice1][choice2]:
                        while flag:
                            for i4 in menu[choice1][choice2][choice3]:
                                print("\t\t\t",i4)
                            choice4 = input("最后一层，按b返回上层，按q退出&gt;&gt;:")
                            if choice4 == 'b':
                                break
                            elif choice4 == 'q':
                                flag = False
                    if choice3 == 'b':
                        break
                    elif choice3 == 'q':
                        flag = False
            if choice2 == 'b':
                break
            elif choice2 == 'q':
                flag = False
    if choice1 == 'b':
        break
    elif choice1 == 'q':
        flag = False</code></pre>
<hr>
<h2>五、集合操作</h2>
<p>集合是一个无序的，不重复的数据组合，它的主要作用如下：</p>
<ul><li>去重，把一个列表变成集合，就自动去重了</li></ul>
<pre><code>list_1 = [1,3,5,7,9,5]
list_1 = set(list_1)

print(list_1,type(list_1))
{1, 3, 5, 7, 9} &lt;class 'set'&gt;</code></pre>
<ul><li>关系测试，测试两组数据之间的交集、并集、差集等关系</li></ul>
<h2>1、基本操作</h2>
<pre><code>  
t.add('x')            # 添加一项  
  
s.update([10,37,42])  # 在s中添加多项  
  
使用remove()可以删除一项：  
t.remove('H')  
   
len(s)  
set 的长度  
  
x in s  
测试 x 是否是 s 的成员  
  
x not in s  
测试 x 是否不是 s 的成员  
  
s.copy()  
返回 set “s”的一个浅复制</code></pre>
<h2>2、关系测试(方法形式和符号形式)</h2>
<ul><li>交集</li></ul>
<pre><code>&gt;&gt;&gt;list_1 = [1,3,5,7,9,5]
&gt;&gt;&gt;list_1 = set(list_1)
&gt;&gt;&gt;list_2 = set([6,2,4,7,8,9])
&gt;&gt;&gt;print(list_1,list_2)
{1, 3, 5, 7, 9} {2, 4, 6, 7, 8, 9}
&gt;&gt;&gt;list_3 = list_1.intersection(list_2)   #或者list_3 = list_1 &amp; list_2
&gt;&gt;&gt;print(list_3)
{9, 7}</code></pre>
<ul><li>并集</li></ul>
<pre><code>&gt;&gt;&gt;list_3 = list_1.union(list_2)  #或者list_3 = list_1 | list_2
&gt;&gt;&gt;print(list_3)
{1, 2, 3, 4, 5, 6, 7, 8, 9}</code></pre>
<ul><li>差集</li></ul>
<pre><code>&gt;&gt;&gt;list_3 = list_1.difference(list_2)  #或者list_3 = list_1 - list_2
&gt;&gt;&gt;print(list_3)
{1, 3, 5}</code></pre>
<ul><li>对称差集</li></ul>
<pre><code>&gt;&gt;&gt;list_3 = list_1.symmetric_difference(list_2)    #或者list_3 = list_1 ^ list_2
&gt;&gt;&gt;print(list_3)
{1, 2, 3, 4, 5, 6, 8}</code></pre>
<ul><li>子集</li></ul>
<pre><code>&gt;&gt;&gt;a = list_1.issubset(list_2)  #判断一个集合是否为另外一个集合的子集(list_1是否为list_2的子集)，如果是返回值为真，否则为假
&gt;&gt;&gt;print(a)
False</code></pre>
<ul><li>父集</li></ul>
<pre><code>&gt;&gt;&gt;a = list_1.issuperset(list_2)   #判断一个集合是否为另外一个集合的父集(list_1是否包含list_2)，如果是返回值为真，否则为假
&gt;&gt;&gt;print(a)
False</code></pre>
<hr>
<h2>六、文件操作</h2>
<p><strong>对文件操作流程</strong></p>
<ul>
<li>1、打开文件，得到文件句柄并赋值给一个变量</li>
<li>2、通过句柄对文件进行操作</li>
<li>3、关闭文件</li>
</ul>
<h2>1、打开文件</h2>
<p>要打开文件，可使用函数open，它位于自动导入的模块io中。函数open将文件名作为唯一必<br>不可少的参数，并返回一个文件对象。如果当前目录中有一个名为somefile.txt的文本文件（可能<br>是使用文本编辑器创建的），则可像下面这样打开它：</p>
<pre><code>&gt;&gt;&gt; f = open('somefile.txt')</code></pre>
<p><strong>文件模式：</strong></p>
<p><span class="img-wrap"><img src="https://segmentfault.com/img/bVbibRm?w=716&amp;h=242" src="https://static.segmentfault.com/v-5bebf0aa/global/img/squares.svg" alt="clipboard.png" title="clipboard.png"></span></p>
<p>r，只读模式(默认)<br>w，只写模式 (不可读；文件不存在则创建；文件存在则既有内容被删除，并从文件开头处开始写入)<br>x，独占写入模式(在文件已经存在时引发FileExistsError)<br>a，追加模式(可读；文件不存在则创建；存在则在文件末尾追加写入内容)</p>
<p>"+"表示可以同时读写某个文件<br>r+，可读写文件(可读；可写；可追加。以读和追加模式打开文件)<br>w+，写读(没有文件先创建一个文件，有文件的话覆盖原文件)<br>a+，追加读写</p>
<p>默认模式为'rt'，这意味着将把文件视为经过编码的Unicode文本，因此将自动执行解码和编码，且默认使用UTF-8编码。默认情况下，行以'n'结尾。读取时讲自动替换其他行尾字符('r'或'rn')；写入时讲'n'替换为系统的默认行尾字符(os.linesep)；通过设置newline参数可指定只将'r'或'rn'视为合法的行尾字符，这样，读取时不会对行尾字符进行转换，但写入时将把'n'替换为系统默认的行尾字符。</p>
<p>"U"表示在读取时，可以将rnrn自动转换成n(与r或r+模式同时使用)<br>rU<br>r+U</p>
<p>"b"表示处理二进制文件(如：FTP发送上传ISO镜像文件，linux可忽略，windows处理二进制文件时需标注)<br>rb<br>wb<br>ab</p>
<h2>2、文件的基本方法</h2>
<p><strong>读取和写入</strong></p>
<ul><li>文件写入</li></ul>
<p>每当调用f.write(string)时，提供的字符串都将写入到文件中既有内容的后面</p>
<pre><code>&gt;&gt;&gt; f = open('somefile.txt', 'w')
&gt;&gt;&gt; f.write('Hello, ')
7
&gt;&gt;&gt; f.write('World!')
6
&gt;&gt;&gt; f.close()</code></pre>
<ul><li>文件读取</li></ul>
<pre><code>&gt;&gt;&gt; f = open('somefile.txt', 'r')
&gt;&gt;&gt; f.read(4)
'Hell'
&gt;&gt;&gt; f.read()
'o, World!'
#首先，指定了要读取多少（4）个字符。接下来，读取了文件中余下的全部内容（不指定要读取多少个字符）。</code></pre>
<p><strong>读取和写入行</strong></p>
<ul><li>读取行</li></ul>
<pre><code>readline
默认返回一行的内容，也可以指定返回几个字符
readlines
读取文件中的所有行，并以列表的方式返回</code></pre>
<ul><li>写入行</li></ul>
<pre><code>writelines
与readlines相反：接受一个字符串列表(实际上，可以是任何序列或可迭代对象)，并将这些字符串都写入到文件(或流)中。
注意：写入时不会添加换行符，因此必须自行添加。另外，没有方法writeline，一次可以使用write</code></pre>
<p><strong>with语句</strong></p>
<p>为了避免打开文件后忘记关闭，可以通过上下文管理器，即：</p>
<pre><code>with open("somefile.txt") as somefile
    do_something(somefile)</code></pre>
<h2>3、其他方法</h2>
<p><strong>flush</strong></p>
<p>将内存中的数据同步到磁盘上</p>
<pre><code>进度条的实现
import sys,time

for i in range(50):
    sys.stdout.write('#')
    sys.stdout.flush()
    time.sleep(0.1)</code></pre>
<p><strong>tell和seek</strong><br>tell方法返回文件指针的位置，seek方法用来移动文件指针的位置，一般两个方法结合使用。</p>
<p><strong>encoding</strong><br>打印文件的编码</p>
<p><strong>fileno</strong><br>返回文件句柄的编号。操作系统会有一个专门的接口负责调度所有的文件，该编号为系统中已经打开文件的编号。</p>
<p><strong>name</strong><br>打印文件名</p>
<p><strong>truncate</strong><br>该方法如果不接任何参数，则将文件中的内容清空；如果接一个参数10，从文件指针位置开始截断取出十个字符并保存文件指针前的内容。</p>
<h2>4、迭代文件内容</h2>
<p>一种常见的文件操作是迭代其内容，并在迭代过程中反复采取某种措施。</p>
<p><strong>每次一个字符(或字节)</strong></p>
<p>使用read遍历字符</p>
<pre><code>with open('yesterday',encoding='utf-8') as f:
     char = f.read(1)
     while char:
         sys.stdout.write(char)
         char = f.read(1)

with open('yesterday', encoding='utf-8') as f:
    while True:
        char = f.read(1)
        if not char: break
        sys.stdout.write(char)</code></pre>
<p>这个程序之所以可行，是因为到达文件末尾时，方法read将返回一个空字符串，但在此之前，返回的字符串都只包含一个字符(对应于布尔值True)。</p>
<p><strong>每次一行</strong></p>
<pre><code>with open (filename) as f:
    while True:
        line = f.readline()
        if not line: break
        print(line)</code></pre>
<p><strong>读取文件所有内容</strong></p>
<p>如果文件不太大，可以读取整个文件，利用下面两种方法进行读取</p>
<pre><code>with open(filename) as f:
    for char in f.read():
        sys.stdout.write(char)

with open(filename) as f:
    for line in f.readlines:
        print(line)</code></pre>
<p>两者的区别是read不提供任何参数，将整个文件读取到一个字符串中；readlines将文件读取到一个字符串列表中，其中每个字符串都是一行。</p>
<p><strong>使用fileinput实现延迟行迭代</strong></p>
<p>延迟行迭代的方法：延迟是因为它只读取实际需要的文本部分</p>
<pre><code>import fileinput
for line in fileinput.input(filename)
    print(line)

# 模块fileinput会负责打开文件，只需要给其提供一个文件名即可。</code></pre>
<p><strong>文件迭代器(最常见的方法)</strong></p>
<p>文件实际上可迭代的(sys.stdin也是可迭代的)，所以可以用下面的方法进行读取文件的内容：</p>
<pre><code>with open(filename) as f:
    for line in f:
        print(line)</code></pre>
<hr>
<h2>六、字符编码与转码</h2>
<p>1、在python2默认编码是ASCII, python3里默认是unicode</p>
<p>2、unicode 分为 utf-32(占4个字节),utf-16(占两个字节)，utf-8(占1-4个字节)， so utf-16就是现在最常用的unicode版本， 不过在文件里存的还是utf-8，因为utf8省空间</p>
<p>3、在py3中encode,在转码的同时还会把string 变成bytes类型，decode在解码的同时还会把bytes变回string</p>
<p>转码过程如下图：</p>
<p><span class="img-wrap"><img src="https://segmentfault.com/img/bVbilUz?w=537&amp;h=557" src="https://static.segmentfault.com/v-5bebf0aa/global/img/squares.svg" alt="clipboard.png" title="clipboard.png"></span></p>
<ul><li>in python2</li></ul>
<pre><code>#-*-coding:utf-8-*-

import sys
print(sys.getdefaultencoding())


msg = "我爱北京天安门"
msg_gb2312 = msg.decode("utf-8").encode("gb2312")
gb2312_to_gbk = msg_gb2312.decode("gbk").encode("gbk")

print(msg)
print(msg_gb2312)
print(gb2312_to_gbk)</code></pre>
<ul><li>in python3</li></ul>
<pre><code>#-*-coding:gb2312 -*-   #这个也可以去掉

import sys
print(sys.getdefaultencoding())


msg = "我爱北京天安门"
#msg_gb2312 = msg.decode("utf-8").encode("gb2312")
msg_gb2312 = msg.encode("gb2312") #默认就是unicode,不用再decode,喜大普奔
gb2312_to_unicode = msg_gb2312.decode("gb2312")
gb2312_to_utf8 = msg_gb2312.decode("gb2312").encode("utf-8")

print(msg)
print(msg_gb2312)
print(gb2312_to_unicode)
print(gb2312_to_utf8)</code></pre>

                </div>
                                                
                <div class="clearfix mt10">
                    <ul class="article-operation list-inline pull-left mt15"><li><a target="_blank"href="https://creativecommons.org/licenses/by-nc-nd/4.0/"><img class="mb5" src="https://static.segmentfault.com/v-5bebf0aa/global/img/creativecommons-cc.svg" height="20"/></a></li><li class="dropdown js__content-ops hidden-xs" data-module="article"
                                data-id="1190000016516921"
                                data-typetext="文章"><a href="javascript:void(0);" class="dropdown-toggle text-muted" data-toggle="dropdown"><i class="fa fa-ellipsis-h" aria-hidden="true"></i></a><ul class="dropdown-menu dropdown-menu-left"><li><a href="#911"
                                           data-toggle="modal"
                                           data-target="#911"
                                           data-action="report"
                                        >举报</a></li></ul></li></ul>
                    <div class="pull-right mt-10 hidden-xs">
                        <div class="widget-share__full" data-text="Python之路--python基础2"
 data-url="https://segmentfault.com/a/1190000016516921" data-shorturl="http://sfau.lt/b5bhsX7"></div>


                    </div>
                </div>
                <div class="mt10 text-center mb30"><button type="button" id="mainLike" data-id="1190000016516921"
                                    class="btn btn-success btn-lg mr15 "><span id="mainLikeText">赞</span>&nbsp;&nbsp;<span class="seprator">|</span>&nbsp;&nbsp;
                                <span id="mainLikeNum">0 </span></button><button type="button" id="mainBookmark" data-type="article" data-id="1190000016516921"
                                    class="btn btn-default btn-lg "><span id="mainBookmarkText">收藏</span>&nbsp;&nbsp;<span class="seprator">|</span>&nbsp;&nbsp;<span id="mainBookmarkNum">0</span></button></div>                
                                <script type='text/javascript'>
                    OA_show(3);
                </script>

                <h4 class="pt20 mb15 mt0 border-top">你可能感兴趣的</h4>

                
                <div class="mb15 block">
                    <script type='text/javascript'>
                        OA_show(4);
                    </script>
                </div>

                                <div id="paradigm-article-related"></div>

                
        <div class="comments--news comments--default comments--article 
    " 
    data-id="1190000016516921" data-user-id="" data-author-id="1030000012207837 "
         data-is-admin="null" id="goToReplyArea">
                    <div class="mb10 clearfix">
                <strong class="comments-stat pull-left mr10">评论</strong>

                                                    <div class="btn-group btn-group-xs pull-right comments-sort btn-group-menu" role="menu">
                        <a href="javascript:;" 
                           class="btn btn-default active" data-sort="default">默认排序</a>
                        <a href="javascript:;" 
                           class="btn btn-default" data-sort="desc">时间排序</a>
                    </div>
                            </div>
                <div class="comments-container">
                                <div class="comments-list">
            </div>
    <div class="comments-loading hide">载入中...</div>
        <div class="comments-more hide"><a href="javascript:;">显示更多评论</a></div>
    

                                    <div class="comments-box" id="goToReplyEditor">
                <div class="pull-left">
                    <img class="avatar-32 "
                         src="https://static.segmentfault.com/v-5bebf0aa/global/img/user-128.png"
                         alt=""/>
                </div>
                <div class="comments-box-content">
                    <form action="/api/article/1190000016516921/comments/add">
                        <div class="form-group mb0">
                            <textarea name="text" rows="3" class="form-control"placeholder="文明社会，理性评论"></textarea>
                            <div class="mt15 text-right">
                                <button type="button" class="hide"></button>
                                <button class=" btn btn-primary" type="button">发布评论</button>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
                                                        </div>
    </div>


                                    
                
                

            </div><!-- /.main -->


            <div class="col-md-3 side hidden-sm hidden-xs mt30">
                                                
                <div class="mb25 hidden-md hidden-sm hidden-xs">
    <img src="https://static.segmentfault.com/sponsor/20181116.png" alt="Planets" usemap ="#gridsMap" width=255 height=136>
    <map name="gridsMap" id="gridsMap"></map>
    <div style="text-align: center;"><a style="text-align:center; color:#9E9E9E; font-size:12px" href="/sponsor">想在上方展示你的广告？</a></div>
            <script async src="https://static.segmentfault.com/sponsor/20181116.js"></script>
    </div>

                                <style>
                    .job-recommend-area a:not(:last-of-type) {margin-bottom:10px; display: block}
                    .job-recommend-area a:hover {text-decoration: none;}
                </style>
                <div class="hidden-md">
                    <div class="job-recommend">
                      <h3 class="job-title">推广链接</h3>
                      <div class="job-recommend-area">
                                                <script type='text/javascript'>
                            OA_show(7);
                            OA_show(9);
                            OA_show(10);
                            OA_show(15);
                            OA_show(16);
                        </script>
                      </div>
                    </div>
                    <style>
                    .job-recommend {margin-bottom: 30px;}
                    .job-title {
                        font-size: 14px;
                        color: #017E66;
                        font-weight: 500;
                        background: #BFE6D7;
                        margin: 0;
                        padding-top: 6px;
                        padding-bottom: 6px;
                        text-align: center;
                    }
                    .job-recommend-area {
                      padding: 13px;
                      border: 3px solid #EBF7F3;
                      border-top: none;
                    }
                    </style>
                    
                                    </div>

                                
                <div class="hidden-md ad-should-be-fixed">
                    <div class="mb25 block">
                        <script type='text/javascript'>
                            OA_show(1);
                        </script>
                    </div>
                </div>
                <div class="post-nav hidden-xs">
                    <div class="panel panel-default widget-outline">
                        <div class="panel-heading">目录</div>
                        <div class="panel-body">
                            <div class="nav-body" style="overflow:scroll">
                                <div class="highlight-title"></div>
                                <ul class="articleIndex"></ul>
                            </div>
                        </div>
                    </div>
                </div>

                
            </div><!-- /.side -->
        </div>
    </div>
</div>

<div id="shareToWeiboModal" class="modal" tabindex='-1'>
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal">
                    <span aria-hidden="true">×</span><span class="sr-only">Close</span>
                </button>
                <h4 class="modal-title">分享</h4>
            </div>
            <div class="modal-body">
                <p class="sfModal-content">
                    分享到微博？
                </p>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default dont-likeweibo" data-dismiss="modal">取消</button>
                <a href="" id="shareLink" class="btn btn-primary done-btn" target="_blank"
                   onclick="$('#shareToWeiboModal').modal('hide')">分享</a>
            </div>
        </div>
    </div>
</div>


<div class="modal widget-911" id="911" tabindex='-1'>
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button class="close" data-dismiss="modal" type="button">
          <span aria-hidden="true">&times;</span>
          <span class="sr-only">Close</span>
        </button>
        <h4 class="modal-title"><span data-model="action"></span><span data-model="type"></span></h4>
      </div>
      <div class="modal-body">
        <form id="reportForm">
          <!-- 后台返回信息 -->
          <p class="alert alert-warning" data-model="returnMsg"></p>
          <div data-role="base">
            <p>
              <strong class="required">我要<span data-model="action"></span>该<span data-model="type"></span>，理由是：</strong>
            </p>
            <ul class="list-unstyled" data-model="list"></ul>
          </div>
        </form>
      </div>
      <div class="modal-footer">
        <button class="btn btn-default pull-left" type="button" data-role="back" style="display:none">返回重选</button>
                <button class="btn btn-default" data-dismiss="modal" type="button">取消</button>
        <button class="btn btn-primary" data-role="submit" type="button">提交</button>
      </div>
    </div><!-- /.modal-content -->
  </div><!-- /.modal-dialog -->
</div><!-- /.modal -->
<div class="modal widget-seo" id="seo" tabindex='-1'>
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button class="close" data-dismiss="modal" type="button">
                    <span aria-hidden="true">&times;</span>
                    <span class="sr-only">Close</span>
                </button>
                <h4 class="modal-title"><span data-model="action"></span><span data-model="type"></span></h4>
            </div>
            <div class="modal-body">
                <form id="seoForm">
                    <!-- 后台返回信息 -->
                    <p class="alert alert-warning" data-model="returnMsg"></p>
                    <div data-role="base">
                        <div class="form-group">
                            <label>SEO标题：</label><textarea style="min-height: 35px; width: 100%; max-height: 132px; overflow: hidden; overflow-wrap: break-word; height: 32px;" name="title" class="form-control" rows="1" placeholder="请输入SEO标题"></textarea>
                        </div>
                        <div class="form-group">
                            <label>SEO描述：</label><textarea style="min-height: 35px; max-height: 132px; overflow: hidden; overflow-wrap: break-word; height: 32px;" name="desc" class="form-control" rows="1" placeholder="请输入SEO描述"></textarea>
                        </div>
                        <div class="form-group">
                            <label>SEO keywords：</label><textarea style="min-height: 35px; max-height: 132px; overflow: hidden; overflow-wrap: break-word; height: 32px;" name="keywords" class="form-control" rows="1" placeholder="请输入SEO keywords"></textarea>
                        </div>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button class="btn btn-default" data-dismiss="modal" type="button">取消</button>
                <button class="btn btn-primary" data-role="submit" type="button">提交</button>
            </div>
        </div><!-- /.modal-content -->
    </div><!-- /.modal-dialog -->
</div><!-- /.modal -->

    <div id="loginBanner"  class="hidden-sm hidden-xs loginBanner">
    <div class="container">
        <div class="row">
            <div class="col-lg-6 col-md-7">
                <h1 class="title">在 SegmentFault，学习技能、解决问题</h1>
                <p class="desc">每个月，我们帮助 1000 万的开发者解决各种各样的技术问题。并助力他们在技术能力、职业生涯、影响力上获得提升。</p>
            </div>
            <div class="col-lg-3 col-lg-offset-3 col-md-4 col-md-offset-1">
                <form class="register-form clearfix" action="/api/user/phone/register">

                    
                    <a href="/user/register" class="SFLogin btn btn-lg btn-primary mr15">免费注册</a>
                    <a href="/user/login" class="SFRegister btn btn-lg btn-primary">立即登录</a>
                </form>
            </div>
        </div>
    </div>
    </div>






<footer id="footer">
    <div class="container">
        <div class="row hidden-xs">
            <dl class="col-sm-2 site-link">
                <dt>产品</dt>
                
                <dd><a href="/questions/hottest?utm_source=sf-footer&utm_medium=footer-nav&utm_campaign=product&utm_content=footer-links-hottest-questions&utm_term=热门问答">热门问答</a></dd>
                <dd><a href="/blogs/hottest?utm_source=sf-footer&utm_medium=footer-nav&utm_campaign=product&utm_content=footer-links-hottest-questions&utm_term=热门专栏">热门专栏</a></dd>
                <dd><a href="/lives?utm_source=sf-footer&utm_medium=footer-nav&utm_campaign=product&utm_content=footer-links-hottest-questions&utm_term=热门讲堂">热门讲堂</a></dd>
                <dd><a href="/events?utm_source=sf-footer&utm_medium=footer-nav&utm_campaign=product&utm_content=footer-links-hottest-questions&utm_term=最新活动">最新活动</a></dd>
                <dd><a href="/groups?utm_source=sf-footer&utm_medium=footer-nav&utm_campaign=product&utm_content=footer-links-hottest-questions&utm_term=圈子">圈子</a></dd>
                <dd><a href="/jobs?utm_source=sf-footer&utm_medium=footer-nav&utm_campaign=product&utm_content=footer-links-hottest-questions&utm_term=找工作">找工作</a></dd>
                <dd><a href="/app?utm_source=sf-footer&utm_medium=footer-nav&utm_campaign=product&utm_content=footer-links-hottest-questions&utm_term=app">移动客户端</a></dd>
                
            </dl>
            
            <dl class="col-sm-2 site-link">
                <dt>资源</dt>
                <dd><a href="/weekly?utm_source=sf-footer&utm_medium=footer-nav&utm_campaign=resource&utm_content=footer-links-weekly&utm_term=每周精选">每周精选</a></dd>
                <dd><a href="/users?utm_source=sf-footer&utm_medium=footer-nav&utm_campaign=resource&utm_content=footer-links-users&utm_term=用户排行榜">用户排行榜</a></dd>
                <dd><a href="/badges?utm_source=sf-footer&utm_medium=footer-nav&utm_campaign=resource&utm_content=footer-links-badges&utm_term=徽章">徽章</a></dd>
                <dd><a href="/faq?utm_source=sf-footer&utm_medium=footer-nav&utm_campaign=resource&utm_content=footer-links-faq&utm_term=帮助中心">帮助中心</a></dd>
                <dd><a href="/repu?utm_source=sf-footer&utm_medium=footer-nav&utm_campaign=resource&utm_content=footer-links-repu&utm_term=声望与权限">声望与权限</a></dd>
                <dd><a href="/community?utm_source=sf-footer&utm_medium=footer-nav&utm_campaign=resource&utm_content=footer-links-community&utm_term=社区服务中心">社区服务中心</a></dd>
                <dd><a href="https://docs.segmentfault.com?utm_source=sf-footer&utm_medium=footer-nav&utm_campaign=resource&utm_content=footer-links-docs&utm_term=开发手册">开发手册</a></dd>

   
            </dl>

            <dl class="col-sm-2 site-link">
                <dt>商务</dt>
                <dd><a href="https://business.segmentfault.com/services?utm_source=sf-footer&utm_medium=footer-nav&utm_campaign=business&utm_content=footer-links-services-rencai&utm_term=人才服务" target="_blank">人才服务</a></dd>
                <dd><a href="https://business.segmentfault.com/services?utm_source=sf-footer&utm_medium=footer-nav&utm_campaign=business&utm_content=footer-links-services-qiyeneixun&utm_term=企业服务" target="_blank">企业培训</a></dd>
                <dd><a href="https://business.segmentfault.com/services?utm_source=sf-footer&utm_medium=footer-nav&utm_campaign=business&utm_content=footer-links-services-huodongcehua&utm_term=活动策划" target="_blank">活动策划</a></dd>
                <dd><a href="https://business.segmentfault.com/ads?utm_source=sf-footer&utm_medium=footer-nav&utm_campaign=business&utm_content=footer-links-ads&utm_term=广告投放" target="_blank">广告投放</a></dd>
                <dd><a href="https://business.segmentfault.com/bc?utm_source=sf-footer&utm_medium=footer-nav&utm_campaign=business&utm_content=footer-links-bc&utm_term=区块链解决方案" target="_blank">区块链解决方案</a></dd>
                <dd><a href="https://business.segmentfault.com/contact?utm_source=sf-footer&utm_medium=footer-nav&utm_campaign=business&utm_content=footer-links-contact&utm_term=合作联系" target="_blank">合作联系</a></dd>
            </dl>
            
            <dl class="col-sm-2 site-link">
                <dt>关于</dt>
                <dd><a href="https://about.segmentfault.com/?utm_source=sf-footer&utm_medium=footer-nav&utm_campaign=about&utm_content=about-index&utm_term=关于我们">关于我们</a></dd>
                <dd><a href="https://about.segmentfault.com/careers.html?utm_source=sf-footer&utm_medium=footer-nav&utm_campaign=about&utm_content=about-careers&utm_term=加入我们">加入我们</a></dd>
                <dd><a href="https://about.segmentfault.com/contact.html?utm_source=sf-footer&utm_medium=footer-nav&utm_campaign=about&utm_content=about-contact&utm_term=联系我们">联系我们</a></dd>
            </dl>

            <dl class="col-sm-2 site-link">
                <dt>关注</dt>
                                <dd><a href="//segmentfault.com/blog/segmentfault" target="_blank">产品技术日志</a></dd>
                                <dd><a href="//segmentfault.com/blog/community_admin" target="_blank">社区运营日志</a></dd>
                                <dd><a href="//segmentfault.com/blog/segmentfault_news" target="_blank">市场运营日志</a></dd>
                                <dd><a href="//segmentfault.com/blog/segmentfault_team" target="_blank">团队日志</a></dd>
                                <dd><a href="//segmentfault.com/blog/interview" target="_blank">社区访谈</a></dd>
                                <dd>
                    <ul class="sn-inline">
                        <li>
                            <a class="entypo-wechart icon-sn-weixin weixin-popover-qrcode" data-toggle="popover" data-placement="top"  data-content="">微信</a>
                        </li>
                        <li>
                            <a href="http://weibo.com/segmentfault" target="_blank" class="entypo-weibo icon-sn-weibo" >新浪微博</a>
                        </li>
                        <li>
                            <a href="https://github.com/SegmentFault" target="_blank" class="entypo-facebook icon-sn-github">Github</a>
                        </li>
                        <li>
                            <a href="https://twitter.com/segment_fault" target="_blank" class="entypo-twitter icon-sn-twitter">Twitter</a>
                        </li>
                    </ul>
                </dd>
            </dl>

            <dl class="col-sm-2 site-link" id="license">
                <dt>条款</dt>
                <dd><a href="/tos">服务条款</a></dd>
                <dd><a href="https://creativecommons.org/licenses/by-nc-nd/4.0/" target="_blank">内容许可</a></dd>
                <dd>
                    <a href="/app" class="clearfix mt10 block"><img src="https://static.segmentfault.com/v-5bebf0aa/page/img/app/appQrcode.png" class="app-qrcode"></a>
                    <div class="app-download-desc">
                        <p>扫一扫下载 App</p>
                    </div>
                    
                </dd>
            </dl>
        </div>
        <div class="copyright">
            Copyright &copy; 2011-2018 SegmentFault. 当前呈现版本 17.06.16<br>
            <a href="http://www.miibeian.gov.cn/" rel="nofollow">浙ICP备 15005796号-2</a> &nbsp;
            <a target="_blank" href="http://www.beian.gov.cn/portal/registerSystemInfo?recordcode=33010602002000" rel="nofollow">浙公网安备 33010602002000号</a>
            <span class="ml5">杭州堆栈科技有限公司版权所有</span>
            <P class="mt30">CDN 存储服务由 <a target="_blank" href="https://www.upyun.com/?utm_source=segmentfault&utm_medium=link&utm_campaign=upyun&md=segmentfault">又拍云</a> 赞助提供 </p>
        </div>
        <p class="text-center">
            <a class="js__view--selector hidden-sm hidden-md hidden-lg" data-action="mobile" href="javascript:;">移动版</a>
            <a class="js__view--selector hidden-sm hidden-md hidden-lg" data-action="desktop" href="javascript:;">桌面版</a>
        </p>
    </div>
</footer>

<div id="fixedTools" class="hidden-xs hidden-sm">
    <a id="backtop" class="hidden border-bottom" href="#">回顶部</a>
</div>

    <script id="loginModal" type="text/template">
    <div class="row bg-white login-modal">
        <div class="col-md-12 login-wrap">
            <form action="/api/user/login" method="POST" role="form" class="mt15">
                <div class="form-group hidden">
                                        <input type="text" class="form-control" name="remember" value="1"
                           autocomplete="off">
                </div>
                <div class="form-group">
                    <label for="username" class="control-label">手机号 或 Email</label>
                    <input type="text" class="form-control" name="username" tabindex="1" required placeholder="11 位手机号 或 Email"
                           autocomplete="off">
                </div>
                <div class="form-group">
                    <label class="control-label">密码</label><span class="pull-right"><a
                                href="/user/forgot" tabindex="4">忘记密码</a></span>
                    <input type="password" class="form-control" name="password" tabindex="2" required placeholder="请输入密码">
                </div>
                <div class="form-group">
                    <a
                            
                                                    href="/user/phoneLogin"
                            class="phoneLogin"
                                            >手机验证码登录</a>
                </div>
                <div class="form-group clearfix">
                    <button type="submit" class="btn-block btn btn-primary pull-right pl20 pr20" tabindex="3"
                            onclick='ga("send", "event", "email login button", "clicked", "login modal");'>登录
                    </button>
                </div>
            </form>
            <div class="text-muted text-center more-login-area">
    <span class="more-login-words">更多登录方式</span>
</div>
<div class="widget-login mb15 text-center">
    <a href="/user/oauth/google" class=""
       onclick='ga("send", "event", "3rd login button", "clicked", "login modal", {media: "google"});'><span
                class="icon-sn-google"></span></a>
    <a href="/user/oauth/github" class=""
       onclick='ga("send", "event", "3rd login button", "clicked", "login modal", {media: "github"});");'><span
                class="icon-sn-github"></span></a>
    <a href="/user/oauth/weibo" class=""
       onclick='ga("send", "event", "3rd login button", "clicked", "login modal", {media: "weibo"});'><span
                class="icon-sn-weibo"></span></a>
    <a href="/user/oauth/qq" class=""
       onclick='ga("send", "event", "3rd login button", "clicked", "login modal", {media: "qq"});'><span
                class="icon-sn-qq"></span></a>
    <a href="/user/oauth/weixin" class=""
       onclick='ga("send", "event", "3rd login button", "clicked", "login modal", {media: "qq"});'><span
                class="icon-sn-weixin"></span></a>
    <a href="/user/oauth/linkedin" class=""
       onclick='ga("send", "event", "3rd login button", "clicked", "login modal", {media: "linkedin"});'><span
                class="icon-sn-linkedin"></span></a>
    <span id="loginShowMore" style="cursor: pointer" class="mb5"><span class="icon-sn-dotted"></span></span>
    <a href="/user/oauth/twitter" class=" hidden"
       onclick='ga("send", "event", "3rd login button", "clicked", "login modal", {media: "twitter"});'><span
                class="icon-sn-twitter"></span></a>
    <a href="/user/oauth/facebook" class=" hidden"
       onclick='ga("send", "event", "3rd login button", "clicked", "login modal", {media: "facebook"});'><span
                class="icon-sn-facebook"></span></a>
    <a href="/user/oauth/douban" class=" hidden"
       onclick='ga("send", "event", "3rd login button", "clicked", "login modal", {media: "douban"});'><span
                class="icon-sn-douban"></span></a>
</div>
<div class="form-group clearfix">
    <a class="btn-block btn btn-default pull-right pl20 pr20 
                        SFLogin
             "

            
        onclick='ga("send", "event", "email login button", "clicked", "login modal");'>
                    注册新账号
            </a>
</div>
<p class="text-muted text-center mb15">登录即表示你同意网站的<a href="/tos" target="_blank">《服务条款》</a></p>        </div>
    </div>
</script>
    <script id="registerModal" type="text/template">
    <div class="row bg-white login-modal">
        <div class="col-md-12 login-wrap">
            
            <form action="/api/user/register" method="POST" role="form" class="mt15">
                <div class="form-group">
                    <label for="name" class="control-label">你的名字</label>
                    <input type="text" class="form-control" name="name" required placeholder="真实姓名或常用昵称">
                </div>
                
                <div class="form-group">
                    <label for="mail" class="control-label">手机号 或 Email</label>
                    <input type="text" class="form-control" id="login-name" name="mail" required placeholder="11 位手机号 或 Email">
                </div>
                
                <input type="text" class="hidden" name="register_type" value="mail">

                <div class="form-group">
                    <div class="phone-register-only hidden">
                        <div class="captchaInput mb10">
                            <input type="text" class="form-control" name="cap" placeholder="右侧的验证码" style="width:50%; display: inline; margin-right: 15px;">
                            <span class="mt10">
                                <a id="loginReloadCaptcha" href="javascript:void(0)">
                                <img src="/user/captcha?w=135&h=34" class="cap" width="135" height="34"/></a>
                            </span>
                        </div>
                        <div class="input-group">
                            <input name="code" type="text" class="form-control js-user-login__phone-code-value" placeholder="短信验证码">
                            <span class="input-group-btn">
                                <button class="btn btn-default js-user-login__phone-vaild-btn" style="width:96px;" type="button">
                                获取验证码</button>
                            </span>
                        </div>
                    </div>
                </div>

                <div class="form-group">
                    <label for="password" class="control-label">密码</label>
                    <input type="password" class="form-control" name="password" required placeholder="不少于 6 位的密码">
                </div>
                <div class="form-group clearfix">
                    <button type="submit" class="btn-block btn btn-primary pl20 pr20 pull-right"
                            onclick='ga("send", "event", "email register button", "clicked", "login modal");'>注册
                    </button>
                </div>
                                <div class="text-muted text-center more-login-area">
    <span class="more-login-words">更多登录方式</span>
</div>
<div class="widget-login mb15 text-center">
    <a href="/user/oauth/google" class=""
       onclick='ga("send", "event", "3rd login button", "clicked", "login modal", {media: "google"});'><span
                class="icon-sn-google"></span></a>
    <a href="/user/oauth/github" class=""
       onclick='ga("send", "event", "3rd login button", "clicked", "login modal", {media: "github"});");'><span
                class="icon-sn-github"></span></a>
    <a href="/user/oauth/weibo" class=""
       onclick='ga("send", "event", "3rd login button", "clicked", "login modal", {media: "weibo"});'><span
                class="icon-sn-weibo"></span></a>
    <a href="/user/oauth/qq" class=""
       onclick='ga("send", "event", "3rd login button", "clicked", "login modal", {media: "qq"});'><span
                class="icon-sn-qq"></span></a>
    <a href="/user/oauth/weixin" class=""
       onclick='ga("send", "event", "3rd login button", "clicked", "login modal", {media: "qq"});'><span
                class="icon-sn-weixin"></span></a>
    <a href="/user/oauth/linkedin" class=""
       onclick='ga("send", "event", "3rd login button", "clicked", "login modal", {media: "linkedin"});'><span
                class="icon-sn-linkedin"></span></a>
    <span id="loginShowMore" style="cursor: pointer" class="mb5"><span class="icon-sn-dotted"></span></span>
    <a href="/user/oauth/twitter" class=" hidden"
       onclick='ga("send", "event", "3rd login button", "clicked", "login modal", {media: "twitter"});'><span
                class="icon-sn-twitter"></span></a>
    <a href="/user/oauth/facebook" class=" hidden"
       onclick='ga("send", "event", "3rd login button", "clicked", "login modal", {media: "facebook"});'><span
                class="icon-sn-facebook"></span></a>
    <a href="/user/oauth/douban" class=" hidden"
       onclick='ga("send", "event", "3rd login button", "clicked", "login modal", {media: "douban"});'><span
                class="icon-sn-douban"></span></a>
</div>
<div class="form-group clearfix">
    <a class="btn-block btn btn-default pull-right pl20 pr20 
                        SFRegister
             "

            
        onclick='ga("send", "event", "email login button", "clicked", "login modal");'>
                    已有账号登录
            </a>
</div>
<p class="text-muted text-center mb15">登录即表示你同意网站的<a href="/tos" target="_blank">《服务条款》</a></p>            </form>
        </div>
    </div>
</script>
    <script id="phoneLoginModal" type="text/template">

    <div class="row bg-white login-modal phonelogin-modal">
        <div class="col-md-12 login-wrap">
            <form action="/api/user/phonelogin" method="POST" role="form" class="mt15">
                <div class="form-group">
                    <label for="phone" class="control-label required">手机号</label>
                    <input type="text" class="form-control phonelogin--phone" name="phone" tabindex="1" required placeholder="11 位手机号"
                           autocomplete="off">
                    <span class="help-block"></span>
                </div>

                <div class="form-group">
                    <label for="authCode" class="control-label required">验证码</label>
                    <div class="input-group">
                        <input type="text" class="form-control bindphone--code" name="authCode" placeholder="短信验证码">
                        <span class="input-group-btn">
                            <button class="btn btn-default user-bind__phone-vaild-btn" type="button">获取验证码</button>
                        </span>
                    </div>
                    <div class="col-sm-3"></div>
                </div>

                <div class="form-group">
                    <a 
                                                            href="/user/login"
                                class="SFRegister"
                                                >密码登录（手机号或 Email）</a>
                </div>
                <div class="form-group clearfix">
                    <button type="submit" class="btn-block btn btn-primary pull-right pl20 pr20" tabindex="3"
                            onclick='ga("send", "event", "email login button", "clicked", "login modal");'>登录
                    </button>
                </div>
            </form>
            <div class="text-muted text-center more-login-area">
    <span class="more-login-words">更多登录方式</span>
</div>
<div class="widget-login mb15 text-center">
    <a href="/user/oauth/google" class=""
       onclick='ga("send", "event", "3rd login button", "clicked", "login modal", {media: "google"});'><span
                class="icon-sn-google"></span></a>
    <a href="/user/oauth/github" class=""
       onclick='ga("send", "event", "3rd login button", "clicked", "login modal", {media: "github"});");'><span
                class="icon-sn-github"></span></a>
    <a href="/user/oauth/weibo" class=""
       onclick='ga("send", "event", "3rd login button", "clicked", "login modal", {media: "weibo"});'><span
                class="icon-sn-weibo"></span></a>
    <a href="/user/oauth/qq" class=""
       onclick='ga("send", "event", "3rd login button", "clicked", "login modal", {media: "qq"});'><span
                class="icon-sn-qq"></span></a>
    <a href="/user/oauth/weixin" class=""
       onclick='ga("send", "event", "3rd login button", "clicked", "login modal", {media: "qq"});'><span
                class="icon-sn-weixin"></span></a>
    <a href="/user/oauth/linkedin" class=""
       onclick='ga("send", "event", "3rd login button", "clicked", "login modal", {media: "linkedin"});'><span
                class="icon-sn-linkedin"></span></a>
    <span id="loginShowMore" style="cursor: pointer" class="mb5"><span class="icon-sn-dotted"></span></span>
    <a href="/user/oauth/twitter" class=" hidden"
       onclick='ga("send", "event", "3rd login button", "clicked", "login modal", {media: "twitter"});'><span
                class="icon-sn-twitter"></span></a>
    <a href="/user/oauth/facebook" class=" hidden"
       onclick='ga("send", "event", "3rd login button", "clicked", "login modal", {media: "facebook"});'><span
                class="icon-sn-facebook"></span></a>
    <a href="/user/oauth/douban" class=" hidden"
       onclick='ga("send", "event", "3rd login button", "clicked", "login modal", {media: "douban"});'><span
                class="icon-sn-douban"></span></a>
</div>
<div class="form-group clearfix">
    <a class="btn-block btn btn-default pull-right pl20 pr20 
                        SFLogin
             "

            
        onclick='ga("send", "event", "email login button", "clicked", "login modal");'>
                    注册新账号
            </a>
</div>
<p class="text-muted text-center mb15">登录即表示你同意网站的<a href="/tos" target="_blank">《服务条款》</a></p>        </div>
    </div>
</script>
<script id="bindPhoneModal" type="text/template">
    <div class="bg-white bindphone-model">
        <div class="alert alert-warning" role="alert">
            为了保证账号安全，请先绑定手机
        </div>
        <div>
            <form class="form-horizontal form__bindphone-apply" style="background-color:#fff;padding:0;">
                <div class="form-group ">
                    <label for="phoneNumber" class="col-sm-3 control-label required" >手机号码</label>
                    <div class="col-sm-6">
                        <input type="text" class="form-control bindphone--phone" id="phoneNumber" name="phone" placeholder="仅只支持大陆手机号">
                    </div>
                    <div class="col-sm-3"></div>
                </div>
                <div class="form-group">
                    <label for="authCode" class="col-sm-3 control-label required">验证码</label>
                    <div class="col-sm-6">
                        <div class="input-group">
                            <input type="text" class="form-control bindphone--code" name="code" placeholder="短信验证码">
                            <span class="input-group-btn">
                                <button class="btn btn-default user-bind__phone-vaild-btn" type="button">获取验证码</button>
                            </span>
                        </div>
                    </div>
                    <div class="col-sm-3"></div>
                </div>
            </form>
        </div>

    </div>
</script>


<script>
    window.serverTime = 1542361390000;
</script>

<script>
    (function (w) {
        w.SF = {
            staticUrl: "https://static.segmentfault.com/v-5bebf0aa"
        };
        w.SF.token = (function () {
    var _CUsmNo = //'cVR'
'0af'+//'cnk'
'90'+//'TRr'
'b'+//'4'
'9'+/* 'ji'//'ji' */''+'f'//'8q'
+//'nM'
'c6'+//'l1x'
'beb'+//'l'
'7'+//'FjV'
'b1'+'0e'//'s'
+//'guG'
'guG'+//'mc'
'cfe'+//'XL'
'e41'+'c0'//'l'
+'069'//'aR'
+//'x4u'
'45'+'9'//'exF'
, _G2bm = [[18,21]];

    for (var i = 0; i < _G2bm.length; i ++) {
        _CUsmNo = _CUsmNo.substring(0, _G2bm[i][0]) + _CUsmNo.substring(_G2bm[i][1]);
    }

    return _CUsmNo;
})();;
    })(window);

                var lock = {
        type: "",
        text: '',
        table: {"ban_post":[1,"\u4f60\u5df2\u7ecf\u88ab\u7981\u8a00, \u65e0\u6cd5\u8fdb\u884c\u6b64\u64cd\u4f5c, \u5982\u6709\u7591\u4e49\u8bf7\u63d0\u4ea4\u7533\u8bc9, \u6216\u8005\u53d1\u90ae\u4ef6\u5230pr@segmentfault.com"]}
    };

        var ddosMode = false;
    
        (function (currentUrl) {
        if (typeof URL != 'undefined') {
            var baseUrl = new URL('https://segmentfault.com');

            if (baseUrl.protocol != currentUrl.protocol
                || baseUrl.host != currentUrl.host) {
                window.location.href = baseUrl.protocol + '//' + baseUrl.host
                    + currentUrl.pathname + currentUrl.search + currentUrl.hash;
            }
        }
    })(window.location);
    </script>

             <script crossorigin src="https://static.segmentfault.com/v-5bebf0aa/3rd/assets.js"></script>
                 
        <script crossorigin src="https://static.segmentfault.com/v-5bebf0aa/blog/script/post.min.js"></script>
            

<script>
if (!!navigator.userAgent.match(/MicroMessenger/i)) {
    require.config({
        paths: { weixin_jsapi: '//res.wx.qq.com/open/js/jweixin-1.2.0' }
    });

    require(['weixin_jsapi'], function (wx) {
        var share = {"title":"Python\u4e4b\u8def--python\u57fa\u78402","desc":"day2\u5185\u5bb91\u3001\u5217\u8868\u3001\u5143\u7ec4\u64cd\u4f5c2\u3001\u5b57\u7b26\u4e32\u64cd\u4f5c3\u3001\u5b57\u5178\u64cd\u4f5c4\u3001\u96c6\u5408\u64cd\u4f5c5\u3001\u6587\u4ef6\u64cd\u4f5c6\u3001\u5b57\u7b26\u7f16\u7801\u4e0e\u8f6c\u78017\u3001\u5185\u7f6e\u51fd\u6570","link":"https:\/\/segmentfault.com\/a\/1190000016516921","imgUrl":"https:\/\/segmentfault.com\/img\/bVbhO5f?w=720&amp;h=398"};
        share.title += ' - SegmentFault 思否';

        $.getJSON('/api/util/weixin/jsapi', function (o) {
            methods = o.data.jsApiList.slice();

            wx.config(o.data);
            wx.error(console.error);
            wx.ready(function () {
                methods.forEach(function (method) {
                    wx[method](share);
                });
            });
        });
    });
}
</script>

<script>
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-918487-8']);
    _gaq.push(['_trackPageview']);
    (function (i, s, o, g, r, a, m) {
        i['GoogleAnalyticsObject'] = r;
        i[r] = i[r] || function () {
                    (i[r].q = i[r].q || []).push(arguments)
                }, i[r].l = 1 * new Date();
        a = s.createElement(o),
                m = s.getElementsByTagName(o)[0];
        a.async = 1;
        a.src = g;
        m.parentNode.insertBefore(a, m)
    })(window, document, 'script', '//www.google-analytics.com/analytics.js', 'ga');

                
        

            

    ga('create', 'UA-918487-8', 'auto', {
        'userID'
    : 0,
        'createdTime'
    : 0,
        'now'
    : 1542361390,
        'allowLinker'
    : true });
    ga('require', 'linker');
    ga('linker:autoLink', ['docs.segmentfault.com'] );
    ga('set', 'dimension1', 'guest');
    ga('send', 'pageview');

</script>

<script>
    var _hmt = _hmt || [];
    (function () {
        var hm = document.createElement("script");
        hm.src = "//hm.baidu.com/hm.js?e23800c454aa573c0ccb16b52665ac26";
        var s = document.getElementsByTagName("script")[0];
        s.parentNode.insertBefore(hm, s);
    })();
</script>



</body>
</html>

