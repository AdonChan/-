

<!DOCTYPE HTML><html lang="zh-CN"><head><meta charset="UTF-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1"/><meta name="renderer" content="webkit"/><meta property="qc:admins" content="15317273575564615446375"/><meta property="og:image" content="https://static.segmentfault.com/v-5bebf0aa/global/img/touch-icon.png"/><meta name="viewport"
              content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no"/><meta name="alexaVerifyID" content="LkzCRJ7rPEUwt6fVey2vhxiw1vQ"/><meta name="apple-itunes-app" content="app-id=958101793, app-argument="><title>开发拾遗 - 技术分享 - SegmentFault 思否</title><meta name="description" content="// chrome同时支持&#039;-&#039;和&#039;/&#039;分割日期的时间字符串；safari不支持&#039;-&#039;分割日期的时间字符串"/><meta name="keywords" content="linux,mysql,python,javascript,php"/><link rel="search" type="application/opensearchdescription+xml" href="/opensearch.xml" title="SegmentFault"/><link rel="shortcut icon" href="https://static.segmentfault.com/v-5bebf0aa/global/img/favicon.ico"/><link rel="apple-touch-icon" href="https://static.segmentfault.com/v-5bebf0aa/global/img/touch-icon.png"><meta name="msapplication-TileColor" content="#009a61"/><meta name="msapplication-square150x150logo" content="https://static.segmentfault.com/v-5bebf0aa/global/img/touch-icon.png"/><meta name="baidu_union_verify" content="bcf7fd80dca60d53d46d5b46e1b990ca"><link rel="alternate" type="application/atom+xml" title="SegmentFault 最新问题" href="/feeds/questions"><link rel="alternate" type="application/atom+xml" title="SegmentFault 最新文章" href="/feeds/blogs"><link rel="stylesheet" href="https://static.segmentfault.com/v-5bebf0aa/global/css/global.css"/><link rel="stylesheet" href="https://static.segmentfault.com/v-5bebf0aa/blog/css/blog.css"/><link rel="stylesheet" href="https://static.segmentfault.com/v-5bebf0aa/global/css/responsive.css"/><script type='text/javascript' src='https://sponsor.segmentfault.com/spcjs.php?id=1&block=1&repu=0&tag=linux,mysql,python,javascript,php'></script></head><!-- 推荐引擎 --><script charset="utf-8" id="ParadigmSDK" src="https://nbrecsys.4paradigm.com/sdk/js/ParadigmSDK_v2.js" data="216" defSI="594"></script><script>
    ParadigmSDK.init("46e957bd9dea4acdaa15b4b64aff728f");
    ParadigmSDK.trackDetailPageShow();
</script><body data-mod="blog"
    class="blog-post "><!--[if lt IE 9]><div class="alert alert-danger topframe" role="alert">你的浏览器实在<strong>太太太太太太旧了</strong>，放学别走，升级完浏览器再说 <a target="_blank" class="alert-link" href="http://browsehappy.com">立即升级</a></div><![endif]--><img id="icon4weChat" style="height: 0;width: 0;" src="https://static.segmentfault.com/v-5bebf0aa/global/img/touch-icon-512.png"><div id="gridMapHoverBox" style="position:absolute; border: 1px solid #009a61; z-index:99; font-size: 10px; background:#fff"></div><div class="global-nav sf-header sf-header--index"><div class="bottom-nav visible-xs visible-sm "><div class="opts"><a class="opts-group " href="/"><i class="fa fa-home" aria-hidden="true"></i><span>首页</span></a><a class="opts-group " href="/questions"><i class="fa fa-comments" aria-hidden="true"></i><span>问答</span></a><a class="opts-group active" href="/blogs"><i class="fa fa-pencil-square" aria-hidden="true"></i><span>专栏</span></a><a class="opts-group " href="/lives"><i class="fa fa-play-circle" aria-hidden="true"></i><span>讲堂</span></a><div class="opts-group"><div class="btn-group dropup"><i class="fa fa-bars dropdown hoverDropdown" data-toggle="dropdown" aria-hidden="true"><span>更多</span></i><ul class="dropdown-menu"><li><a href="/jobs">职位</a></li><li><a href="/events">活动</a></li><li><a href="/tags">标签</a></li><li><a href="/badges">徽章</a></li></ul></div></div></div></div><nav class="container nav"><div class="visible-xs visible-sm header-response"><a href="/search" style="display:block"><i class="fa fa-search" aria-hidden="true"></i></a><div class="sf-header__logo sf-header__logo--response"><h1><a href="/" style="height:24px; background-size: auto 24px;"></a></h1></div><a href="/user/login" class="pull-right login-btn"><i class="fa fa-user" aria-hidden="true"></i></a></div><script>
mobileScroll(
    function(direction) { 
        try {
            if (direction === 'down') {
                document.querySelector('.bottom-nav').classList.add('hidden')
            } else {
                document.querySelector('.bottom-nav').classList.remove('hidden')
            }
        } catch(err) {}
    }
);    
function mobileScroll( fn ) {
    var beforeScrollTop = document.documentElement.scrollTop || document.body.scrollTop,
        fn = fn || function() {};
    window.addEventListener("scroll", function() {
        var afterScrollTop = document.documentElement.scrollTop || document.body.scrollTop,
            delta = afterScrollTop - beforeScrollTop;
        if( delta === 0 ) return false;
        fn( delta > 0 ? "down" : "up" );
        beforeScrollTop = afterScrollTop;
    }, false);
}
</script><div class="row hidden-xs hidden-sm"><div class="col-sm-8 col-md-9 col-lg-9"><div class="sf-header__logo"><h1><a href="/">SegmentFault</a></h1></div><div><ul class="menu list-inline pull-left hidden-xs"><li class="menu__item"><a href="/" class="">首页</a></li><li class="menu__item"><a href="/questions" class="">问答</a></li><li class="menu__item"><a href="/blogs" class="active-nav">专栏</a></li><li class="menu__item"><a href="/lives" class="">讲堂</a></li><li class="menu__item menu__item--more dropdown"><a href="##" class="dropdown-toggle dropdownBtn" data-toggle="dropdown">
                                        发现<i class="fa fa-caret-down" style="font-size: 14px;margin-left: 5px;" aria-hidden="true"></i></a><div class="dropdown-block hidden"><ul class="dropdown-content-menu"><li><a href="/groups">圈子</a></li><li><a href="/events">活动</a></li><li><a href="/tags">标签</a></li><li><a href="/jobs">找工作</a></li><li><a href="/users">排行榜</a></li><li><a href="/badges">徽章</a></li><li><a href="/notes">笔记</a></li><li><a href="https://docs.segmentfault.com" target="_blank">开发手册<i style="line-height: 20px;font-size: 12px;color: #F5A623;" class="ml10 fa fa-external-link-square"></i></a></li><li><a href="https://business.segmentfault.com/ads?utm_source=sf-header" target="_blank">广告投放<i style="line-height: 20px;font-size: 12px;color: #F5A623;" class="ml10 fa fa-external-link-square"></i></a></li></ul></div></li><li class="menu__item visible-sm-inline-block"><a href="/search"><span class="glyphicon glyphicon-search" style="vertical-align: middle;"></span></a></li></ul><form action="/search" class="header-search  hidden-sm hidden-xs pull-right" ><button class="btn btn-link"><span class="sr-only">搜索</span><span class="glyphicon glyphicon-search"></span></button><input id="searchBox" name="q" type="text"  placeholder="搜索问题或关键字" class="form-control" value="" /></form></div></div><div class="col-sm-4 col-md-3 col-lg-3 text-right"><ul class="opts list-inline hidden-xs"><li class="opts__item"><a href="/user/login" class="SFRegister btn-signin" style="margin-bottom:2px;">立即登录</a><a href="/user/register" class="SFLogin ml10 btn-signup"
                                       onClick="_gaq.push(['_trackEvent', 'Button', 'Click', 'Login']);">免费注册</a></li></ul></div></div></nav></div>
    
<input id="articleId" value="1190000005128780" class="hidden" />

<div class="wrap" data-blogid="1200000000490097">
    <div class="container mt15" style="position:relative">
        <div class="row">
            <div class="col-xs-12 col-md-9 main ">
                                <ol class="breadcrumb mb15">
                    <li><a href="/blogs">专栏</a></li>
                                        <li><a href="/blog/susheng">技术分享</a></li>
                                        <li class="active">文章详情</li>
                </ol>
                                <div class="post-topheader custom- pt0">
                    <div class="mb20">
                        <div class="block-for-right-border">
                            <div class="row">
                                <div class="col-md-12 col-sm-12 col-xs-12">
                                

                                    <div class="post-topheader__info" data-username="苏生不惑"
                                         data-userslug="sushengbuhuo"
                                         data-useravatar="https://avatar-static.segmentfault.com/175/934/175934663-572d654c6f521_big64">


                                        <div class="article__author clearfix">
                                            <div class="article__authorleft">
                                                <a href="/u/sushengbuhuo">
                                                    <img class="avatar-40" src="https://avatar-static.segmentfault.com/175/934/175934663-572d654c6f521_big64" alt="苏生不惑">
                                                </a>
                                            </div>
                                            <div class="article__authorright">
                                                <div class="article__authormeta">
                                                <a href="/u/sushengbuhuo" class="mr5 "><strong>苏生不惑</strong></a>

                                                                                                <img src="https://static.segmentfault.com/v-5bebf0aa/global/img/rp.svg" class="mr5"><span style="color:#BF7158" class="mr10">17.3k</span>

                                                                                                发布于
                                                <a href="/blog/susheng">技术分享</a>
                                                
                                                
                                                <span class="hidden-xs">
                                                                                                                                                          <button type="button"
                                                               class="btn btn-xs btn-success follow-article ml10"
                                                               data-do="follow"
                                                               data-type="blog"
                                                               data-id="1200000000490097">关注专栏
                                                       </button>
                                                                                                                                                   </span>
                                                </div>
                                                
                                                <span style="display: block">
                                                    2016-05-15 发布
                                                </span>
                                            </div>
                                        </div>

                                        <h1 class="h1 post-topheader__info--title" id="articleTitle" data-id="1190000005128780">
                                            <a href="/a/1190000005128780"> 开发拾遗</a>
                                        </h1>

                                        <div class="content__tech hidden-xs">
                                            <a href="" class="blog-type-common blog-type-0-before" target="_blank" data-content="
                                                                                        翻译自 
                                                                                        "></a>
                                            
                                            <ul class="taglist--inline inline-block article__title--tag mr10">
                                                                                                    <li class="tagPopup mb5">
                                                        <a class="tag" href="/t/linux/blogs" data-toggle="popover"
                                                                                data-img="https://avatar-static.segmentfault.com/329/062/3290625956-1040000000089392_big64" data-placement="top"
                                                                                data-original-title="linux"
                                                                                data-id="1040000000089392">
                                                                                                                      linux
                                                        </a>
                                                    </li>
                                                                                                    <li class="tagPopup mb5">
                                                        <a class="tag" href="/t/mysql/blogs" data-toggle="popover"
                                                                                data-img="https://avatar-static.segmentfault.com/164/722/1647222906-1040000000089439_big64" data-placement="top"
                                                                                data-original-title="mysql"
                                                                                data-id="1040000000089439">
                                                                                                                    <img src="https://avatar-static.segmentfault.com/949/844/9498447-54cb56e325a72_small">
                                                                                                                      mysql
                                                        </a>
                                                    </li>
                                                                                                    <li class="tagPopup mb5">
                                                        <a class="tag" href="/t/python/blogs" data-toggle="popover"
                                                                                data-img="https://avatar-static.segmentfault.com/378/252/3782524817-1040000000089534_big64" data-placement="top"
                                                                                data-original-title="python"
                                                                                data-id="1040000000089534">
                                                                                                                    <img src="https://avatar-static.segmentfault.com/252/177/2521771040-54cb53b372821_small">
                                                                                                                      python
                                                        </a>
                                                    </li>
                                                                                                    <li class="tagPopup mb5">
                                                        <a class="tag" href="/t/javascript/blogs" data-toggle="popover"
                                                                                data-img="https://avatar-static.segmentfault.com/195/823/1958237468-1040000000089436_big64" data-placement="top"
                                                                                data-original-title="javascript"
                                                                                data-id="1040000000089436">
                                                                                                                      javascript
                                                        </a>
                                                    </li>
                                                                                                    <li class="tagPopup mb5">
                                                        <a class="tag" href="/t/php/blogs" data-toggle="popover"
                                                                                data-img="https://avatar-static.segmentfault.com/188/805/188805810-1040000000089387_big64" data-placement="top"
                                                                                data-original-title="php"
                                                                                data-id="1040000000089387">
                                                                                                                      php
                                                        </a>
                                                    </li>
                                                                                            </ul>

                                            <span>
                                                1.7k 次阅读
                                                &nbsp;&middot;&nbsp;
                                                读完需要 105 分钟 
                                                                            </span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div><!-- end .post-topheader -->

                <div class="visible-lg">
                    <div class="side-widget">
                        <div class="stream__item-zan btn btn-default mt0 mb15 ml0 mr0 pt0 pb0 pl0 pr0 " id="side-widget-votes-btn">
                            <span class="stream__item-zan-icon"></span>
                            <span class="stream__item-zan-number" id="side-widget-votes-num">2</span>
                        </div>

                        <i class="fa fa-bookmark item " id="side-widget-bookmarks-btn"></i>
                        <i class="fa fa-weibo item"></i>
                        <i class="fa fa-weixin item" data-toggle="popover" data-placement="right"></i>
                        <i class="fa fa-twitter item"></i>
                        <i class="fa fa-facebook item"></i>
                        <i class="fa fa-arrow-up item hidden"></i>
                    </div>
                </div>

                
                <div class="article fmt article__content" data-id="1190000005128780" data-license="cc">
                    
<h3>python unicode字符串转成中文</h3>
<pre><code class="php">s = 'u6d4bu8bd5u957fu5ea6' 
s = s.replace('u', '\u') 
print s.decode('unicode-escape')</code></pre>
<h3>php 二进制直接量</h3>
<pre><code class="php">$bin = bindec('110011');  
$bin = 0b110011;</code></pre>
<h3>php foreach list</h3>
<pre><code class="php">$arr = [
    [1, 2],
    [3, 4],
];
foreach ($arr as list($a, $b)) {
    echo $a.$b\n";
}</code></pre>
<h3>PHP ==和隐式转换</h3>
<pre><code class="php">var_dump(md5('240610708') == md5('QNKCDZO'));// true  两个字符串恰好以0e 的科学记数法开头，字符串被隐式转换为浮点数，也就等效于0×10^0
var_dump(sha1('aaroZmOk') == sha1('aaK1STfY'));// true
var_dump('0x1234Ab' == '1193131');// true 0x1234Ab转为16进制，php7无此bug
var_dump( 0 == "a" );// true
var_dump( "0" == "a" );// true</code></pre>
<h3>== 、switch、in_array 的松比较</h3>
<pre><code class="php">// 如果 $name 值为 0，那么它会满足任何一条 case
switch ($name) {// 使用switch (strval($name)) {
    case "danny":
        break;
    case "eve":
        break;
}
$needle = '1abc'; 
$haystack = array(1,2,3); 
var_dump(in_array($needle, $haystack);// true</code></pre>
<h3>javascript Date对象的浏览器兼容性问题</h3>
<p>// chrome同时支持'-'和'/'分割日期的时间字符串；safari不支持'-'分割日期的时间字符串</p>
<pre><code class="php">var arr = "2010-03-15 10:30:00".split(/[- / :]/),
    date = new Date(arr[0], arr[1]-1, arr[2], arr[3], arr[4], arr[5]);</code></pre>
<h3>javascript 模拟Object.keys()</h3>
<pre><code class="php">function keys(obj){
  var a = [];
  for(a[a.length] in obj);
  return a;
}</code></pre>
<h3>javascript数组去重</h3>
<pre><code class="php">function dedupe(array){
    return Array.from(new Set(array));
}

dedupe([1,1,2,3]) //[1,2,3]</code></pre>
<h3>工具</h3>
<p>// 命令行提示tldr npm install -g tldr</p>
<p><span class="img-wrap"><img src="https://segmentfault.com/img/bVvGoP" src="https://static.segmentfault.com/v-5bebf0aa/global/img/squares.svg" alt="clipboard.png" title="clipboard.png"></span><br><a href="http://t.cn/RvPSh2A" rel="nofollow noreferrer">octotree</a> 是一款可为 GitHub 和 GitLab 添加侧边栏文件导航的 Chrome 和 Opera 插件<br><a href="http://t.cn/Rqgl2j7" rel="nofollow noreferrer">python下载视频工具</a></p>
<h3>Sublime Text3 汉化</h3>
<p>// Package Control：Install Package，输入Chinese，选择ChineseLocalization</p>
<h3>javascript reduce</h3>
<pre><code class="php">arr = [1,2,3,4,5] 
arr.reduce(function(a,b){ 
return a*10+b; 
});//12345
var result = [1, 2, 3, 4, 5].reduce(function(prev, curr, index, array){
debugger;
    prev.push(curr * 2);
    return prev;
}, []);
console.log(result);//[2, 4, 6, 8, 10]
//求最大值
var max = arr.reduce(function(pre,cur,inde,arr){return pre&gt;cur?pre:cur;});
var arr = [ {name: 'brick1'}, {name: 'brick2'}, {name: 'brick3'} ]
function carryBricks(arr){
  return arr.reduce(function(prev, current, index, array){
    if (index === 0){
      return current.name;
    }
    else if (index === array.length - 1){
      return prev + ' &amp; ' + current.name;
    }
    else {
      return prev + ', ' + current.name;
    }
  }, '');
 }//brick11, brick12 &amp; brick13
//去重
var arr = [1, 3, 1, 'x', 'zz', 'x', false, false];
var result = arr.reduce(function(prev, curr, i, array) {
    var flag = prev.every(function(value) {
        return value !== curr;
    });
    flag &amp;&amp; prev.push(curr);
    return prev;
}, []);
console.log(result);</code></pre>
<h3>jquery插件</h3>
<p>输入提示自动完成插件<a href="http://loopj.com/jquery-tokeninput/" rel="nofollow noreferrer">tokeninput</a><br><a href="http://tablesorter.com/docs/" rel="nofollow noreferrer">tablesorter</a> 表格排序<br><a href="https://github.com/datejs/Datejs" rel="nofollow noreferrer">Date.js</a>执行日期/时间的计算<br><a href="https://github.com/fengyuanchen/cropper" rel="nofollow noreferrer">图片裁剪</a><br><a href="http://amsul.ca/pickadate.js/" rel="nofollow noreferrer">日期选择插件pickadate.js</a><br><a href="http://rangeslider.js.org/" rel="nofollow noreferrer">javascript刻度条插件</a></p>
<h3>0.1+0.2</h3>
<pre><code class="php">Math.round( (.1+.2)*100)/100; //0.3</code></pre>
<h3>mysql分解联合查询</h3>
<pre><code class="php">select * from teacher 
join school on teacher.id = school.id
join course on teacher.id = course.id
where course.name= 'english'  

分解后 
select * from course where name = 'english'
select * from  school where course_id = 1
select * from teacher where school_id in (1,2,3) </code></pre>
<h3>字符串中每个字母重复出现的次数</h3>
<pre><code class="php"> var temp = {};
   'abcdaabc'.replace(/(\w{1})/g,function($1){
        temp[$1] ? temp[$1]+=1 : temp[$1] = 1;
    })
    console.log(temp) // {a: 3, b: 2, c: 2, d: 1}</code></pre>
<h3>composer</h3>
<p><a href="https://github.com/guzzle/guzzle" rel="nofollow noreferrer">PHP HTTP请求套件</a><br><a href="http://t.cn/RqgjNMz" rel="nofollow noreferrer">实现 Laravel 模型的无限极分类</a></p>
<h3>php一维数组 转 多维数组</h3>
<pre><code class="php">$arr = ['a', 'b', 'c', 'd'];
$child = array();
$res = [];
while($v = array_pop($arr)) {
    $res = [$v =&gt; $child];
    $child = $res;
}</code></pre>
<h3>python中字符串的按位或</h3>
<pre><code class="php">a = "1000111000"
b = "1000000001"

c = int(a, 2) | int(b, 2)

print('{0:b}'.format(c))#1000111001</code></pre>
<h3>python生成斐波拉契数列</h3>
<pre><code class="php">def fib(max):
    n, a, b = 0, 0, 1
    while n &lt; max:
        print(b)
        a, b = b, a + b
        n = n + 1
    return 'done'</code></pre>
<h3>php正则匹配</h3>
<pre><code class="php">$str="{a:1,b:2,c:3}"; 
preg_match_all('/(\w+):(\d+)/', $str, $matches); 
$arr = array_combine($matches[1], $matches[2]);#['a'=&gt;1,'b'=&gt;2,'c'=&gt;3]</code></pre>
<h3>php max/min</h3>
<pre><code class="php">max(ceil(-0.5), 0) # -0.0
max(0, ceil(-0.5)) # 0</code></pre>
<h3>NaN</h3>
<pre><code class="php">_.isNaN = function(obj){
    return _.isNumber(obj) &amp;&amp; obj !==+obj;
};</code></pre>
<h3>Mysql 用 一张表中的数据更新另一张表的数据</h3>
<p><code>update tableA as ca inner join tableB as cb set ca.thumbs=cb.thumbs where cb.courseid=1;</code><br>24.php后期静态绑定</p>
<pre><code class="php">class A {   
public static function get_self() {     
return new self();   
}      
public static function get_static() {     
return new static();   
} 
}   
 class B extends A {} 
get_class(B::get_self());//A 
get_class(B::get_static()) //B 
get_class(A::get_static());//A</code></pre>
<h3>json_encode输出动态javascript</h3>
<pre><code class="php">$images = array(  'myself.png' , 'friends.png' , 'colleagues.png' ); 
$js_code = 'var images = ' . json_encode($images);  
echo $js_code; // var images = ["myself.png","friends.png","colleagues.png"]</code></pre>
<h3>String.fromCharCode</h3>
<pre><code class="php">var regex_num_set = /&amp;#(\d+);/g;
var str = "Here is some text: &amp;#27599;&amp;#26085;&amp;#19968;&amp;#33394;|&amp;#34013;&amp;#30333;~"

str2 = str.replace(regex_num_set, function(_, $1) {
  return String.fromCharCode($1);
});//"Here is some text: 每日一色|蓝白~"</code></pre>
<h3>日期格式补0</h3>
<pre><code class="php">"2015-5-2".replace(/(?=\b\d\b)/g, '0')#"2015-05-02"
"2015-5-2".replace(/-(\d)(?=-|$)/g, '-0$1')#"2015-05-02"</code></pre>
<h3>array_merge如果传的参数中有一个不是数组；则返回null</h3>
<pre><code class="php">$arr = [1,2,3];
$new = '';
array_merge($arr, $new);//null
array_merge($arr, (array)$new);</code></pre>
<h3>php switch使用的是==比较；而不是===</h3>
<pre><code class="php">switch (0) {//switch (strval(0))
    case 'test1':
        echo 1;
    case 'test2':
        echo 2;
    case 'test3':
        echo 3;
        break;
}</code></pre>
<h3>javascript数组的map方法对一个数组中的空位置(没有设置过值或值被删除)不会调用提供的callback回调函数</h3>
<pre><code class="php">var arr=[1,,3];//第2个位置为空位置
 
var result=arr.map(function(x){
     console.log(x);
     return x + 1;//2,undefined,4
});
arr[1]=undefined;//第2个位置为非空位置，有值undefined
result=arr.map(function(x){
     console.log(x);
     return x + 1;//2,NaN,4
});</code></pre>
<h3>setTimeout传入参数</h3>
<pre><code class="php">for(var i = 0; i&lt;data.length; i++){
    (function(i){
    setTimeout(function (){
        console.log(data[i])
    },2000);
    })(i)
}
//es6
for(let i = 0; i&lt;data.length; i++){
    setTimeout(function (){
        console.log(data[i])
    },2000);
}</code></pre>
<h3>循环中promise</h3>
<pre><code class="php">var userIds = ['aaa', 'bbb', 'ccc'];

//这里getUserById返回的是Promise
var promises = arr.map(userIds =&gt; getUserById(userId));

Promise
    .all(promises)
    .then(function(users) {
        console.log(users); //这里就是users的列表了
    });</code></pre>
<h3>hasClass</h3>
<pre><code class="php">function hasClass(element, cName) {
  return (' ' + element.className + ' ').indexOf(' ' + cName + ' ') &gt; -1;
}</code></pre>
<h3>补零</h3>
<pre><code class="php">"2016-1-9 12：12:20".replace(/-(\d)(?=-|\s)/g, '-0$1')
var str = '2016-1-9 12:12:20';
var ss = str.replace(/-([0-9]+)/g, function(match, p) {
    return p.length !== 1 ? match : '-0' + p;
});</code></pre>
<h3>getUrlParameter</h3>
<pre><code class="php">var getUrlParameter = function getUrlParameter(sParam) {
    var sPageURL = decodeURIComponent(window.location.search.substring(1)),
        sURLVariables = sPageURL.split('&amp;'),
        sParameterName,
        i;

    for (i = 0; i &lt; sURLVariables.length; i++) {
        sParameterName = sURLVariables[i].split('=');

        if (sParameterName[0] === sParam) {
            return sParameterName[1] === undefined ? true : sParameterName[1];
        }
    }
};</code></pre>
<h3>随机数</h3>
<pre><code class="php">Math.round(Math.random() * 1000)//生成0~1000之间的随机整数
((Math.random() * 10 + 5).toFixed(1) - 0)//产生一个5到15之间，包含一位小数的随机数Math.floor((Math.random() * 10 + 5) * 10) / 10</code></pre>
<h3>显示隐藏元素</h3>
<pre><code class="php">window.onload=function(){  
    var li=document.getElementsByTagName("li");    
      for(var j=0;j&lt;li.length;j++){ 
       li[j].onclick=function (){        
        for(var i=0;i&lt;li.length;i++){     
           li[i].className='';       
        }         
        this.className='a';       
      }
   }
};</code></pre>
<h3>判断一个json对象中是否含有某个key</h3>
<pre><code class="php">function find (obj, key) {
    if (! typeof obj === 'object') return false;
    if (key in obj) return true;
    for (var k in obj) if find(obj[k], key) return true;
    return false;
}</code></pre>
<h3>数组合并</h3>
<pre><code class="php">array = [[1,2,3],[4,5,6],[7,8,9]];
array=array.reduce(function(a,b){return a.concat(b)})//[1,2,3,4,5,6,7,8,9]
array.concat.apply([], array);</code></pre>
<h3>区间索引</h3>
<pre><code class="php">function getRangeIndex(scrollTop) {
    var i=0;
    ranges = [2,3,6,22,88];
    for (;i&lt;ranges.length;i++) 
        if (scrollTop&lt;ranges[i]) break;
    return i-1;
}</code></pre>
<h3>快速生成一个数组，数组的元素是前N个自然数</h3>
<pre><code class="php">let f = length =&gt; Array.from({length}).map((v,k) =&gt; k);
let f = length =&gt; [...Array.from({length}).keys()]
let fn = len =&gt; Object.keys(new Array(len + 1).join(','))</code></pre>
<h3>每取10行放到一个新的文件中</h3>
<pre><code class="php">with open('file.txt') as reader, open('newfile.txt', 'w') as writer:
    for index, line in enumerate(reader):
        if index % 10 == 0:
            writer.write(line)</code></pre>
<h3>按首字母排序</h3>
<pre><code class="php">var arr = [9,8,7,6,5,1,'在', '我', '里', '阿','z','a','h','m'];
arr.sort(function(a,b){return a.toString().localeCompare(b)}) //[1, 5, 6, 7, 8, 9, "阿", "里", "我", "在", "a", "h", "m", "z"]</code></pre>
<h3>删除字符串的空格</h3>
<pre><code class="php">$str='                            Controllable Eu valence for photoluminescence tuning in apatite-typed';
//pC:所有的unicode“other” pZ:所有的unicode“separator” ,所有空格和不可见字符
echo $str = preg_replace('/^[\pZ\pC]+|[\pZ\pC]+$/u','',$str);//Controllable Eu valence for photoluminescence tuning in apatite-typed</code></pre>
<h3>PHP解析JSON得到科学计数法后的int</h3>
<pre><code class="php">$json = '{"number": 12345678901234567890}';
var_dump(json_decode($json,1));//[ "number" =&gt; 1.2345678901235e+19]
var_dump(json_decode($json,1, 512, JSON_BIGINT_AS_STRING));//["number" =&gt; "12345678901234567890"]
//http://cn2.php.net/manual/zh/function.json-decode.php</code></pre>
<h3>MySQL中所有数据库的数据大小</h3>
<pre><code class="php">SELECT table_schema, (
(
SUM( DATA_LENGTH ) + SUM( INDEX_LENGTH )
) /1024 /1024
) AS datasize
FROM  `TABLES`
GROUP BY table_schema
LIMIT 0 , 30
</code></pre>
<h3>合并数组</h3>
<pre><code class="php">//一般会用Array.prototype.concat()函数，但不适合来合并两个大型数组，会消耗大量内存来存储新创建的数组。可用Array.prototype.push来替代创建一个新数组，可减少内存的使用。
var array1 = [1,2,3];
var array2 = [4,5,6];
console.log(array1.push.apply(array1, array2)); // [1,2,3,4,5,6];
console.log(array1.push.call(array1, array2)); // [1,2,3,[4,5,6]];</code></pre>
<h3>php上传文件</h3>
<pre><code class="php">$tmp_name='test.jpg';
    if(version_compare(phpversion(),'5.5.0') &gt;= 0 &amp;&amp; class_exists('CURLFile')){
        $fields['file'] = new CURLFile(realpath($tmp_name));
    }else{
        $fields['file'] = '@'.$tmp_name;//加@符号curl就会把它当成是文件上传处理
    }</code></pre>
<h3>php stdclass</h3>
<pre><code class="php">$tanteng = new stdClass();
$tanteng-&gt;name = 'tanteng';
$tanteng-&gt;email = 'xxx@qq.com';
 //把定义的对象『转换』成数组
$info = get_object_vars($tanteng);
$user = new stdClass();
$user-&gt;name = 'gouki';
$user-&gt;hehe = 'hehe';
$myUser = $user;
$myUser-&gt;name = 'flypig';
 //$myUser的属性确实改变了$user声明的stdClass属性。而如果$user是一个数组，赋值给$myUser，那就拷贝了一个副本给$myUser，这样增大系统开销
print_r($user);
 
print_r($myUser);
 
print_r($user);</code></pre>
<h3>PHP浮点数运算精度</h3>
<pre><code class="php">$a = 69.1;
 
$b = $a*100;
 
$c = $b-6910;//-9.0949470177293E-13

$c = round($b)-6910;
$x = 8 - 6.4;  // which is equal to 1.6
$y = 1.6;
var_dump($x == $y); // is not true
var_dump(round($x, 2) == round($y, 2)); // this is true
$a = intval( 0.58*100 );//57
 
$b = 0.58*100;
$a = intval( (0.58*1000)/10 );//58
intval( round(0.58*100 ));//58</code></pre>
<h3>防止浏览器屏蔽window.open</h3>
<pre><code class="php">&lt;button onclick=“test()”&gt;点击&lt;/button&gt;
&lt;script&gt;
    function test(){
        var frame=window.open(“about:blank”,“_blank”);
        $.get(“/”,function(){
            frame.location=“http://www.baidu.com”;
        });
    }
&lt;/script&gt;</code></pre>
<h3>修改session_id的保存位置</h3>
<pre><code class="php">session_set_cookie_params(0,‘/’,‘testdomain’);
session_start();//开启session
echo ‘Old Session id:’.session_id().‘&lt;br&gt;’;
session_regenerate_id(true);//重置session_id，并使原session无效
echo ‘New Session id:’.session_id().‘&lt;br&gt;’;
//echo session_id()失效
setcookie(session_name(),session_id(),0,‘/’,‘testdomain’);//手动更新session_id</code></pre>
<h3>CRUL命令简单分析请求细节所占用的时间</h3>
<pre><code class="php">curl -o /dev/null -s -w %{http_code}:%{time_namelookup}:%{time_redirect}:%{time_pretransfer}:%{time_connect}:%{time_starttransfer}:%{time_total}:%{speed_download} www.baidu.com
//这个例子是分析一次百度的请求各个参数：http状态码、DNS解析时间、重定向时间、从开始到准备传输的时间、TCP连接时间、开始传输时间、总时间、下载速度CURL文档：https://curl.haxx.se/docs/manpage.html</code></pre>
<h3>php上周时间</h3>
<pre><code class="php">echo '&lt;br&gt;上周起始时间:&lt;br&gt;';
echo date("Y-m-d H:i:s",mktime(0, 0 , 0,date("m"),date("d")-date("w")+1-7,date("Y"))),"\n";
echo date("Y-m-d H:i:s",mktime(23,59,59,date("m"),date("d")-date("w")+7-7,date("Y"))),"\n";

echo date("Y-m-d",strtotime('-1 week last monday'))." 00:00:00";
echo date("Y-m-d",strtotime('last sunday'))." 23:59:59";
//当前时间的上一周时间  每周时间固定为7天
date('Y-m-d', strtotime('-1 week'))
//如果当前日期为2016-5-31, 用date('Y-m-d', strtotime('-1 month'))会产生错误。因为这里把 -1 month按照-30 days来算
date('Y-m-d', strtotime('2016-05-31 -1 month')) = 2016-05-01
date('Y-m-d', strtotime('2016-01-31 +1 month')) = 2016-03-02
//如果需要取当前月的前后月份的话，需要小心，正确做法可以改为
date('m', strtotime(date('Y-m-1').' -1 month'))
date('m', strtotime(date('Y-m-1').' +1 month'))</code></pre>
<h3>{ "a":"1","b":"2"} 变成 "a:1;b:2"</h3>
<pre><code class="php">var obj = {"a":"1","b":"2","c":"3"};
var str = $.map(obj,function(n,index){return ''+index+':'+n;}).join(';');//"a:1;b:2;c:3"
var str = JSON.stringify(obj).replace(/"|{|}/g, "").replace(/,/g, ";")
Object.keys({"a":"1","b":"2"}).map(function(key){return key+':'+info[key]}).join(';');</code></pre>
<h3>python格式化</h3>
<pre><code class="php">ips = (
    (1, '10.121.1.1:4730'),
    (2, '127.0.0.1:4730'),
    (3, '127.0.0.1:4730')
)

dic = {}
for v, k in ips:
    dic.setdefault(k, []).append((v, k))

print dic
{
    '10.121.1.1:4730':
        [(1, '10.121.1.1:4730')], 
    '127.0.0.1:4730':
        [(2, '127.0.0.1:4730'), (3, '127.0.0.1:4730')]
}</code></pre>
<h3>PHP生成连续数据</h3>
<pre><code class="php">$numbers = array(0, 1, 3, 5, 6, 8, 10);
sort($numbers);
$new = range(array_shift($numbers),end($numbers));//[0 1 2 3 4 5 6 7 8 9 10]
$a = [0,1,3,5,6,8,10];//原始数据
sort($a);
range(array_shift($a),array_pop($a));</code></pre>
<h3>javascript对象复制</h3>
<pre><code class="php">function clone(e) {
    var t = {};
    for (var n in e) e.hasOwnProperty(n) &amp;&amp; (t[n] = e[n]);
    return t;
}</code></pre>
<h3>过滤掉emoji表情</h3>
<pre><code>function filterEmoji($str)
{
    $str = preg_replace_callback(
            '/./u',
            function (array $match) {
                return strlen($match[0]) &gt;= 4 ? '' : $match[0];
            },
            $str);

     return $str;
 }</code></pre>
<h3>javascript选择器</h3>
<pre><code class="php">function $(selector, context) {
        context = context || document;
        var elements = context.querySelectorAll(selector);
        return Array.prototype.slice.call(elements);
    };</code></pre>
<h3>jquery对象对比,开发中要尽量先保存创建的jQuery对象，然后多次使用</h3>
<pre><code class="php">var elem1 = $("#navList li");
var elem2 = $("#navList li");
elem1 ==elem2;//false
//应该比较dom本身不是 jQuery对象
$('div') === $('div') //false
$('div')[0] === $('div')[0]//true</code></pre>
<h3>for 循环和异步调用的问题</h3>
<pre><code>for (var i = 0; i &lt; 6; i++) {
    // do 同步执行，里面的 i 是 0 
    do(i).then(function() {
       // another 异步执行，此时 i 已经是循环后的6
        another(i)
    })
}
//使用闭包保存变量的方式来解决
for (var i = 0; i &lt; 6; i++) {
    // 立即执行函数作闭包，保存变量i为index
    (function(index) {
        do(index).then(function() {
            another(index);
        })
    })(i)
}</code></pre>
<h3>按照字母和数字的顺序进行排序</h3>
<pre><code class="php">var arr = ['A1','A2','A100','A7','B2','A10','A14','B12','C1','C10','C5']
arr.sort(function(a, b) {
  var ret = a.charCodeAt(0) - b.charCodeAt(0); // 首字母处理
  if (ret == 0) {
    ret = +a.slice(1) - +b.slice(1); // 数字处理
  }
  return ret;//["A1", "A2", "A7", "A10", "A14", "A100", "B2", "B12", "C1", "C5", "C10"]
});</code></pre>
<h3>JSON.parse转换报错</h3>
<pre><code class="php">var getValue = function (objStr) {
    return new Function("return " + objStr)()
}
// 调用
var res1 = getValue('{"foo" : 1, }')//Object {foo: 1}
JSON.parse(res1);</code></pre>
<h3>javascript正则替换</h3>
<pre><code class="php">var str = 'abc{xdf}efg{dfg}ijk{232}';
var arr = ['d', 'h', 'l'];
var result = str.match(/\{.*?\}/g);
for (var i = 0; i &lt; result.length; i++) {
    str = str.replace(result[i], arr[i])
}
console.log(str);
//abcdefghijkl</code></pre>
<h3>javascript闭包</h3>
<pre><code class="php">function Score(){
    this.scores = [];
}
Score.prototype.add = function(score){
    this.scores.push(score);
};
Score.prototype.showAverage = function(){
    let sum = this.scores.reduce(function(pre,cur){
        return pre+cur;
    });
    console.log(sum*1.0/this.scores.length);
};
let scores = [90,80,70];
let score1 = new Score();
scores.forEach(score1.add);//scores.forEach(score1.add.bind(score1));
scores.forEach(function(score) {
    score1.add(score);
});
score1.showAverage();</code></pre>
<h3>javascript array reduce()</h3>
<pre><code class="php">arr.reduce(function (pre, cur, index) {
    if (index &gt;= 3) {
        return pre;
    }
    return pre + cur;
}, initVal);
</code></pre>
<h3>javascript 汉字占2字节</h3>
<pre><code class="php">function getLength(str) {
    return str.replace(/[^ -~]/g, 'AA').length;
}

function limitMaxLength(str, maxLength) {
    var result = [];
    for (var i = 0; i &lt; maxLength; i++) {
        var char = str[i]
        if (/[^ -~]/.test(char))
            maxLength--;
        result.push(char);
    }
    return result.join('');
}</code></pre>
<h3>隐藏手机号</h3>
<pre><code class="php">echo substr_replace ('13412343312','****',3,4) ;//134**3312</code></pre>
<h3>javascript数组降维</h3>
<pre><code class="php">var flatten = function(array) {
    return array.reduce(function(previous, i) {
        if (Object.prototype.toString.call(i) !== '[object Array]') {
            return (previous.push(i), previous);
        }
        return (Array.prototype.push.apply(previous, flatten(i)), previous);
    }, []);
};
undefined
flatten([[1, 2],[3, 4, 5], [6, 7, 8, 9,[11,12,[12,13,[14]]]],10]);
//[1, 2, 3, 4, 5, 6, 7, 8, 9, 11, 12, 12, 13, 14, 10]
[[0, 1], [2, 3], [4, 5]].reduce(function(a, b) {
    return a.concat(b);
});</code></pre>
<h3>获取content-type</h3>
<pre><code class="php">//获取content-type
function getContentType($url)
{
    $ch = curl_init();
    curl_setopt($ch, CURLOPT_URL, $url);
    curl_setopt($ch, CURLOPT_HEADER, 1);
    curl_setopt($ch, CURLOPT_RETURNTRANSFER, 1);
    curl_setopt($ch, CURLOPT_FOLLOWLOCATION, 1);
    curl_setopt($ch, CURLOPT_NOBODY, 1);
    curl_exec($ch);
    $contentType = curl_getinfo($ch, CURLINFO_CONTENT_TYPE);
    return $contentType;
}
 
//获取url后缀
function getUrlExtension($url)
{
    $parseurl = parse_url($url);
    $extension = pathinfo($parseurl['path'], PATHINFO_EXTENSION);
    return $extension;
}</code></pre>
<h3>PHP随机合并数组并保持原排序</h3>
<pre><code class="php">//随机合并两个数组元素，保持原有数据的排序不变（即各个数组的元素在合并后的数组中排序与自身原来一致）
function shuffleMergeArray() {
    $mergeArray = array();
    $sum = count($array1) + count($array2);
    for ($k = $sum; $k &gt; 0; $k--) {
        $number = mt_rand(1, 2);
        if ($number == 1) {
            $mergeArray[] = $array2 ? array_shift($array2) : array_shift($array1);
        } else {
            $mergeArray[] = $array1 ? array_shift($array1) : array_shift($array2);
        }
    }


    return $mergeArray;
//合并前的数组：
$array1 = array(1, 2, 3, 4);
$array2 = array('a', 'b', 'c', 'd', 'e');

//合并后的数据：
$mergeArray = array (
  0 =&gt; 'a',
  1 =&gt; 1,
  2 =&gt; 'b',
  3 =&gt; 2,
  4 =&gt; 'c',
  5 =&gt; 'd',
  6 =&gt; 3,
  7 =&gt; 4,
  8 =&gt; 'e',
)</code></pre>
<h3>仿知乎复制文本自带版权声明</h3>
<pre><code class="php">document.body.addEventListener('copy', function (e) {
    if (window.getSelection().toString() &amp;&amp; window.getSelection().toString().length &gt; 42) {
        setClipboardText(e);
        alert('商业转载请联系作者获得授权，非商业转载请注明出处，谢谢合作。');
    }
});
 
function setClipboardText(event) {
    var clipboardData = event.clipboardData || window.clipboardData;
    if (clipboardData) {
        event.preventDefault();
 
        var htmlData = ''
            + '著作权归作者所有。&lt;br&gt;'
            + '商业转载请联系作者获得授权，非商业转载请注明出处。&lt;br&gt;'
            + '作者：DIYgod&lt;br&gt;'
            + '链接：' + window.location.href + '&lt;br&gt;'
            + '来源：Anotherhome&lt;br&gt;&lt;br&gt;'
            + window.getSelection().toString();
        var textData = ''
            + '著作权归作者所有。\n'
            + '商业转载请联系作者获得授权，非商业转载请注明出处。\n'
            + '作者：DIYgod\n'
            + '链接：' + window.location.href + '\n'
            + '来源：Anotherhome\n\n'
            + window.getSelection().toString();
 
        clipboardData.setData('text/html', htmlData);
        clipboardData.setData('text/plain',textData);
    }
}</code></pre>
<h3>根据用户积分判断等级</h3>
<pre><code class="php">//lv1:1~50
//lv2:51~110
//lv3:111~180
//lv4:181~260
function getLevel($point) {
    $level = 0;
    while($point &gt;= 0) {
        $point -= 50 + $level++ * 10;
    }
    return $level;
}</code></pre>
<h3>0000000序列递增</h3>
<pre><code class="php">for ($i = 0; $i &lt; 100; $i++) { 
    $zero = '';
    $k = 7-strlen($i);
    for ($j = $k; $j &gt;0; $j--) { 
        $zero .= 0;
    }
    echo $zero.$i.'&lt;br&gt;';
}
for (var i = 0 ; i &lt;= 100; i ++){
  var zero = "";
  for (var j = 7-i.toString().length; j &gt; 0; j--) {
    zero += "0";
  }
  console.log(zero + i);
}
for ($i=0;$i&lt;=9999999;$i++) echo str_pad($i,7,"0",STR_PAD_LEFT);
//Array.from(Array(1000000).keys()).map(function(x){ return "0".repeat(8 - ("" + (x + 1)).length) + (x+1)})</code></pre>
<h3>判断远程图片是否存在</h3>
<pre><code class="php">function exist_file($url){ 
$opts=array( 
'http'=&gt;array( 
'method'=&gt;'HEAD', 
'timeout'=&gt;2 
)); 
@file_get_contents($url,false,stream_context_create($opts)); 
if ($http_response_header[0] == 'HTTP/1.1 200 OK') { 
return true; 
} else { 
return false; 
} 
}</code></pre>
<h3>检测函数类型</h3>
<pre><code class="php">
function getType(value){  //基本上可以返回所有的类型，不论你是自定义还是原生
    return Object.prototype.toString.call(value).match(/\s{1}(\w+)/)[1];
}
let obj = new Object();
console.log(getType(obj)); //"Object"</code></pre>
<h3>moment.js时间处理</h3>
<pre><code class="php">var a = moment([2016, 0, 15]);
var b = moment([2016, 7, 31]);
var diff = b.diff(a, 'months');

var diffMonths = Array
        .apply([], new Array(diff + 1))
        .map(function(item, index) {
            return a.clone().add(index, 'month').format('YYYY-MM');
        });

console.log(diffMonths);//["2016-01", "2016-02", "2016-03", "2016-04", "2016-05", "2016-06", "2016-07"]
</code></pre>
<h3>php中文正则匹配</h3>
<pre><code class="php">php中文正则匹配$str = "one中国你好two";
$preg = "/\P{Han}+/u";
$result = preg_replace($preg, '', $str);
var_dump($result); //string(12) "中国你好" p小写是匹配汉字，P大写是匹配非汉字</code></pre>
<h3>生成6位的数字验证码</h3>
<pre><code class="php">console.log(('000000' + Math.floor(Math.random() * 999999)).slice(-6));
console.log(Math.random().toString().slice(-6));
console.log(/\d{6}/.exec(Math.random())[0])
console.log('' + Math.floor(Math.random() * 999999));</code></pre>
<h3>16进制颜色代码生成</h3>
<pre><code class="php">
(function(){
return '#'+('00000'+(Math.random()*0x1000000&lt;&lt;0).toString(16)).slice(-6);
})()</code></pre>
<h3>php 模拟 tail -f</h3>
<pre><code class="php">$handle = popen("tail -f /var/log/nginx/access.log 2&gt;&amp;1", 'r');
     while(!feof($handle)) {
     $buffer = fgets($handle);
     echo "$buffer\n";
     flush();
}
pclose($handle);
</code></pre>
<h3>mysql distinct</h3>
<pre><code class="php">test表的结构
id test1 test2
1 a 1
2 a 2
3 a 3
4 a 1
5 b 1
6 b 2
7 b 3
8 b 2
select distinct test1 from test
test1
a
b
select distinct test1, id from test
test1 id
a 1
a 2
a 3
a 4
b 5
b 6
b 7
b 8
SELECT id, group_concat( DISTINCT test1 ) t FROM test GROUP BY test1
id t
1 a
5 b</code></pre>
<h3>php下载文件</h3>
<pre><code class="php">try {
    $client = new \GuzzleHttp\Client($url,[
    'curl.options' =&gt; [
        CURLOPT_SSL_VERIFYPEER=&gt;2,
        CURLOPT_SSL_VERIFYHOST=true,
    ]
]);
    $data = $client-&gt;request('get','http://xxxx')-&gt;getBody()-&gt;getContents();
    Storage::disk('local')-&gt;put('filename', $data);
} catch (\GuzzleHttp\RequestException $e) {
    echo 'fetch fail';
}
</code></pre>
<h3>javascript sort 排序</h3>
<pre><code class="php">var  arr=[3,4,6,21,2,3,4,1,2,9,6,3,4,5,6,7,2,3];
arr.sort(function(a,b){
        return  a&gt;b;
});
console.log(arr);//[9, 3, 2, 3, 2, 3, 2, 1, 3, 4, 4, 4, 5, 6, 6, 6, 7, 21]

var  arr=[3,4,6,21,2,3,4,1,2,9,6,3,4,5,6,7,2,3];
arr.sort(function(a,b){
        return  a-b;
});
console.log(arr);//[1, 2, 2, 2, 3, 3, 3, 3, 4, 4, 4, 5, 6, 6, 6, 7, 9, 21]
var  arr=[
        {name:"one",age:10},
        {name:"two",age:40},
        {name:"three",age:30},
        {name:"four",age:90},
        {name:"five",age:60}
];
arr.sort(function(a,b)  {
        return  a.age-b.age;
});
console.log(arr);
</code></pre>
<h3>javascript date</h3>
<pre><code class="php">new Date(2016,1,31) &gt; new Date(2016, 2, 1)//true
//month 从 0 开始算 new Date(2016,1,31) == 2016 年 2 月 31 日 然而 2 月只有 29 天 so 
new Date(2016,1,31) == 2016 年 3 月 2 日
new Date(2016,1,30) &gt; new Date(2016, 2, 1)//false</code></pre>
<h3>javascript lastIndex</h3>
<pre><code class="php">function filtrate() { 
var newArr = [], reg = /^\s*$/g, 
str = "baidu,google, , ,baidu,google,bg"; 
arr = str.split(','); 
for (var i = 0; i &lt; arr.length; i++) { 
//var reg = /^\s*$/g; 
if (!reg.test(arr[i])) { 
newArr.push(arr[i]); 
} 
} 
return newArr;//["baidu", "google", " ", "baidu", "google", "bg"] 
} 

function filtrate2() { 
var newArr = [], reg = /^\s*$/g, 
str = "baidu,google, , ,baidu,google,bg"; 
arr = str.split(','); 
for (var i = 0; i &lt; arr.length; i++) { 
var reg = /^\s*$/g; 
if (!reg.test(arr[i])) { 
newArr.push(arr[i]); 
} 
} 
return newArr; //["baidu", "google", "baidu", "google", "bg"]
}</code></pre>
<h3>微信浏览器禁止页面下拉查看网址</h3>
<pre><code class="php">var overscroll = function(el) {
  el.addEventListener('touchstart', function() {
    var top = el.scrollTop
      , totalScroll = el.scrollHeight
      , currentScroll = top + el.offsetHeight;
    //If we're at the top or the bottom of the containers
    //scroll, push up or down one pixel.
    //
    //this prevents the scroll from "passing through" to
    //the body.
    if(top === 0) {
      el.scrollTop = 1;
    } else if(currentScroll === totalScroll) {
      el.scrollTop = top - 1;
    }
  });
  el.addEventListener('touchmove', function(evt) {
    //if the content is actually scrollable, i.e. the content is long enough
    //that scrolling can occur
    if(el.offsetHeight &lt; el.scrollHeight)
      evt._isScroller = true;
  });
}
overscroll(document.querySelector('.scroll'));
document.body.addEventListener('touchmove', function(evt) {
  //In this case, the default behavior is scrolling the body, which
  //would result in an overflow.  Since we don't want that, we preventDefault.
  if(!evt._isScroller) {
    evt.preventDefault();
  }
});</code></pre>
<h3>laravel 为 VerifyCsrfToken 添加过滤条件</h3>
<pre><code class="php">//修改 app/Http/Middleware/VerifyCsrfToken.php
&lt;?php

namespace App\Http\Middleware;

use Illuminate\Foundation\Http\Middleware\VerifyCsrfToken as BaseVerifier;
use Closure;

class VerifyCsrfToken extends BaseVerifier
{
    /**
     * The URIs that should be excluded from CSRF verification.
     *
     * @var array
     */
    protected $except = [
        //
    ];

    public function handle($request, Closure $next)
    {
        // 如果是来自 api 域名，就跳过检查
        if ($_SERVER['SERVER_NAME'] != config('api.domain'))
        {
            return parent::handle($request, $next);
        }

        return $next($request);
    }
}</code></pre>
<h3>switch 字符串和数字会隐式转换比较</h3>
<pre><code class="php">
$string="2string";

switch($string)
{
    case (string) 1:
        echo "this is 1";
        break;
    case (string) 2:
        echo "this is 2";
        break;
    case '2string':
        echo "this is a string";
        break;
}</code></pre>
<h3>输出调试信息</h3>
<pre><code class="php">
function log(msg){
    var $body = document.querySelector('body');
    
    if( !$body.querySelector('.info_wz_852') ){
        $body.innerHTML += '&lt;div class="info_wz_852" style="position:fixed;top:0;left:0;z-index:99999; background:#000;color:#f00;"&gt;&lt;/div&gt;';
    }
        
    var $info = $body.querySelector('.info_wz_852');
    var date = new Date(),
        minute = ('00'+date.getMinutes()).slice(-2),
        second = ('00'+date.getSeconds()).slice(-2);
    
    try{
        throw new Error();
    }catch(e){
        var loc = (e.stack.replace(/Error\n/).split(/\n/)[1]).replace(/^(\s|\u00A0)+/,'').replace(/(\s|\u00A0)+$/,'');
            
        // var arr = loc.split(':'),
        //     col = parseInt(arr.pop()),
        //     line = parseInt(arr.pop());
    
        $info.innerHTML += '&lt;p&gt;['+minute+':'+second+'] '+loc+'&lt;/p&gt;&lt;p&gt;'+msg+'&lt;/p&gt;&lt;br/&gt;';
    }
}</code></pre>
<h3>对象数组互转方法</h3>
<pre><code class="php">/**
     * 数组转换对象
     *
     * @param $arr 数组
     * @return object|void
     */
    public function arrayToObject($arr)
    {

        if (gettype($arr) != 'array') return;
        foreach ($arr as $k =&gt; $v) {
            if (gettype($v) == 'array' || getType($v) == 'object')
                $e[$k] = (object)$this-&gt;arrayToObject($v);
        }
        return (object)$e;
    }

    /**
     * 对象转换数组
     *
     * @param $e StdClass对象实例
     * @return array|void
     */
    public function objectToArray($s)
    {
        $s = (array)$s;
        foreach ($s as $k =&gt; $v) {
            if (gettype($v) == 'resource') return;
            if (gettype($v) == 'object' || gettype($v) == 'array')
                $e[$k] = (array)$this-&gt;objectToArray($v);
        }
        return $e;
    }</code></pre>
<h3>javascript数组随机</h3>
<pre><code class="php">Array.prototype.shuffle = function(n) {
  var len = this.length , num = n?Math.min(n,len):len,arr = this.slice(0)
  arr.sort(function(a,b){
     return Math.random()-0.5
  })
  return arr.slice(0,num-1)
}</code></pre>
<h3>php生成不重复字符串</h3>
<p><code>echo sprintf('%x',crc32(microtime()));</code></p>
<h3>PHP 随机用户名账号</h3>
<pre><code class="php">//循环创建1万个随机账号，0碰撞，10万大约0-3个碰撞，足够应付未来数十亿级PV
function genUserNumber()
{
    $chars = "0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ";
    $username = "";
    for ( $i = 0; $i &lt; 6; $i++ )
    {
        $username .= $chars[mt_rand(0, strlen($chars))];
    }
    return strtoupper(base_convert(time() - 1420070400, 10, 36)).$username;
}</code></pre>
<h3>一个操作中对 Redis 服务器执行多个命令</h3>
<pre><code class="php">Redis::pipeline(function ($pipe) {
  for ($i = 0; $i &lt; 1000; $i++) {
    $pipe-&gt;set("key:$i", $i);
  } 
});</code></pre>
<h3>中文拼音排序</h3>
<pre><code class="php">from pypinyin import lazy_pinyin

chars = ['鑫','鹭','榕','柘','珈','骅','孚','迦','瀚','濮','浔','沱','泸','恺','怡','岷','萃','兖']

chars.sort(key=lambda char: lazy_pinyin(char)[0][0])

print([lazy_pinyin(char) for char in chars])
print(chars)
[['cui'], ['fu'], ['hua'], ['han'], ['jia'], ['jia'], ['kai'], ['lu'], ['lu'], ['min'], ['pu'], ['rong'], ['tuo'], ['xin'], ['xun'], ['yi'], ['yan'], ['zhe']]
['萃', '孚', '骅', '瀚', '珈', '迦', '恺', '鹭', '泸', '岷', '濮', '榕', '沱', '鑫', '浔', '怡', '兖', '柘']</code></pre>
<h3>php 金额每三位加逗号分隔</h3>
<pre><code class="php">//money_format
&gt;&gt;&gt; strrev(implode(',', str_split(strrev('434353222323443'), 3)) )
=&gt; "434,353,222,323,443"</code></pre>
<h3>php时间格式化</h3>
<pre><code class="php">
function getDiffTime($timestamp) 
{
    $datetime = new DateTime(date('Y-m-d H:i:s', $timestamp));
    $datetime_now = new DateTime();
    $interval = $datetime_now-&gt;diff($datetime);
    list($y, $m, $d, $h, $i, $s) = explode('-', $interval-&gt;format('%y-%m-%d-%h-%i-%s'));
    if ((($result = $y) &amp;&amp; ($suffix = '年前')) ||
        (($result = $m) &amp;&amp; ($suffix = '月前')) ||
        (($result = $d) &amp;&amp; ($suffix = '天前')) ||
        (($result = $h) &amp;&amp; ($suffix = '小时前')) ||
        (($result = $i) &amp;&amp; ($suffix = '分钟前')) ||
        (($result = $s) &amp;&amp; ($suffix = '刚刚'))) {
        return $suffix != '刚刚' ? $result . $suffix : $suffix;
    }
}</code></pre>
<h3>html写入word</h3>
<pre><code class="php">function word($data,$fileName=''){ 
if(empty($data)) return ''; 
$data='&lt;html xmlns:o="urn:schemas-microsoft-com:office:office" xmlns:w="urn:schemas-microsoft-com:office:word" xmlns="http://www.w3.org/TR/REC-html40"&gt;'.$data.'&lt;/html&gt;'; 
if(empty($fileName)) $fileName=date('YmdHis').'.doc'; 
$fp=fopen($fileName,'wb'); 
fwrite($fp,$data); 
fclose($fp); 
} 
$str = '&lt;h2&gt;hello daye&lt;/h2&gt;'; 
word($str); 
</code></pre>
<h3>一行代码可以看到所有页面元素</h3>
<p><code>[].forEach.call($$("*"),function(a){a.style.outline="1px solid #"+(~~(Math.random()*(1&lt;&lt;24))).toString(16)})</code><br><a href="https://segmentfault.com/a/1190000002784965">https://segmentfault.com/a/11...</a><br><a href="http://blog.tanteng.me/2015/11/php-stdclass/" rel="nofollow noreferrer">http://blog.tanteng.me/2015/1...</a><br><a href="http://joebon.cc/date-cross-browser-safari-chrome" rel="nofollow noreferrer">http://joebon.cc/date-cross-b...</a><br><a href="https://segmentfault.com/a/1190000005116655">https://segmentfault.com/a/11...</a><br><a href="https://segmentfault.com/q/1010000005070166">https://segmentfault.com/q/10...</a><br><a href="https://www.zhihu.com/question/37924194?q=%E6%9C%89%E5%93%AA%E4%BA%9B%E7%9F%AD%E5%B0%8F%E5%8D%B4%E4%BB%A4%E4%BA%BA%E6%83%8A%E5%8F%B9%E7%9A%84php%E4%BB%A3%E7%A0%81%3F" rel="nofollow noreferrer">https://www.zhihu.com/questio...</a><br><a href="http://t.cn/RqgIMWa" rel="nofollow noreferrer">http://t.cn/RqgIMWa</a><br><a href="http://t.cn/h4tDfg" rel="nofollow noreferrer">http://t.cn/h4tDfg</a><br><a href="http://div.io/topic/1610" rel="nofollow noreferrer">http://div.io/topic/1610</a><br><a href="https://www.talkingcoder.com/code/6269320601861816392" rel="nofollow noreferrer">https://www.talkingcoder.com/...</a><br><a href="http://www.w3cfuns.com/notes/17398/665aaba7dd0045950b750af582b61b64.html" rel="nofollow noreferrer">http://www.w3cfuns.com/notes/...</a><br><a href="http://www.cnblogs.com/shockerli/p/shuffle-merge-array.html" rel="nofollow noreferrer">http://www.cnblogs.com/shocke...</a></p>

                </div>
                                                
                <div class="clearfix mt10">
                    <ul class="article-operation list-inline pull-left mt15"><li><a target="_blank"href="https://creativecommons.org/licenses/by-nc-nd/4.0/"><img class="mb5" src="https://static.segmentfault.com/v-5bebf0aa/global/img/creativecommons-cc.svg" height="20"/></a></li><li class="dropdown js__content-ops hidden-xs" data-module="article"
                                data-id="1190000005128780"
                                data-typetext="文章"><a href="javascript:void(0);" class="dropdown-toggle text-muted" data-toggle="dropdown"><i class="fa fa-ellipsis-h" aria-hidden="true"></i></a><ul class="dropdown-menu dropdown-menu-left"><li><a href="#911"
                                           data-toggle="modal"
                                           data-target="#911"
                                           data-action="report"
                                        >举报</a></li></ul></li></ul>
                    <div class="pull-right mt-10 hidden-xs">
                        <div class="widget-share__full" data-text="开发拾遗"
 data-url="https://segmentfault.com/a/1190000005128780" data-shorturl="http://sfau.lt/b5vGoq"></div>


                    </div>
                </div>
                <div class="mt10 text-center mb30"><button type="button" id="mainLike" data-id="1190000005128780"
                                    class="btn btn-success btn-lg mr15 "><span id="mainLikeText">赞</span>&nbsp;&nbsp;<span class="seprator">|</span>&nbsp;&nbsp;
                                <span id="mainLikeNum">2 </span></button><button type="button" id="mainBookmark" data-type="article" data-id="1190000005128780"
                                    class="btn btn-default btn-lg "><span id="mainBookmarkText">收藏</span>&nbsp;&nbsp;<span class="seprator">|</span>&nbsp;&nbsp;<span id="mainBookmarkNum">8</span></button><br><button type="button" data-id="1190000005128780"
                                        class="btn btn-danger btn-lg mt15 article__reward-btn">
                                    赞赏支持
                                </button></div><div class="mt30 mb30 text-center article__reward-info"><span class="mr10">如果觉得我的文章对你有用，请随意赞赏</span></div>                
                                <script type='text/javascript'>
                    OA_show(3);
                </script>

                <h4 class="pt20 mb15 mt0 border-top">你可能感兴趣的</h4>

                
                <div class="mb15 block">
                    <script type='text/javascript'>
                        OA_show(4);
                    </script>
                </div>

                                <div id="paradigm-article-related"></div>

                
        <div class="comments--news comments--default comments--article 
    " 
    data-id="1190000005128780" data-user-id="" data-author-id="1030000000229278 "
         data-is-admin="null" id="goToReplyArea">
                    <div class="mb10 clearfix">
                <strong class="comments-stat pull-left mr10">3 条评论</strong>

                                                    <div class="btn-group btn-group-xs pull-right comments-sort btn-group-menu" role="menu">
                        <a href="javascript:;" 
                           class="btn btn-default active" data-sort="default">默认排序</a>
                        <a href="javascript:;" 
                           class="btn btn-default" data-sort="desc">时间排序</a>
                    </div>
                            </div>
                <div class="comments-container">
                                <div class="comments-list">
                <div class="comments-item" data-id="1050000011765177">
            <div class="pull-left">
                <a href="/u/sushengbuhuo" target="_blank"><img class="avatar-32 " src="https://avatar-static.segmentfault.com/175/934/175934663-572d654c6f521_big64" alt=""></a>
            </div>
            <div class="comments-content">
                <div class="comment-trigger">
                    <div class="pull-right comment-option">
                                                <a href="#911" class="ml10" data-toggle="modal" data-target="#911" data-action="report" data-action-text="举报" data-module="comment" data-id="1050000011765177" data-typetext="评论" data-placement="top" title="举报"><span class="glyphicon glyphicon-flag" aria-hidden="true"></span></a>
                                            </div>
                    <strong><a target="_blank" href="/u/sushengbuhuo">苏生不惑</a></strong>
                    <span class="comments-isAuthor ">作者</span>
                    <span class="comments-date">  ·  2017年10月29日</span>
                </div>

                <div class="fmt mb10">
<p><a href="https://www.v2ex.com/t/396897#reply8" rel="nofollow noreferrer">redis 存储大整数，出现精度丢失问题</a></p>
<pre><code class="js">zadd 不支持字符串分值
127.0.0.1:6379&gt; zadd test 14338073069842465 2239

(integer) 0

127.0.0.1:6379&gt; zscore test 2239

"14338073069842464"//储存 65，拿到 64  </code></pre>
</div>

                <form action="/api/comment/1050000011765177/edit">
                    <div class="form-group">
                        <textarea class="editTextarea mono form-control mb10 hidden" rows="1" name="text" style="height: 28px; overflow: hidden; word-wrap: break-word;" >[redis 存储大整数，出现精度丢失问题](https://www.v2ex.com/t/396897#reply8)
```js
zadd 不支持字符串分值
127.0.0.1:6379&gt; zadd test 14338073069842465 2239

(integer) 0

127.0.0.1:6379&gt; zscore test 2239

&quot;14338073069842464&quot;//储存 65，拿到 64  
```</textarea>
                    </div>
                </form>

                <p class="comment-ops not-reply">
                    <span class="comments-zan ">
                        <i class="fa fa-thumbs-up mr4" aria-hidden="true"></i>
                        <span class="comments-zan-text">赞</span>
                        <span class="comments-zan-value"></span>
                    </span>
                    
                    <span class="ml15 comments-reply-btn">回复</span>

                    <span class="pull-right editBtns hidden">
                      <button class="btn btn-link btn-xs cancel" type="button">取消</button>
                      <button class="btn btn-primary btn-xs edit ml10" type="button">保存</button>
                    </span>
                </p>

                <div class="reply-list reply-list--empty">

                    
                    <div class="reply-item reply-item--ops" data-obj="obj">
                        <a class="reply-inner-btn" href="javascript:;">添加回复</a>
                        
                    </div>
                </div>


            </div>
        </div>
                <div class="comments-item" data-id="1050000011765914">
            <div class="pull-left">
                <a href="/u/sushengbuhuo" target="_blank"><img class="avatar-32 " src="https://avatar-static.segmentfault.com/175/934/175934663-572d654c6f521_big64" alt=""></a>
            </div>
            <div class="comments-content">
                <div class="comment-trigger">
                    <div class="pull-right comment-option">
                                                <a href="#911" class="ml10" data-toggle="modal" data-target="#911" data-action="report" data-action-text="举报" data-module="comment" data-id="1050000011765914" data-typetext="评论" data-placement="top" title="举报"><span class="glyphicon glyphicon-flag" aria-hidden="true"></span></a>
                                            </div>
                    <strong><a target="_blank" href="/u/sushengbuhuo">苏生不惑</a></strong>
                    <span class="comments-isAuthor ">作者</span>
                    <span class="comments-date">  ·  2017年10月29日</span>
                </div>

                <div class="fmt mb10">
<p><a href="https://zhuanlan.zhihu.com/p/29196829" rel="nofollow noreferrer">商标局网请收下我的膝盖-反爬与反反爬的奇技淫巧</a></p>
<pre><code class="js">for (var i = 1; i &lt; 99999; i++)
        window.clearInterval(i);
Date.prototype._getTime = Date.prototype.getTime;
Date.prototype.getTime = function(){
  if(!Date._lastTime){
    var time = this._getTime();
    Date._lastTime = time;
  }
  Date._lastTime = Date._lastTime+100;
  return Date._lastTime;
}</code></pre>
</div>

                <form action="/api/comment/1050000011765914/edit">
                    <div class="form-group">
                        <textarea class="editTextarea mono form-control mb10 hidden" rows="1" name="text" style="height: 28px; overflow: hidden; word-wrap: break-word;" >[商标局网请收下我的膝盖-反爬与反反爬的奇技淫巧](https://zhuanlan.zhihu.com/p/29196829)
```js
for (var i = 1; i &lt; 99999; i++)
        window.clearInterval(i);
Date.prototype._getTime = Date.prototype.getTime;
Date.prototype.getTime = function(){
  if(!Date._lastTime){
    var time = this._getTime();
    Date._lastTime = time;
  }
  Date._lastTime = Date._lastTime+100;
  return Date._lastTime;
}
```</textarea>
                    </div>
                </form>

                <p class="comment-ops not-reply">
                    <span class="comments-zan ">
                        <i class="fa fa-thumbs-up mr4" aria-hidden="true"></i>
                        <span class="comments-zan-text">赞</span>
                        <span class="comments-zan-value"></span>
                    </span>
                    
                    <span class="ml15 comments-reply-btn">回复</span>

                    <span class="pull-right editBtns hidden">
                      <button class="btn btn-link btn-xs cancel" type="button">取消</button>
                      <button class="btn btn-primary btn-xs edit ml10" type="button">保存</button>
                    </span>
                </p>

                <div class="reply-list ">

                    
                        <div class="reply-item" data-id="1050000011765954">
                            <span class="pull-left comment-ops " style="position:absolute;">
                                <span class="mr20 comments-zan ">
                                    <span class="comments-zan-value comment-showhide
                                         islike0-10
                                        ">
                                        0
                                    </span>
                                    <i class="fa fa-thumbs-up comment-showhide ml5" aria-hidden="true"></i>
                                </span>
                            </span>

                            <div class="reply-content-block">
                                <div class="reply-content"><p><a href="https://lax.v2ex.com/t/396175#reply75" rel="nofollow noreferrer">https://lax.v2ex.com/t/396175...</a></p></div>
                                <form action="/api/comment/1050000011765954/edit">
                                    <div class="form-group">
                                        <textarea class="editTextarea mono form-control mb10 hidden" rows="1" name="text" style="height: 28px; overflow: hidden; word-wrap: break-word;" >https://lax.v2ex.com/t/396175#reply75</textarea>
                                    </div>
                                </form>
                                <div class="comment-func inline-block">
                                    

                                    <span class="pull-right commentTools ml15">
                                                                                                                                                                <a href="#911" class="ml10" data-toggle="modal" data-target="#911" data-module="comment"
                                           data-id="1050000011765954" data-action='report' data-typetext="评论" data-placement="top" title="举报">
                                            <span class="glyphicon glyphicon-flag" aria-hidden="true"></span>
                                        </a>
                                    </span>

                                    <span class="comment-meta inline-block">
                                        <span> — </span>
                                        <a target="_blank" href="/u/sushengbuhuo">
                                            <strong>苏生不惑</strong>
                                        </a> 
                                        <span class="comments-isAuthor ">
                                            作者
                                        </span> 
                                        <span class="text-muted-plus">  ·  2017年10月29日</span>
                                                                            </span>
                                </div>
                            </div>
                        </div>
                    
                    <div class="reply-item reply-item--ops" data-obj="obj">
                        <a class="reply-inner-btn" href="javascript:;">添加回复</a>
                        
                    </div>
                </div>


            </div>
        </div>
            </div>
    <div class="comments-loading hide">载入中...</div>
        <div class="comments-more hide"><a href="javascript:;">显示更多评论</a></div>
    

                                    <div class="comments-box" id="goToReplyEditor">
                <div class="pull-left">
                    <img class="avatar-32 "
                         src="https://static.segmentfault.com/v-5bebf0aa/global/img/user-128.png"
                         alt=""/>
                </div>
                <div class="comments-box-content">
                    <form action="/api/article/1190000005128780/comments/add">
                        <div class="form-group mb0">
                            <textarea name="text" rows="3" class="form-control"placeholder="文明社会，理性评论"></textarea>
                            <div class="mt15 text-right">
                                <button type="button" class="hide"></button>
                                <button class=" btn btn-primary" type="button">发布评论</button>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
                                                        </div>
    </div>


                                    
                
                

            </div><!-- /.main -->


            <div class="col-md-3 side hidden-sm hidden-xs mt30">
                                                
                <div class="mb25 hidden-md hidden-sm hidden-xs">
    <img src="https://static.segmentfault.com/sponsor/20181120.png" alt="Planets" usemap ="#gridsMap" width=255 height=136>
    <map name="gridsMap" id="gridsMap"></map>
    <div style="text-align: center;"><a style="text-align:center; color:#9E9E9E; font-size:12px" href="/sponsor">想在上方展示你的广告？</a></div>
            <script async src="https://static.segmentfault.com/sponsor/20181120.js"></script>
    </div>

                                <style>
                    .job-recommend-area a:not(:last-of-type) {margin-bottom:10px; display: block}
                    .job-recommend-area a:hover {text-decoration: none;}
                </style>
                <div class="hidden-md">
                    <div class="job-recommend">
                      <h3 class="job-title">推广链接</h3>
                      <div class="job-recommend-area">
                                                <script type='text/javascript'>
                            OA_show(7);
                            OA_show(9);
                            OA_show(10);
                            OA_show(15);
                            OA_show(16);
                        </script>
                      </div>
                    </div>
                    <style>
                    .job-recommend {margin-bottom: 30px;}
                    .job-title {
                        font-size: 14px;
                        color: #017E66;
                        font-weight: 500;
                        background: #BFE6D7;
                        margin: 0;
                        padding-top: 6px;
                        padding-bottom: 6px;
                        text-align: center;
                    }
                    .job-recommend-area {
                      padding: 13px;
                      border: 3px solid #EBF7F3;
                      border-top: none;
                    }
                    </style>
                    
                                    </div>

                                
                <div class="hidden-md ad-should-be-fixed">
                    <div class="mb25 block">
                        <script type='text/javascript'>
                            OA_show(1);
                        </script>
                    </div>
                </div>
                <div class="post-nav hidden-xs">
                    <div class="panel panel-default widget-outline">
                        <div class="panel-heading">目录</div>
                        <div class="panel-body">
                            <div class="nav-body" style="overflow:scroll">
                                <div class="highlight-title"></div>
                                <ul class="articleIndex"></ul>
                            </div>
                        </div>
                    </div>
                </div>

                
            </div><!-- /.side -->
        </div>
    </div>
</div>

<div id="shareToWeiboModal" class="modal" tabindex='-1'>
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal">
                    <span aria-hidden="true">×</span><span class="sr-only">Close</span>
                </button>
                <h4 class="modal-title">分享</h4>
            </div>
            <div class="modal-body">
                <p class="sfModal-content">
                    分享到微博？
                </p>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default dont-likeweibo" data-dismiss="modal">取消</button>
                <a href="" id="shareLink" class="btn btn-primary done-btn" target="_blank"
                   onclick="$('#shareToWeiboModal').modal('hide')">分享</a>
            </div>
        </div>
    </div>
</div>


<div class="modal widget-911" id="911" tabindex='-1'>
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button class="close" data-dismiss="modal" type="button">
          <span aria-hidden="true">&times;</span>
          <span class="sr-only">Close</span>
        </button>
        <h4 class="modal-title"><span data-model="action"></span><span data-model="type"></span></h4>
      </div>
      <div class="modal-body">
        <form id="reportForm">
          <!-- 后台返回信息 -->
          <p class="alert alert-warning" data-model="returnMsg"></p>
          <div data-role="base">
            <p>
              <strong class="required">我要<span data-model="action"></span>该<span data-model="type"></span>，理由是：</strong>
            </p>
            <ul class="list-unstyled" data-model="list"></ul>
          </div>
        </form>
      </div>
      <div class="modal-footer">
        <button class="btn btn-default pull-left" type="button" data-role="back" style="display:none">返回重选</button>
                <button class="btn btn-default" data-dismiss="modal" type="button">取消</button>
        <button class="btn btn-primary" data-role="submit" type="button">提交</button>
      </div>
    </div><!-- /.modal-content -->
  </div><!-- /.modal-dialog -->
</div><!-- /.modal -->
<div class="modal widget-seo" id="seo" tabindex='-1'>
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button class="close" data-dismiss="modal" type="button">
                    <span aria-hidden="true">&times;</span>
                    <span class="sr-only">Close</span>
                </button>
                <h4 class="modal-title"><span data-model="action"></span><span data-model="type"></span></h4>
            </div>
            <div class="modal-body">
                <form id="seoForm">
                    <!-- 后台返回信息 -->
                    <p class="alert alert-warning" data-model="returnMsg"></p>
                    <div data-role="base">
                        <div class="form-group">
                            <label>SEO标题：</label><textarea style="min-height: 35px; width: 100%; max-height: 132px; overflow: hidden; overflow-wrap: break-word; height: 32px;" name="title" class="form-control" rows="1" placeholder="请输入SEO标题"></textarea>
                        </div>
                        <div class="form-group">
                            <label>SEO描述：</label><textarea style="min-height: 35px; max-height: 132px; overflow: hidden; overflow-wrap: break-word; height: 32px;" name="desc" class="form-control" rows="1" placeholder="请输入SEO描述"></textarea>
                        </div>
                        <div class="form-group">
                            <label>SEO keywords：</label><textarea style="min-height: 35px; max-height: 132px; overflow: hidden; overflow-wrap: break-word; height: 32px;" name="keywords" class="form-control" rows="1" placeholder="请输入SEO keywords"></textarea>
                        </div>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button class="btn btn-default" data-dismiss="modal" type="button">取消</button>
                <button class="btn btn-primary" data-role="submit" type="button">提交</button>
            </div>
        </div><!-- /.modal-content -->
    </div><!-- /.modal-dialog -->
</div><!-- /.modal -->

    <div id="loginBanner"  class="hidden-sm hidden-xs loginBanner">
    <div class="container">
        <div class="row">
            <div class="col-lg-6 col-md-7">
                <h1 class="title">在 SegmentFault，学习技能、解决问题</h1>
                <p class="desc">每个月，我们帮助 1000 万的开发者解决各种各样的技术问题。并助力他们在技术能力、职业生涯、影响力上获得提升。</p>
            </div>
            <div class="col-lg-3 col-lg-offset-3 col-md-4 col-md-offset-1">
                <form class="register-form clearfix" action="/api/user/phone/register">

                    
                    <a href="/user/register" class="SFLogin btn btn-lg btn-primary mr15">免费注册</a>
                    <a href="/user/login" class="SFRegister btn btn-lg btn-primary">立即登录</a>
                </form>
            </div>
        </div>
    </div>
    </div>






<footer id="footer">
    <div class="container">
        <div class="row hidden-xs">
            <dl class="col-sm-2 site-link">
                <dt>产品</dt>
                
                <dd><a href="/questions/hottest?utm_source=sf-footer&utm_medium=footer-nav&utm_campaign=product&utm_content=footer-links-hottest-questions&utm_term=热门问答">热门问答</a></dd>
                <dd><a href="/blogs/hottest?utm_source=sf-footer&utm_medium=footer-nav&utm_campaign=product&utm_content=footer-links-hottest-questions&utm_term=热门专栏">热门专栏</a></dd>
                <dd><a href="/lives?utm_source=sf-footer&utm_medium=footer-nav&utm_campaign=product&utm_content=footer-links-hottest-questions&utm_term=热门讲堂">热门讲堂</a></dd>
                <dd><a href="/events?utm_source=sf-footer&utm_medium=footer-nav&utm_campaign=product&utm_content=footer-links-hottest-questions&utm_term=最新活动">最新活动</a></dd>
                <dd><a href="/groups?utm_source=sf-footer&utm_medium=footer-nav&utm_campaign=product&utm_content=footer-links-hottest-questions&utm_term=圈子">圈子</a></dd>
                <dd><a href="/jobs?utm_source=sf-footer&utm_medium=footer-nav&utm_campaign=product&utm_content=footer-links-hottest-questions&utm_term=找工作">找工作</a></dd>
                <dd><a href="/app?utm_source=sf-footer&utm_medium=footer-nav&utm_campaign=product&utm_content=footer-links-hottest-questions&utm_term=app">移动客户端</a></dd>
                
            </dl>
            
            <dl class="col-sm-2 site-link">
                <dt>资源</dt>
                <dd><a href="/weekly?utm_source=sf-footer&utm_medium=footer-nav&utm_campaign=resource&utm_content=footer-links-weekly&utm_term=每周精选">每周精选</a></dd>
                <dd><a href="/users?utm_source=sf-footer&utm_medium=footer-nav&utm_campaign=resource&utm_content=footer-links-users&utm_term=用户排行榜">用户排行榜</a></dd>
                <dd><a href="/badges?utm_source=sf-footer&utm_medium=footer-nav&utm_campaign=resource&utm_content=footer-links-badges&utm_term=徽章">徽章</a></dd>
                <dd><a href="/faq?utm_source=sf-footer&utm_medium=footer-nav&utm_campaign=resource&utm_content=footer-links-faq&utm_term=帮助中心">帮助中心</a></dd>
                <dd><a href="/repu?utm_source=sf-footer&utm_medium=footer-nav&utm_campaign=resource&utm_content=footer-links-repu&utm_term=声望与权限">声望与权限</a></dd>
                <dd><a href="/community?utm_source=sf-footer&utm_medium=footer-nav&utm_campaign=resource&utm_content=footer-links-community&utm_term=社区服务中心">社区服务中心</a></dd>
                <dd><a href="https://docs.segmentfault.com?utm_source=sf-footer&utm_medium=footer-nav&utm_campaign=resource&utm_content=footer-links-docs&utm_term=开发手册">开发手册</a></dd>

   
            </dl>

            <dl class="col-sm-2 site-link">
                <dt>商务</dt>
                <dd><a href="https://business.segmentfault.com/services?utm_source=sf-footer&utm_medium=footer-nav&utm_campaign=business&utm_content=footer-links-services-rencai&utm_term=人才服务" target="_blank">人才服务</a></dd>
                <dd><a href="https://business.segmentfault.com/services?utm_source=sf-footer&utm_medium=footer-nav&utm_campaign=business&utm_content=footer-links-services-qiyeneixun&utm_term=企业服务" target="_blank">企业培训</a></dd>
                <dd><a href="https://business.segmentfault.com/services?utm_source=sf-footer&utm_medium=footer-nav&utm_campaign=business&utm_content=footer-links-services-huodongcehua&utm_term=活动策划" target="_blank">活动策划</a></dd>
                <dd><a href="https://business.segmentfault.com/ads?utm_source=sf-footer&utm_medium=footer-nav&utm_campaign=business&utm_content=footer-links-ads&utm_term=广告投放" target="_blank">广告投放</a></dd>
                <dd><a href="https://business.segmentfault.com/bc?utm_source=sf-footer&utm_medium=footer-nav&utm_campaign=business&utm_content=footer-links-bc&utm_term=区块链解决方案" target="_blank">区块链解决方案</a></dd>
                <dd><a href="https://business.segmentfault.com/contact?utm_source=sf-footer&utm_medium=footer-nav&utm_campaign=business&utm_content=footer-links-contact&utm_term=合作联系" target="_blank">合作联系</a></dd>
            </dl>
            
            <dl class="col-sm-2 site-link">
                <dt>关于</dt>
                <dd><a href="https://about.segmentfault.com/?utm_source=sf-footer&utm_medium=footer-nav&utm_campaign=about&utm_content=about-index&utm_term=关于我们">关于我们</a></dd>
                <dd><a href="https://about.segmentfault.com/careers.html?utm_source=sf-footer&utm_medium=footer-nav&utm_campaign=about&utm_content=about-careers&utm_term=加入我们">加入我们</a></dd>
                <dd><a href="https://about.segmentfault.com/contact.html?utm_source=sf-footer&utm_medium=footer-nav&utm_campaign=about&utm_content=about-contact&utm_term=联系我们">联系我们</a></dd>
            </dl>

            <dl class="col-sm-2 site-link">
                <dt>关注</dt>
                                <dd><a href="//segmentfault.com/blog/segmentfault" target="_blank">产品技术日志</a></dd>
                                <dd><a href="//segmentfault.com/blog/community_admin" target="_blank">社区运营日志</a></dd>
                                <dd><a href="//segmentfault.com/blog/segmentfault_news" target="_blank">市场运营日志</a></dd>
                                <dd><a href="//segmentfault.com/blog/segmentfault_team" target="_blank">团队日志</a></dd>
                                <dd><a href="//segmentfault.com/blog/interview" target="_blank">社区访谈</a></dd>
                                <dd>
                    <ul class="sn-inline">
                        <li>
                            <a class="entypo-wechart icon-sn-weixin weixin-popover-qrcode" data-toggle="popover" data-placement="top"  data-content="">微信</a>
                        </li>
                        <li>
                            <a href="http://weibo.com/segmentfault" target="_blank" class="entypo-weibo icon-sn-weibo" >新浪微博</a>
                        </li>
                        <li>
                            <a href="https://github.com/SegmentFault" target="_blank" class="entypo-facebook icon-sn-github">Github</a>
                        </li>
                        <li>
                            <a href="https://twitter.com/segment_fault" target="_blank" class="entypo-twitter icon-sn-twitter">Twitter</a>
                        </li>
                    </ul>
                </dd>
            </dl>

            <dl class="col-sm-2 site-link" id="license">
                <dt>条款</dt>
                <dd><a href="/tos">服务条款</a></dd>
                <dd><a href="https://creativecommons.org/licenses/by-nc-nd/4.0/" target="_blank">内容许可</a></dd>
                <dd>
                    <a href="/app" class="clearfix mt10 block"><img src="https://static.segmentfault.com/v-5bebf0aa/page/img/app/appQrcode.png" class="app-qrcode"></a>
                    <div class="app-download-desc">
                        <p>扫一扫下载 App</p>
                    </div>
                    
                </dd>
            </dl>
        </div>
        <div class="copyright">
            Copyright &copy; 2011-2018 SegmentFault. 当前呈现版本 17.06.16<br>
            <a href="http://www.miibeian.gov.cn/" rel="nofollow">浙ICP备 15005796号-2</a> &nbsp;
            <a target="_blank" href="http://www.beian.gov.cn/portal/registerSystemInfo?recordcode=33010602002000" rel="nofollow">浙公网安备 33010602002000号</a>
            <span class="ml5">杭州堆栈科技有限公司版权所有</span>
            <P class="mt30">CDN 存储服务由 <a target="_blank" href="https://www.upyun.com/?utm_source=segmentfault&utm_medium=link&utm_campaign=upyun&md=segmentfault">又拍云</a> 赞助提供 </p>
        </div>
        <p class="text-center">
            <a class="js__view--selector hidden-sm hidden-md hidden-lg" data-action="mobile" href="javascript:;">移动版</a>
            <a class="js__view--selector hidden-sm hidden-md hidden-lg" data-action="desktop" href="javascript:;">桌面版</a>
        </p>
    </div>
</footer>

<div id="fixedTools" class="hidden-xs hidden-sm">
    <a id="backtop" class="hidden border-bottom" href="#">回顶部</a>
</div>

    <script id="loginModal" type="text/template">
    <div class="row bg-white login-modal">
        <div class="col-md-12 login-wrap">
            <form action="/api/user/login" method="POST" role="form" class="mt15">
                <div class="form-group hidden">
                                        <input type="text" class="form-control" name="remember" value="1"
                           autocomplete="off">
                </div>
                <div class="form-group">
                    <label for="username" class="control-label">手机号 或 Email</label>
                    <input type="text" class="form-control" name="username" tabindex="1" required placeholder="11 位手机号 或 Email"
                           autocomplete="off">
                </div>
                <div class="form-group">
                    <label class="control-label">密码</label><span class="pull-right"><a
                                href="/user/forgot" tabindex="4">忘记密码</a></span>
                    <input type="password" class="form-control" name="password" tabindex="2" required placeholder="请输入密码">
                </div>
                <div class="form-group">
                    <a
                            
                                                    href="/user/phoneLogin"
                            class="phoneLogin"
                                            >手机验证码登录</a>
                </div>
                <div class="form-group clearfix">
                    <button type="submit" class="btn-block btn btn-primary pull-right pl20 pr20" tabindex="3"
                            onclick='ga("send", "event", "email login button", "clicked", "login modal");'>登录
                    </button>
                </div>
            </form>
            <div class="text-muted text-center more-login-area">
    <span class="more-login-words">更多登录方式</span>
</div>
<div class="widget-login mb15 text-center">
    <a href="/user/oauth/google" class=""
       onclick='ga("send", "event", "3rd login button", "clicked", "login modal", {media: "google"});'><span
                class="icon-sn-google"></span></a>
    <a href="/user/oauth/github" class=""
       onclick='ga("send", "event", "3rd login button", "clicked", "login modal", {media: "github"});");'><span
                class="icon-sn-github"></span></a>
    <a href="/user/oauth/weibo" class=""
       onclick='ga("send", "event", "3rd login button", "clicked", "login modal", {media: "weibo"});'><span
                class="icon-sn-weibo"></span></a>
    <a href="/user/oauth/qq" class=""
       onclick='ga("send", "event", "3rd login button", "clicked", "login modal", {media: "qq"});'><span
                class="icon-sn-qq"></span></a>
    <a href="/user/oauth/weixin" class=""
       onclick='ga("send", "event", "3rd login button", "clicked", "login modal", {media: "qq"});'><span
                class="icon-sn-weixin"></span></a>
    <a href="/user/oauth/linkedin" class=""
       onclick='ga("send", "event", "3rd login button", "clicked", "login modal", {media: "linkedin"});'><span
                class="icon-sn-linkedin"></span></a>
    <span id="loginShowMore" style="cursor: pointer" class="mb5"><span class="icon-sn-dotted"></span></span>
    <a href="/user/oauth/twitter" class=" hidden"
       onclick='ga("send", "event", "3rd login button", "clicked", "login modal", {media: "twitter"});'><span
                class="icon-sn-twitter"></span></a>
    <a href="/user/oauth/facebook" class=" hidden"
       onclick='ga("send", "event", "3rd login button", "clicked", "login modal", {media: "facebook"});'><span
                class="icon-sn-facebook"></span></a>
    <a href="/user/oauth/douban" class=" hidden"
       onclick='ga("send", "event", "3rd login button", "clicked", "login modal", {media: "douban"});'><span
                class="icon-sn-douban"></span></a>
</div>
<div class="form-group clearfix">
    <a class="btn-block btn btn-default pull-right pl20 pr20 
                        SFLogin
             "

            
        onclick='ga("send", "event", "email login button", "clicked", "login modal");'>
                    注册新账号
            </a>
</div>
<p class="text-muted text-center mb15">登录即表示你同意网站的<a href="/tos" target="_blank">《服务条款》</a></p>        </div>
    </div>
</script>
    <script id="registerModal" type="text/template">
    <div class="row bg-white login-modal">
        <div class="col-md-12 login-wrap">
            
            <form action="/api/user/register" method="POST" role="form" class="mt15">
                <div class="form-group">
                    <label for="name" class="control-label">你的名字</label>
                    <input type="text" class="form-control" name="name" required placeholder="真实姓名或常用昵称">
                </div>
                
                <div class="form-group">
                    <label for="mail" class="control-label">手机号 或 Email</label>
                    <input type="text" class="form-control" id="login-name" name="mail" required placeholder="11 位手机号 或 Email">
                </div>
                
                <input type="text" class="hidden" name="register_type" value="mail">

                <div class="form-group">
                    <div class="phone-register-only hidden">
                        <div class="captchaInput mb10">
                            <input type="text" class="form-control" name="cap" placeholder="右侧的验证码" style="width:50%; display: inline; margin-right: 15px;">
                            <span class="mt10">
                                <a id="loginReloadCaptcha" href="javascript:void(0)">
                                <img src="/user/captcha?w=135&h=34" class="cap" width="135" height="34"/></a>
                            </span>
                        </div>
                        <div class="input-group">
                            <input name="code" type="text" class="form-control js-user-login__phone-code-value" placeholder="短信验证码">
                            <span class="input-group-btn">
                                <button class="btn btn-default js-user-login__phone-vaild-btn" style="width:96px;" type="button">
                                获取验证码</button>
                            </span>
                        </div>
                    </div>
                </div>

                <div class="form-group">
                    <label for="password" class="control-label">密码</label>
                    <input type="password" class="form-control" name="password" required placeholder="不少于 6 位的密码">
                </div>
                <div class="form-group clearfix">
                    <button type="submit" class="btn-block btn btn-primary pl20 pr20 pull-right"
                            onclick='ga("send", "event", "email register button", "clicked", "login modal");'>注册
                    </button>
                </div>
                                <div class="text-muted text-center more-login-area">
    <span class="more-login-words">更多登录方式</span>
</div>
<div class="widget-login mb15 text-center">
    <a href="/user/oauth/google" class=""
       onclick='ga("send", "event", "3rd login button", "clicked", "login modal", {media: "google"});'><span
                class="icon-sn-google"></span></a>
    <a href="/user/oauth/github" class=""
       onclick='ga("send", "event", "3rd login button", "clicked", "login modal", {media: "github"});");'><span
                class="icon-sn-github"></span></a>
    <a href="/user/oauth/weibo" class=""
       onclick='ga("send", "event", "3rd login button", "clicked", "login modal", {media: "weibo"});'><span
                class="icon-sn-weibo"></span></a>
    <a href="/user/oauth/qq" class=""
       onclick='ga("send", "event", "3rd login button", "clicked", "login modal", {media: "qq"});'><span
                class="icon-sn-qq"></span></a>
    <a href="/user/oauth/weixin" class=""
       onclick='ga("send", "event", "3rd login button", "clicked", "login modal", {media: "qq"});'><span
                class="icon-sn-weixin"></span></a>
    <a href="/user/oauth/linkedin" class=""
       onclick='ga("send", "event", "3rd login button", "clicked", "login modal", {media: "linkedin"});'><span
                class="icon-sn-linkedin"></span></a>
    <span id="loginShowMore" style="cursor: pointer" class="mb5"><span class="icon-sn-dotted"></span></span>
    <a href="/user/oauth/twitter" class=" hidden"
       onclick='ga("send", "event", "3rd login button", "clicked", "login modal", {media: "twitter"});'><span
                class="icon-sn-twitter"></span></a>
    <a href="/user/oauth/facebook" class=" hidden"
       onclick='ga("send", "event", "3rd login button", "clicked", "login modal", {media: "facebook"});'><span
                class="icon-sn-facebook"></span></a>
    <a href="/user/oauth/douban" class=" hidden"
       onclick='ga("send", "event", "3rd login button", "clicked", "login modal", {media: "douban"});'><span
                class="icon-sn-douban"></span></a>
</div>
<div class="form-group clearfix">
    <a class="btn-block btn btn-default pull-right pl20 pr20 
                        SFRegister
             "

            
        onclick='ga("send", "event", "email login button", "clicked", "login modal");'>
                    已有账号登录
            </a>
</div>
<p class="text-muted text-center mb15">登录即表示你同意网站的<a href="/tos" target="_blank">《服务条款》</a></p>            </form>
        </div>
    </div>
</script>
    <script id="phoneLoginModal" type="text/template">

    <div class="row bg-white login-modal phonelogin-modal">
        <div class="col-md-12 login-wrap">
            <form action="/api/user/phonelogin" method="POST" role="form" class="mt15">
                <div class="form-group">
                    <label for="phone" class="control-label required">手机号</label>
                    <input type="text" class="form-control phonelogin--phone" name="phone" tabindex="1" required placeholder="11 位手机号"
                           autocomplete="off">
                    <span class="help-block"></span>
                </div>

                <div class="form-group">
                    <label for="authCode" class="control-label required">验证码</label>
                    <div class="input-group">
                        <input type="text" class="form-control bindphone--code" name="authCode" placeholder="短信验证码">
                        <span class="input-group-btn">
                            <button class="btn btn-default user-bind__phone-vaild-btn" type="button">获取验证码</button>
                        </span>
                    </div>
                    <div class="col-sm-3"></div>
                </div>

                <div class="form-group">
                    <a 
                                                            href="/user/login"
                                class="SFRegister"
                                                >密码登录（手机号或 Email）</a>
                </div>
                <div class="form-group clearfix">
                    <button type="submit" class="btn-block btn btn-primary pull-right pl20 pr20" tabindex="3"
                            onclick='ga("send", "event", "email login button", "clicked", "login modal");'>登录
                    </button>
                </div>
            </form>
            <div class="text-muted text-center more-login-area">
    <span class="more-login-words">更多登录方式</span>
</div>
<div class="widget-login mb15 text-center">
    <a href="/user/oauth/google" class=""
       onclick='ga("send", "event", "3rd login button", "clicked", "login modal", {media: "google"});'><span
                class="icon-sn-google"></span></a>
    <a href="/user/oauth/github" class=""
       onclick='ga("send", "event", "3rd login button", "clicked", "login modal", {media: "github"});");'><span
                class="icon-sn-github"></span></a>
    <a href="/user/oauth/weibo" class=""
       onclick='ga("send", "event", "3rd login button", "clicked", "login modal", {media: "weibo"});'><span
                class="icon-sn-weibo"></span></a>
    <a href="/user/oauth/qq" class=""
       onclick='ga("send", "event", "3rd login button", "clicked", "login modal", {media: "qq"});'><span
                class="icon-sn-qq"></span></a>
    <a href="/user/oauth/weixin" class=""
       onclick='ga("send", "event", "3rd login button", "clicked", "login modal", {media: "qq"});'><span
                class="icon-sn-weixin"></span></a>
    <a href="/user/oauth/linkedin" class=""
       onclick='ga("send", "event", "3rd login button", "clicked", "login modal", {media: "linkedin"});'><span
                class="icon-sn-linkedin"></span></a>
    <span id="loginShowMore" style="cursor: pointer" class="mb5"><span class="icon-sn-dotted"></span></span>
    <a href="/user/oauth/twitter" class=" hidden"
       onclick='ga("send", "event", "3rd login button", "clicked", "login modal", {media: "twitter"});'><span
                class="icon-sn-twitter"></span></a>
    <a href="/user/oauth/facebook" class=" hidden"
       onclick='ga("send", "event", "3rd login button", "clicked", "login modal", {media: "facebook"});'><span
                class="icon-sn-facebook"></span></a>
    <a href="/user/oauth/douban" class=" hidden"
       onclick='ga("send", "event", "3rd login button", "clicked", "login modal", {media: "douban"});'><span
                class="icon-sn-douban"></span></a>
</div>
<div class="form-group clearfix">
    <a class="btn-block btn btn-default pull-right pl20 pr20 
                        SFLogin
             "

            
        onclick='ga("send", "event", "email login button", "clicked", "login modal");'>
                    注册新账号
            </a>
</div>
<p class="text-muted text-center mb15">登录即表示你同意网站的<a href="/tos" target="_blank">《服务条款》</a></p>        </div>
    </div>
</script>
<script id="bindPhoneModal" type="text/template">
    <div class="bg-white bindphone-model">
        <div class="alert alert-warning" role="alert">
            为了保证账号安全，请先绑定手机
        </div>
        <div>
            <form class="form-horizontal form__bindphone-apply" style="background-color:#fff;padding:0;">
                <div class="form-group ">
                    <label for="phoneNumber" class="col-sm-3 control-label required" >手机号码</label>
                    <div class="col-sm-6">
                        <input type="text" class="form-control bindphone--phone" id="phoneNumber" name="phone" placeholder="仅只支持大陆手机号">
                    </div>
                    <div class="col-sm-3"></div>
                </div>
                <div class="form-group">
                    <label for="authCode" class="col-sm-3 control-label required">验证码</label>
                    <div class="col-sm-6">
                        <div class="input-group">
                            <input type="text" class="form-control bindphone--code" name="code" placeholder="短信验证码">
                            <span class="input-group-btn">
                                <button class="btn btn-default user-bind__phone-vaild-btn" type="button">获取验证码</button>
                            </span>
                        </div>
                    </div>
                    <div class="col-sm-3"></div>
                </div>
            </form>
        </div>

    </div>
</script>


<script>
    window.serverTime = 1542686477000;
</script>

<script>
    (function (w) {
        w.SF = {
            staticUrl: "https://static.segmentfault.com/v-5bebf0aa"
        };
        w.SF.token = (function () {
    var _nZSv = //'6'
'6'+//'J'
'5'+'f'//'BLx'
+''///*'VTc'*/'VTc'
+//'a'
'b1'+''///*'eu'*/'eu'
+'94'//'l63'
+//'V'
'ccd'+''///*'NSc'*/'NSc'
+//'P'
'f5'+/* 'Rrr'//'Rrr' */''+//'gD'
'15'+'8'//'ICg'
+'1e'//'po'
+''///*'g'*/'g'
+//'r'
'0c'+'74c'//'ZWT'
+'661'//'xnl'
+//'C'
'5'+'ead'//'jm6'
+''///*'KWW'*/'KWW'
+//'G8'
'G8'+''///*'8o'*/'8o'
+//'h'
'52'+'ca'//'M'
, _oLP99x = [[0,1],[28,30]];

    for (var i = 0; i < _oLP99x.length; i ++) {
        _nZSv = _nZSv.substring(0, _oLP99x[i][0]) + _nZSv.substring(_oLP99x[i][1]);
    }

    return _nZSv;
})();;
    })(window);

                var lock = {
        type: "",
        text: '',
        table: {"ban_post":[1,"\u4f60\u5df2\u7ecf\u88ab\u7981\u8a00, \u65e0\u6cd5\u8fdb\u884c\u6b64\u64cd\u4f5c, \u5982\u6709\u7591\u4e49\u8bf7\u63d0\u4ea4\u7533\u8bc9, \u6216\u8005\u53d1\u90ae\u4ef6\u5230pr@segmentfault.com"]}
    };

        var ddosMode = false;
    
        (function (currentUrl) {
        if (typeof URL != 'undefined') {
            var baseUrl = new URL('https://segmentfault.com');

            if (baseUrl.protocol != currentUrl.protocol
                || baseUrl.host != currentUrl.host) {
                window.location.href = baseUrl.protocol + '//' + baseUrl.host
                    + currentUrl.pathname + currentUrl.search + currentUrl.hash;
            }
        }
    })(window.location);
    </script>

             <script crossorigin src="https://static.segmentfault.com/v-5bebf0aa/3rd/assets.js"></script>
                 
        <script crossorigin src="https://static.segmentfault.com/v-5bebf0aa/blog/script/post.min.js"></script>
            

<script>
if (!!navigator.userAgent.match(/MicroMessenger/i)) {
    require.config({
        paths: { weixin_jsapi: '//res.wx.qq.com/open/js/jweixin-1.2.0' }
    });

    require(['weixin_jsapi'], function (wx) {
        var share = {"title":"\u5f00\u53d1\u62fe\u9057","desc":"\/\/ chrome\u540c\u65f6\u652f\u6301'-'\u548c'\/'\u5206\u5272\u65e5\u671f\u7684\u65f6\u95f4\u5b57\u7b26\u4e32\uff1bsafari\u4e0d\u652f\u6301'-'\u5206\u5272\u65e5\u671f\u7684\u65f6\u95f4\u5b57\u7b26\u4e32","link":"https:\/\/segmentfault.com\/a\/1190000005128780","imgUrl":"https:\/\/segmentfault.com\/img\/bVvGoP"};
        share.title += ' - SegmentFault 思否';

        $.getJSON('/api/util/weixin/jsapi', function (o) {
            methods = o.data.jsApiList.slice();

            wx.config(o.data);
            wx.error(console.error);
            wx.ready(function () {
                methods.forEach(function (method) {
                    wx[method](share);
                });
            });
        });
    });
}
</script>

<script>
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-918487-8']);
    _gaq.push(['_trackPageview']);
    (function (i, s, o, g, r, a, m) {
        i['GoogleAnalyticsObject'] = r;
        i[r] = i[r] || function () {
                    (i[r].q = i[r].q || []).push(arguments)
                }, i[r].l = 1 * new Date();
        a = s.createElement(o),
                m = s.getElementsByTagName(o)[0];
        a.async = 1;
        a.src = g;
        m.parentNode.insertBefore(a, m)
    })(window, document, 'script', '//www.google-analytics.com/analytics.js', 'ga');

                
        

            

    ga('create', 'UA-918487-8', 'auto', {
        'userID'
    : 0,
        'createdTime'
    : 0,
        'now'
    : 1542686478,
        'allowLinker'
    : true });
    ga('require', 'linker');
    ga('linker:autoLink', ['docs.segmentfault.com'] );
    ga('set', 'dimension1', 'guest');
    ga('send', 'pageview');

</script>

<script>
    var _hmt = _hmt || [];
    (function () {
        var hm = document.createElement("script");
        hm.src = "//hm.baidu.com/hm.js?e23800c454aa573c0ccb16b52665ac26";
        var s = document.getElementsByTagName("script")[0];
        s.parentNode.insertBefore(hm, s);
    })();
</script>



</body>
</html>

